(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function vA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var vp={exports:{}},Hl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_;function yA(){if(M_)return Hl;M_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:i,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Hl.Fragment=e,Hl.jsx=t,Hl.jsxs=t,Hl}var O_;function _A(){return O_||(O_=1,vp.exports=yA()),vp.exports}var w=_A(),yp={exports:{}},ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function EA(){if(D_)return ke;D_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function S(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,j={};function k(P,ie,he){this.props=P,this.context=ie,this.refs=j,this.updater=he||I}k.prototype.isReactComponent={},k.prototype.setState=function(P,ie){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ie,"setState")},k.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function z(){}z.prototype=k.prototype;function F(P,ie,he){this.props=P,this.context=ie,this.refs=j,this.updater=he||I}var X=F.prototype=new z;X.constructor=F,R(X,k.prototype),X.isPureReactComponent=!0;var Y=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},ee=Object.prototype.hasOwnProperty;function M(P,ie,he,ne,pe,J){return he=J.ref,{$$typeof:i,type:P,key:ie,ref:he!==void 0?he:null,props:J}}function x(P,ie){return M(P.type,ie,void 0,void 0,void 0,P.props)}function A(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function D(P){var ie={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(he){return ie[he]})}var N=/\/+/g;function U(P,ie){return typeof P=="object"&&P!==null&&P.key!=null?D(""+P.key):ie.toString(36)}function O(){}function Se(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(O,O):(P.status="pending",P.then(function(ie){P.status==="pending"&&(P.status="fulfilled",P.value=ie)},function(ie){P.status==="pending"&&(P.status="rejected",P.reason=ie)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function ye(P,ie,he,ne,pe){var J=typeof P;(J==="undefined"||J==="boolean")&&(P=null);var ge=!1;if(P===null)ge=!0;else switch(J){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(P.$$typeof){case i:case e:ge=!0;break;case _:return ge=P._init,ye(ge(P._payload),ie,he,ne,pe)}}if(ge)return pe=pe(P),ge=ne===""?"."+U(P,0):ne,Y(pe)?(he="",ge!=null&&(he=ge.replace(N,"$&/")+"/"),ye(pe,ie,he,"",function(tt){return tt})):pe!=null&&(A(pe)&&(pe=x(pe,he+(pe.key==null||P&&P.key===pe.key?"":(""+pe.key).replace(N,"$&/")+"/")+ge)),ie.push(pe)),1;ge=0;var De=ne===""?".":ne+":";if(Y(P))for(var ve=0;ve<P.length;ve++)ne=P[ve],J=De+U(ne,ve),ge+=ye(ne,ie,he,J,pe);else if(ve=S(P),typeof ve=="function")for(P=ve.call(P),ve=0;!(ne=P.next()).done;)ne=ne.value,J=De+U(ne,ve++),ge+=ye(ne,ie,he,J,pe);else if(J==="object"){if(typeof P.then=="function")return ye(Se(P),ie,he,ne,pe);throw ie=String(P),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return ge}function Q(P,ie,he){if(P==null)return P;var ne=[],pe=0;return ye(P,ne,"","",function(J){return ie.call(he,J,pe++)}),ne}function ce(P){if(P._status===-1){var ie=P._result;ie=ie(),ie.then(function(he){(P._status===0||P._status===-1)&&(P._status=1,P._result=he)},function(he){(P._status===0||P._status===-1)&&(P._status=2,P._result=he)}),P._status===-1&&(P._status=0,P._result=ie)}if(P._status===1)return P._result.default;throw P._result}var fe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Te(){}return ke.Children={map:Q,forEach:function(P,ie,he){Q(P,function(){ie.apply(this,arguments)},he)},count:function(P){var ie=0;return Q(P,function(){ie++}),ie},toArray:function(P){return Q(P,function(ie){return ie})||[]},only:function(P){if(!A(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},ke.Component=k,ke.Fragment=t,ke.Profiler=a,ke.PureComponent=F,ke.StrictMode=r,ke.Suspense=p,ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,ke.__COMPILER_RUNTIME={__proto__:null,c:function(P){return H.H.useMemoCache(P)}},ke.cache=function(P){return function(){return P.apply(null,arguments)}},ke.cloneElement=function(P,ie,he){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var ne=R({},P.props),pe=P.key,J=void 0;if(ie!=null)for(ge in ie.ref!==void 0&&(J=void 0),ie.key!==void 0&&(pe=""+ie.key),ie)!ee.call(ie,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&ie.ref===void 0||(ne[ge]=ie[ge]);var ge=arguments.length-2;if(ge===1)ne.children=he;else if(1<ge){for(var De=Array(ge),ve=0;ve<ge;ve++)De[ve]=arguments[ve+2];ne.children=De}return M(P.type,pe,void 0,void 0,J,ne)},ke.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},ke.createElement=function(P,ie,he){var ne,pe={},J=null;if(ie!=null)for(ne in ie.key!==void 0&&(J=""+ie.key),ie)ee.call(ie,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(pe[ne]=ie[ne]);var ge=arguments.length-2;if(ge===1)pe.children=he;else if(1<ge){for(var De=Array(ge),ve=0;ve<ge;ve++)De[ve]=arguments[ve+2];pe.children=De}if(P&&P.defaultProps)for(ne in ge=P.defaultProps,ge)pe[ne]===void 0&&(pe[ne]=ge[ne]);return M(P,J,void 0,void 0,null,pe)},ke.createRef=function(){return{current:null}},ke.forwardRef=function(P){return{$$typeof:d,render:P}},ke.isValidElement=A,ke.lazy=function(P){return{$$typeof:_,_payload:{_status:-1,_result:P},_init:ce}},ke.memo=function(P,ie){return{$$typeof:m,type:P,compare:ie===void 0?null:ie}},ke.startTransition=function(P){var ie=H.T,he={};H.T=he;try{var ne=P(),pe=H.S;pe!==null&&pe(he,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(Te,fe)}catch(J){fe(J)}finally{H.T=ie}},ke.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},ke.use=function(P){return H.H.use(P)},ke.useActionState=function(P,ie,he){return H.H.useActionState(P,ie,he)},ke.useCallback=function(P,ie){return H.H.useCallback(P,ie)},ke.useContext=function(P){return H.H.useContext(P)},ke.useDebugValue=function(){},ke.useDeferredValue=function(P,ie){return H.H.useDeferredValue(P,ie)},ke.useEffect=function(P,ie,he){var ne=H.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ne.useEffect(P,ie)},ke.useId=function(){return H.H.useId()},ke.useImperativeHandle=function(P,ie,he){return H.H.useImperativeHandle(P,ie,he)},ke.useInsertionEffect=function(P,ie){return H.H.useInsertionEffect(P,ie)},ke.useLayoutEffect=function(P,ie){return H.H.useLayoutEffect(P,ie)},ke.useMemo=function(P,ie){return H.H.useMemo(P,ie)},ke.useOptimistic=function(P,ie){return H.H.useOptimistic(P,ie)},ke.useReducer=function(P,ie,he){return H.H.useReducer(P,ie,he)},ke.useRef=function(P){return H.H.useRef(P)},ke.useState=function(P){return H.H.useState(P)},ke.useSyncExternalStore=function(P,ie,he){return H.H.useSyncExternalStore(P,ie,he)},ke.useTransition=function(){return H.H.useTransition()},ke.version="19.1.0",ke}var N_;function _g(){return N_||(N_=1,yp.exports=EA()),yp.exports}var y=_g();const ra=vA(y);var _p={exports:{}},Fl={},Ep={exports:{}},bp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P_;function bA(){return P_||(P_=1,function(i){function e(Q,ce){var fe=Q.length;Q.push(ce);e:for(;0<fe;){var Te=fe-1>>>1,P=Q[Te];if(0<a(P,ce))Q[Te]=ce,Q[fe]=P,fe=Te;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ce=Q[0],fe=Q.pop();if(fe!==ce){Q[0]=fe;e:for(var Te=0,P=Q.length,ie=P>>>1;Te<ie;){var he=2*(Te+1)-1,ne=Q[he],pe=he+1,J=Q[pe];if(0>a(ne,fe))pe<P&&0>a(J,ne)?(Q[Te]=J,Q[pe]=fe,Te=pe):(Q[Te]=ne,Q[he]=fe,Te=he);else if(pe<P&&0>a(J,fe))Q[Te]=J,Q[pe]=fe,Te=pe;else break e}}return ce}function a(Q,ce){var fe=Q.sortIndex-ce.sortIndex;return fe!==0?fe:Q.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var p=[],m=[],_=1,T=null,S=3,I=!1,R=!1,j=!1,k=!1,z=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function Y(Q){for(var ce=t(m);ce!==null;){if(ce.callback===null)r(m);else if(ce.startTime<=Q)r(m),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=t(m)}}function H(Q){if(j=!1,Y(Q),!R)if(t(p)!==null)R=!0,ee||(ee=!0,U());else{var ce=t(m);ce!==null&&ye(H,ce.startTime-Q)}}var ee=!1,M=-1,x=5,A=-1;function D(){return k?!0:!(i.unstable_now()-A<x)}function N(){if(k=!1,ee){var Q=i.unstable_now();A=Q;var ce=!0;try{e:{R=!1,j&&(j=!1,F(M),M=-1),I=!0;var fe=S;try{t:{for(Y(Q),T=t(p);T!==null&&!(T.expirationTime>Q&&D());){var Te=T.callback;if(typeof Te=="function"){T.callback=null,S=T.priorityLevel;var P=Te(T.expirationTime<=Q);if(Q=i.unstable_now(),typeof P=="function"){T.callback=P,Y(Q),ce=!0;break t}T===t(p)&&r(p),Y(Q)}else r(p);T=t(p)}if(T!==null)ce=!0;else{var ie=t(m);ie!==null&&ye(H,ie.startTime-Q),ce=!1}}break e}finally{T=null,S=fe,I=!1}ce=void 0}}finally{ce?U():ee=!1}}}var U;if(typeof X=="function")U=function(){X(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Se=O.port2;O.port1.onmessage=N,U=function(){Se.postMessage(null)}}else U=function(){z(N,0)};function ye(Q,ce){M=z(function(){Q(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Q){Q.callback=null},i.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<Q?Math.floor(1e3/Q):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var ce=3;break;default:ce=S}var fe=S;S=ce;try{return Q()}finally{S=fe}},i.unstable_requestPaint=function(){k=!0},i.unstable_runWithPriority=function(Q,ce){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var fe=S;S=Q;try{return ce()}finally{S=fe}},i.unstable_scheduleCallback=function(Q,ce,fe){var Te=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Te+fe:Te):fe=Te,Q){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=fe+P,Q={id:_++,callback:ce,priorityLevel:Q,startTime:fe,expirationTime:P,sortIndex:-1},fe>Te?(Q.sortIndex=fe,e(m,Q),t(p)===null&&Q===t(m)&&(j?(F(M),M=-1):j=!0,ye(H,fe-Te))):(Q.sortIndex=P,e(p,Q),R||I||(R=!0,ee||(ee=!0,U()))),Q},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(Q){var ce=S;return function(){var fe=S;S=ce;try{return Q.apply(this,arguments)}finally{S=fe}}}}(bp)),bp}var k_;function TA(){return k_||(k_=1,Ep.exports=bA()),Ep.exports}var Tp={exports:{}},on={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function SA(){if(V_)return on;V_=1;var i=_g();function e(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(p,m,_){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:p,containerInfo:m,implementation:_}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return on.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,on.createPortal=function(p,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(p,m,null,_)},on.flushSync=function(p){var m=c.T,_=r.p;try{if(c.T=null,r.p=2,p)return p()}finally{c.T=m,r.p=_,r.d.f()}},on.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(p,m))},on.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},on.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var _=m.as,T=d(_,m.crossOrigin),S=typeof m.integrity=="string"?m.integrity:void 0,I=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:I}):_==="script"&&r.d.X(p,{crossOrigin:T,integrity:S,fetchPriority:I,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},on.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=d(m.as,m.crossOrigin);r.d.M(p,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(p)},on.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,T=d(_,m.crossOrigin);r.d.L(p,_,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},on.preloadModule=function(p,m){if(typeof p=="string")if(m){var _=d(m.as,m.crossOrigin);r.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(p)},on.requestFormReset=function(p){r.d.r(p)},on.unstable_batchedUpdates=function(p,m){return p(m)},on.useFormState=function(p,m,_){return c.H.useFormState(p,m,_)},on.useFormStatus=function(){return c.H.useHostTransitionStatus()},on.version="19.1.0",on}var U_;function Ub(){if(U_)return Tp.exports;U_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tp.exports=SA(),Tp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function wA(){if(j_)return Fl;j_=1;var i=TA(),e=_g(),t=Ub();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(r(188))}function p(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===o)return d(f),n;if(g===u)return d(f),s;g=g.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=g;else{for(var b=!1,C=f.child;C;){if(C===o){b=!0,o=f,u=g;break}if(C===u){b=!0,u=f,o=g;break}C=C.sibling}if(!b){for(C=g.child;C;){if(C===o){b=!0,o=g,u=f;break}if(C===u){b=!0,u=g,o=f;break}C=C.sibling}if(!b)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function m(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=m(n),s!==null)return s;n=n.sibling}return null}var _=Object.assign,T=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),F=Symbol.for("react.consumer"),X=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=N&&n[N]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function Se(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case R:return"Fragment";case k:return"Profiler";case j:return"StrictMode";case H:return"Suspense";case ee:return"SuspenseList";case A:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case I:return"Portal";case X:return(n.displayName||"Context")+".Provider";case F:return(n._context.displayName||"Context")+".Consumer";case Y:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return s=n.displayName||null,s!==null?s:Se(n.type)||"Memo";case x:s=n._payload,n=n._init;try{return Se(n(s))}catch{}}return null}var ye=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Te=[],P=-1;function ie(n){return{current:n}}function he(n){0>P||(n.current=Te[P],Te[P]=null,P--)}function ne(n,s){P++,Te[P]=n.current,n.current=s}var pe=ie(null),J=ie(null),ge=ie(null),De=ie(null);function ve(n,s){switch(ne(ge,s),ne(J,n),ne(pe,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?s_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=s_(s),n=a_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}he(pe),ne(pe,n)}function tt(){he(pe),he(J),he(ge)}function we(n){n.memoizedState!==null&&ne(De,n);var s=pe.current,o=a_(s,n.type);s!==o&&(ne(J,n),ne(pe,o))}function Pe(n){J.current===n&&(he(pe),he(J)),De.current===n&&(he(De),Ul._currentValue=fe)}var Dt=Object.prototype.hasOwnProperty,$t=i.unstable_scheduleCallback,En=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Es=i.unstable_requestPaint,Qt=i.unstable_now,ya=i.unstable_getCurrentPriorityLevel,ci=i.unstable_ImmediatePriority,Bi=i.unstable_UserBlockingPriority,Mn=i.unstable_NormalPriority,_a=i.unstable_LowPriority,Wn=i.unstable_IdlePriority,wr=i.log,bs=i.unstable_setDisableYieldValue,pt=null,Qe=null;function rn(n){if(typeof wr=="function"&&bs(n),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(pt,n)}catch{}}var Tt=Math.clz32?Math.clz32:hi,Ts=Math.log,Cr=Math.LN2;function hi(n){return n>>>=0,n===0?32:31-(Ts(n)/Cr|0)|0}var On=256,fi=4194304;function sn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function zi(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,g=n.suspendedLanes,b=n.pingedLanes;n=n.warmLanes;var C=u&134217727;return C!==0?(u=C&~g,u!==0?f=sn(u):(b&=C,b!==0?f=sn(b):o||(o=C&~n,o!==0&&(f=sn(o))))):(C=u&~g,C!==0?f=sn(C):b!==0?f=sn(b):o||(o=u&~n,o!==0&&(f=sn(o)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,o=s&-s,g>=o||g===32&&(o&4194048)!==0)?s:f}function Dn(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Ar(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function di(){var n=On;return On<<=1,(On&4194048)===0&&(On=256),n}function Rr(){var n=fi;return fi<<=1,(fi&62914560)===0&&(fi=4194304),n}function Nn(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Pn(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function pi(n,s,o,u,f,g){var b=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var C=n.entanglements,V=n.expirationTimes,$=n.hiddenUpdates;for(o=b&~o;0<o;){var se=31-Tt(o),oe=1<<se;C[se]=0,V[se]=-1;var Z=$[se];if(Z!==null)for($[se]=null,se=0;se<Z.length;se++){var W=Z[se];W!==null&&(W.lane&=-536870913)}o&=~oe}u!==0&&bn(n,u,0),g!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=g&~(b&~s))}function bn(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Tt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function gi(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-Tt(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function Jn(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ei(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function ti(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:C_(n.type))}function Ea(n,s){var o=ce.p;try{return ce.p=n,s()}finally{ce.p=o}}var it=Math.random().toString(36).slice(2),be="__reactFiber$"+it,Rt="__reactProps$"+it,kn="__reactContainer$"+it,Ho="__reactEvents$"+it,Ef="__reactListeners$"+it,Lr="__reactHandles$"+it,xu="__reactResources$"+it,Ss="__reactMarker$"+it;function Ir(n){delete n[be],delete n[Rt],delete n[Ho],delete n[Ef],delete n[Lr]}function qi(n){var s=n[be];if(s)return s;for(var o=n.parentNode;o;){if(s=o[kn]||o[be]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=c_(n);n!==null;){if(o=n[be])return o;n=c_(n)}return s}n=o,o=n.parentNode}return null}function mi(n){if(n=n[be]||n[kn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function vi(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function fn(n){var s=n[xu];return s||(s=n[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function St(n){n[Ss]=!0}var Fo=new Set,ba={};function ni(n,s){Hi(n,s),Hi(n+"Capture",s)}function Hi(n,s){for(ba[n]=s,n=0;n<s.length;n++)Fo.add(s[n])}var Mu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ou={},ws={};function Du(n){return Dt.call(ws,n)?!0:Dt.call(Ou,n)?!1:Mu.test(n)?ws[n]=!0:(Ou[n]=!0,!1)}function xr(n,s,o){if(Du(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function yi(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Yt(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}var Cs,Nu;function Fi(n){if(Cs===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Cs=s&&s[1]||"",Nu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cs+n+Nu}var Ta=!1;function Sa(n,s){if(!n||Ta)return"";Ta=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var oe=function(){throw Error()};if(Object.defineProperty(oe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(oe,[])}catch(W){var Z=W}Reflect.construct(n,[],oe)}else{try{oe.call()}catch(W){Z=W}n.call(oe.prototype)}}else{try{throw Error()}catch(W){Z=W}(oe=n())&&typeof oe.catch=="function"&&oe.catch(function(){})}}catch(W){if(W&&Z&&typeof W.stack=="string")return[W.stack,Z.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),b=g[0],C=g[1];if(b&&C){var V=b.split(`
`),$=C.split(`
`);for(f=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(u===V.length||f===$.length)for(u=V.length-1,f=$.length-1;1<=u&&0<=f&&V[u]!==$[f];)f--;for(;1<=u&&0<=f;u--,f--)if(V[u]!==$[f]){if(u!==1||f!==1)do if(u--,f--,0>f||V[u]!==$[f]){var se=`
`+V[u].replace(" at new "," at ");return n.displayName&&se.includes("<anonymous>")&&(se=se.replace("<anonymous>",n.displayName)),se}while(1<=u&&0<=f);break}}}finally{Ta=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Fi(o):""}function Go(n){switch(n.tag){case 26:case 27:case 5:return Fi(n.type);case 16:return Fi("Lazy");case 13:return Fi("Suspense");case 19:return Fi("SuspenseList");case 0:case 15:return Sa(n.type,!1);case 11:return Sa(n.type.render,!1);case 1:return Sa(n.type,!0);case 31:return Fi("Activity");default:return""}}function wa(n){try{var s="";do s+=Go(n),n=n.return;while(n);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Ko(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function bf(n){var s=Ko(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,g=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,g.call(this,b)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ca(n){n._valueTracker||(n._valueTracker=bf(n))}function $o(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Ko(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function As(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Tf=/[\n"\\]/g;function Lt(n){return n.replace(Tf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Tn(n,s,o,u,f,g,b,C){n.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.type=b:n.removeAttribute("type"),s!=null?b==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+dn(s)):n.value!==""+dn(s)&&(n.value=""+dn(s)):b!=="submit"&&b!=="reset"||n.removeAttribute("value"),s!=null?Mr(n,b,dn(s)):o!=null?Mr(n,b,dn(o)):u!=null&&n.removeAttribute("value"),f==null&&g!=null&&(n.defaultChecked=!!g),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?n.name=""+dn(C):n.removeAttribute("name")}function Rs(n,s,o,u,f,g,b,C){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),s!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;o=o!=null?""+dn(o):"",s=s!=null?""+dn(s):o,C||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=C?n.checked:!!u,n.defaultChecked=!!u,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(n.name=b)}function Mr(n,s,o){s==="number"&&As(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Gi(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+dn(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function lt(n,s,o){if(s!=null&&(s=""+dn(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+dn(o):""}function Ls(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ye(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=dn(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Vn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Is=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Is.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Qo(n,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Pu(n,f,u)}else for(var g in s)s.hasOwnProperty(g)&&Pu(n,g,s[g])}function Yo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(n){return wf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Ki=null;function Un(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var $i=null,Qi=null;function Zo(n){var s=mi(n);if(s&&(n=s.stateNode)){var o=n[Rt]||null;e:switch(n=s.stateNode,s.type){case"input":if(Tn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Lt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[Rt]||null;if(!f)throw Error(r(90));Tn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&$o(u)}break e;case"textarea":lt(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Gi(n,!!o.multiple,s,!1)}}}var _i=!1;function ku(n,s,o){if(_i)return n(s,o);_i=!0;try{var u=n(s);return u}finally{if(_i=!1,($i!==null||Qi!==null)&&(Ic(),$i&&(s=$i,n=Qi,Qi=$i=null,Zo(s),n)))for(s=0;s<n.length;s++)Zo(n[s])}}function xs(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Rt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jn=!1;if(ii)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){jn=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{jn=!1}var Ei=null,Or=null,Yi=null;function Xo(){if(Yi)return Yi;var n,s=Or,o=s.length,u,f="value"in Ei?Ei.value:Ei.textContent,g=f.length;for(n=0;n<o&&s[n]===f[n];n++);var b=o-n;for(u=1;u<=b&&s[o-u]===f[g-u];u++);return Yi=f.slice(n,1<u?1-u:void 0)}function bi(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Ti(){return!0}function Wo(){return!1}function zt(n){function s(o,u,f,g,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=b,this.currentTarget=null;for(var C in n)n.hasOwnProperty(C)&&(o=n[C],this[C]=o?o(g):g[C]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ti:Wo,this.isPropagationStopped=Wo,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ti)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ti)},persist:function(){},isPersistent:Ti}),s}var rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=zt(rt),Os=_({},rt,{view:0,detail:0}),Vu=zt(Os),La,Ia,Si,Ds=_({},Os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Si&&(Si&&n.type==="mousemove"?(La=n.screenX-Si.screenX,Ia=n.screenY-Si.screenY):Ia=La=0,Si=n),La)},movementY:function(n){return"movementY"in n?n.movementY:Ia}}),Bn=zt(Ds),Uu=_({},Ds,{dataTransfer:0}),Cf=zt(Uu),Ns=_({},Os,{relatedTarget:0}),xa=zt(Ns),Jo=_({},rt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ma=zt(Jo),ju=_({},rt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Oa=zt(ju),Af=_({},rt,{data:0}),el=zt(Af),Ps={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=zu[n])?!!s[n]:!1}function ks(){return tl}var qu=_({},Os,{key:function(n){if(n.key){var s=Ps[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=bi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Bu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(n){return n.type==="keypress"?bi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?bi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Da=zt(qu),Hu=_({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=zt(Hu),Zi=_({},Os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),Fu=zt(Zi),Gu=_({},rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=zt(Gu),$u=_({},Ds,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Na=zt($u),pn=_({},rt,{newState:0,oldState:0}),Qu=zt(pn),Yu=[9,13,27,32],wi=ii&&"CompositionEvent"in window,h=null;ii&&"documentMode"in document&&(h=document.documentMode);var v=ii&&"TextEvent"in window&&!h,E=ii&&(!wi||h&&8<h&&11>=h),L=" ",G=!1;function te(n,s){switch(n){case"keyup":return Yu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function de(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ye=!1;function Nt(n,s){switch(n){case"compositionend":return de(s);case"keypress":return s.which!==32?null:(G=!0,L);case"textInput":return n=s.data,n===L&&G?null:n;default:return null}}function Ze(n,s){if(Ye)return n==="compositionend"||!wi&&te(n,s)?(n=Xo(),Yi=Or=Ei=null,Ye=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return E&&s.locale!=="ko"?null:s.data;default:return null}}var qt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!qt[n.type]:s==="textarea"}function Xi(n,s,o,u){$i?Qi?Qi.push(u):Qi=[u]:$i=u,s=Pc(s,"onChange"),0<s.length&&(o=new Ra("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Zt=null,Ci=null;function il(n){e_(n,0)}function Zu(n){var s=vi(n);if($o(s))return n}function bm(n,s){if(n==="change")return s}var Tm=!1;if(ii){var Rf;if(ii){var Lf="oninput"in document;if(!Lf){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),Lf=typeof Sm.oninput=="function"}Rf=Lf}else Rf=!1;Tm=Rf&&(!document.documentMode||9<document.documentMode)}function wm(){Zt&&(Zt.detachEvent("onpropertychange",Cm),Ci=Zt=null)}function Cm(n){if(n.propertyName==="value"&&Zu(Ci)){var s=[];Xi(s,Ci,n,Un(n)),ku(il,s)}}function $w(n,s,o){n==="focusin"?(wm(),Zt=s,Ci=o,Zt.attachEvent("onpropertychange",Cm)):n==="focusout"&&wm()}function Qw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zu(Ci)}function Yw(n,s){if(n==="click")return Zu(s)}function Zw(n,s){if(n==="input"||n==="change")return Zu(s)}function Xw(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Sn=typeof Object.is=="function"?Object.is:Xw;function rl(n,s){if(Sn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Dt.call(s,f)||!Sn(n[f],s[f]))return!1}return!0}function Am(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Rm(n,s){var o=Am(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Am(o)}}function Lm(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Lm(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Im(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=As(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=As(n.document)}return s}function If(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var Ww=ii&&"documentMode"in document&&11>=document.documentMode,Pa=null,xf=null,sl=null,Mf=!1;function xm(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Mf||Pa==null||Pa!==As(u)||(u=Pa,"selectionStart"in u&&If(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),sl&&rl(sl,u)||(sl=u,u=Pc(xf,"onSelect"),0<u.length&&(s=new Ra("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=Pa)))}function Vs(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var ka={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},Of={},Mm={};ii&&(Mm=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Us(n){if(Of[n])return Of[n];if(!ka[n])return n;var s=ka[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Mm)return Of[n]=s[o];return n}var Om=Us("animationend"),Dm=Us("animationiteration"),Nm=Us("animationstart"),Jw=Us("transitionrun"),eC=Us("transitionstart"),tC=Us("transitioncancel"),Pm=Us("transitionend"),km=new Map,Df="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Df.push("scrollEnd");function ri(n,s){km.set(n,s),ni(s,[n])}var Vm=new WeakMap;function zn(n,s){if(typeof n=="object"&&n!==null){var o=Vm.get(n);return o!==void 0?o:(s={value:n,source:s,stack:wa(s)},Vm.set(n,s),s)}return{value:n,source:s,stack:wa(s)}}var qn=[],Va=0,Nf=0;function Xu(){for(var n=Va,s=Nf=Va=0;s<n;){var o=qn[s];qn[s++]=null;var u=qn[s];qn[s++]=null;var f=qn[s];qn[s++]=null;var g=qn[s];if(qn[s++]=null,u!==null&&f!==null){var b=u.pending;b===null?f.next=f:(f.next=b.next,b.next=f),u.pending=f}g!==0&&Um(o,f,g)}}function Wu(n,s,o,u){qn[Va++]=n,qn[Va++]=s,qn[Va++]=o,qn[Va++]=u,Nf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Pf(n,s,o,u){return Wu(n,s,o,u),Ju(n)}function Ua(n,s){return Wu(n,null,null,s),Ju(n)}function Um(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,g=n.return;g!==null;)g.childLanes|=o,u=g.alternate,u!==null&&(u.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(f=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,f&&s!==null&&(f=31-Tt(o),n=g.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),g):null}function Ju(n){if(50<xl)throw xl=0,zd=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var ja={};function nC(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(n,s,o,u){return new nC(n,s,o,u)}function kf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wi(n,s){var o=n.alternate;return o===null?(o=wn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function jm(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function ec(n,s,o,u,f,g){var b=0;if(u=n,typeof n=="function")kf(n)&&(b=1);else if(typeof n=="string")b=rA(n,o,pe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case A:return n=wn(31,o,s,f),n.elementType=A,n.lanes=g,n;case R:return js(o.children,f,g,s);case j:b=8,f|=24;break;case k:return n=wn(12,o,s,f|2),n.elementType=k,n.lanes=g,n;case H:return n=wn(13,o,s,f),n.elementType=H,n.lanes=g,n;case ee:return n=wn(19,o,s,f),n.elementType=ee,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:case X:b=10;break e;case F:b=9;break e;case Y:b=11;break e;case M:b=14;break e;case x:b=16,u=null;break e}b=29,o=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=wn(b,o,s,f),s.elementType=n,s.type=u,s.lanes=g,s}function js(n,s,o,u){return n=wn(7,n,u,s),n.lanes=o,n}function Vf(n,s,o){return n=wn(6,n,null,s),n.lanes=o,n}function Uf(n,s,o){return s=wn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Ba=[],za=0,tc=null,nc=0,Hn=[],Fn=0,Bs=null,Ji=1,er="";function zs(n,s){Ba[za++]=nc,Ba[za++]=tc,tc=n,nc=s}function Bm(n,s,o){Hn[Fn++]=Ji,Hn[Fn++]=er,Hn[Fn++]=Bs,Bs=n;var u=Ji;n=er;var f=32-Tt(u)-1;u&=~(1<<f),o+=1;var g=32-Tt(s)+f;if(30<g){var b=f-f%5;g=(u&(1<<b)-1).toString(32),u>>=b,f-=b,Ji=1<<32-Tt(s)+f|o<<f|u,er=g+n}else Ji=1<<g|o<<f|u,er=n}function jf(n){n.return!==null&&(zs(n,1),Bm(n,1,0))}function Bf(n){for(;n===tc;)tc=Ba[--za],Ba[za]=null,nc=Ba[--za],Ba[za]=null;for(;n===Bs;)Bs=Hn[--Fn],Hn[Fn]=null,er=Hn[--Fn],Hn[Fn]=null,Ji=Hn[--Fn],Hn[Fn]=null}var gn=null,Et=null,nt=!1,qs=null,Ai=!1,zf=Error(r(519));function Hs(n){var s=Error(r(418,""));throw ll(zn(s,n)),zf}function zm(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[be]=n,s[Rt]=u,o){case"dialog":He("cancel",s),He("close",s);break;case"iframe":case"object":case"embed":He("load",s);break;case"video":case"audio":for(o=0;o<Ol.length;o++)He(Ol[o],s);break;case"source":He("error",s);break;case"img":case"image":case"link":He("error",s),He("load",s);break;case"details":He("toggle",s);break;case"input":He("invalid",s),Rs(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Ca(s);break;case"select":He("invalid",s);break;case"textarea":He("invalid",s),Ls(s,u.value,u.defaultValue,u.children),Ca(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||r_(s.textContent,o)?(u.popover!=null&&(He("beforetoggle",s),He("toggle",s)),u.onScroll!=null&&He("scroll",s),u.onScrollEnd!=null&&He("scrollend",s),u.onClick!=null&&(s.onclick=kc),s=!0):s=!1,s||Hs(n)}function qm(n){for(gn=n.return;gn;)switch(gn.tag){case 5:case 13:Ai=!1;return;case 27:case 3:Ai=!0;return;default:gn=gn.return}}function al(n){if(n!==gn)return!1;if(!nt)return qm(n),nt=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||ip(n.type,n.memoizedProps)),o=!o),o&&Et&&Hs(n),qm(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(s===0){Et=ai(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;n=n.nextSibling}Et=null}}else s===27?(s=Et,Qr(n.type)?(n=op,op=null,Et=n):Et=s):Et=gn?ai(n.stateNode.nextSibling):null;return!0}function ol(){Et=gn=null,nt=!1}function Hm(){var n=qs;return n!==null&&(yn===null?yn=n:yn.push.apply(yn,n),qs=null),n}function ll(n){qs===null?qs=[n]:qs.push(n)}var qf=ie(null),Fs=null,tr=null;function Dr(n,s,o){ne(qf,s._currentValue),s._currentValue=o}function nr(n){n._currentValue=qf.current,he(qf)}function Hf(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Ff(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var g=f.dependencies;if(g!==null){var b=f.child;g=g.firstContext;e:for(;g!==null;){var C=g;g=f;for(var V=0;V<s.length;V++)if(C.context===s[V]){g.lanes|=o,C=g.alternate,C!==null&&(C.lanes|=o),Hf(g.return,o,n),u||(b=null);break e}g=C.next}}else if(f.tag===18){if(b=f.return,b===null)throw Error(r(341));b.lanes|=o,g=b.alternate,g!==null&&(g.lanes|=o),Hf(b,o,n),b=null}else b=f.child;if(b!==null)b.return=f;else for(b=f;b!==null;){if(b===n){b=null;break}if(f=b.sibling,f!==null){f.return=b.return,b=f;break}b=b.return}f=b}}function ul(n,s,o,u){n=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var b=f.alternate;if(b===null)throw Error(r(387));if(b=b.memoizedProps,b!==null){var C=f.type;Sn(f.pendingProps.value,b.value)||(n!==null?n.push(C):n=[C])}}else if(f===De.current){if(b=f.alternate,b===null)throw Error(r(387));b.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Ul):n=[Ul])}f=f.return}n!==null&&Ff(s,n,o,u),s.flags|=262144}function ic(n){for(n=n.firstContext;n!==null;){if(!Sn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Gs(n){Fs=n,tr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function an(n){return Fm(Fs,n)}function rc(n,s){return Fs===null&&Gs(n),Fm(n,s)}function Fm(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},tr===null){if(n===null)throw Error(r(308));tr=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else tr=tr.next=s;return o}var iC=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},rC=i.unstable_scheduleCallback,sC=i.unstable_NormalPriority,kt={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gf(){return{controller:new iC,data:new Map,refCount:0}}function cl(n){n.refCount--,n.refCount===0&&rC(sC,function(){n.controller.abort()})}var hl=null,Kf=0,qa=0,Ha=null;function aC(n,s){if(hl===null){var o=hl=[];Kf=0,qa=Qd(),Ha={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Kf++,s.then(Gm,Gm),s}function Gm(){if(--Kf===0&&hl!==null){Ha!==null&&(Ha.status="fulfilled");var n=hl;hl=null,qa=0,Ha=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function oC(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Km=Q.S;Q.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&aC(n,s),Km!==null&&Km(n,s)};var Ks=ie(null);function $f(){var n=Ks.current;return n!==null?n:dt.pooledCache}function sc(n,s){s===null?ne(Ks,Ks.current):ne(Ks,s.pool)}function $m(){var n=$f();return n===null?null:{parent:kt._currentValue,pool:n}}var fl=Error(r(460)),Qm=Error(r(474)),ac=Error(r(542)),Qf={then:function(){}};function Ym(n){return n=n.status,n==="fulfilled"||n==="rejected"}function oc(){}function Zm(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(oc,oc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Wm(n),n;default:if(typeof s.status=="string")s.then(oc,oc);else{if(n=dt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Wm(n),n}throw dl=s,fl}}var dl=null;function Xm(){if(dl===null)throw Error(r(459));var n=dl;return dl=null,n}function Wm(n){if(n===fl||n===ac)throw Error(r(483))}var Nr=!1;function Yf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Pr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function kr(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(at&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=Ju(n),Um(n,null,o),s}return Wu(n,u,s,o),Ju(n)}function pl(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,gi(n,o)}}function Xf(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var b={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?f=g=b:g=g.next=b,o=o.next}while(o!==null);g===null?f=g=s:g=g.next=s}else f=g=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var Wf=!1;function gl(){if(Wf){var n=Ha;if(n!==null)throw n}}function ml(n,s,o,u){Wf=!1;var f=n.updateQueue;Nr=!1;var g=f.firstBaseUpdate,b=f.lastBaseUpdate,C=f.shared.pending;if(C!==null){f.shared.pending=null;var V=C,$=V.next;V.next=null,b===null?g=$:b.next=$,b=V;var se=n.alternate;se!==null&&(se=se.updateQueue,C=se.lastBaseUpdate,C!==b&&(C===null?se.firstBaseUpdate=$:C.next=$,se.lastBaseUpdate=V))}if(g!==null){var oe=f.baseState;b=0,se=$=V=null,C=g;do{var Z=C.lane&-536870913,W=Z!==C.lane;if(W?(Xe&Z)===Z:(u&Z)===Z){Z!==0&&Z===qa&&(Wf=!0),se!==null&&(se=se.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var Ie=n,Re=C;Z=s;var ht=o;switch(Re.tag){case 1:if(Ie=Re.payload,typeof Ie=="function"){oe=Ie.call(ht,oe,Z);break e}oe=Ie;break e;case 3:Ie.flags=Ie.flags&-65537|128;case 0:if(Ie=Re.payload,Z=typeof Ie=="function"?Ie.call(ht,oe,Z):Ie,Z==null)break e;oe=_({},oe,Z);break e;case 2:Nr=!0}}Z=C.callback,Z!==null&&(n.flags|=64,W&&(n.flags|=8192),W=f.callbacks,W===null?f.callbacks=[Z]:W.push(Z))}else W={lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},se===null?($=se=W,V=oe):se=se.next=W,b|=Z;if(C=C.next,C===null){if(C=f.shared.pending,C===null)break;W=C,C=W.next,W.next=null,f.lastBaseUpdate=W,f.shared.pending=null}}while(!0);se===null&&(V=oe),f.baseState=V,f.firstBaseUpdate=$,f.lastBaseUpdate=se,g===null&&(f.shared.lanes=0),Fr|=b,n.lanes=b,n.memoizedState=oe}}function Jm(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function ev(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Jm(o[n],s)}var Fa=ie(null),lc=ie(0);function tv(n,s){n=ur,ne(lc,n),ne(Fa,s),ur=n|s.baseLanes}function Jf(){ne(lc,ur),ne(Fa,Fa.current)}function ed(){ur=lc.current,he(Fa),he(lc)}var Vr=0,Ue=null,ut=null,It=null,uc=!1,Ga=!1,$s=!1,cc=0,vl=0,Ka=null,lC=0;function wt(){throw Error(r(321))}function td(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!Sn(n[o],s[o]))return!1;return!0}function nd(n,s,o,u,f,g){return Vr=g,Ue=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Q.H=n===null||n.memoizedState===null?Uv:jv,$s=!1,g=o(u,f),$s=!1,Ga&&(g=iv(s,o,u,f)),nv(n),g}function nv(n){Q.H=mc;var s=ut!==null&&ut.next!==null;if(Vr=0,It=ut=Ue=null,uc=!1,vl=0,Ka=null,s)throw Error(r(300));n===null||Ht||(n=n.dependencies,n!==null&&ic(n)&&(Ht=!0))}function iv(n,s,o,u){Ue=n;var f=0;do{if(Ga&&(Ka=null),vl=0,Ga=!1,25<=f)throw Error(r(301));if(f+=1,It=ut=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=gC,g=s(o,u)}while(Ga);return g}function uC(){var n=Q.H,s=n.useState()[0];return s=typeof s.then=="function"?yl(s):s,n=n.useState()[0],(ut!==null?ut.memoizedState:null)!==n&&(Ue.flags|=1024),s}function id(){var n=cc!==0;return cc=0,n}function rd(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function sd(n){if(uc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}uc=!1}Vr=0,It=ut=Ue=null,Ga=!1,vl=cc=0,Ka=null}function mn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ue.memoizedState=It=n:It=It.next=n,It}function xt(){if(ut===null){var n=Ue.alternate;n=n!==null?n.memoizedState:null}else n=ut.next;var s=It===null?Ue.memoizedState:It.next;if(s!==null)It=s,ut=n;else{if(n===null)throw Ue.alternate===null?Error(r(467)):Error(r(310));ut=n,n={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},It===null?Ue.memoizedState=It=n:It=It.next=n}return It}function ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(n){var s=vl;return vl+=1,Ka===null&&(Ka=[]),n=Zm(Ka,n,s),s=Ue,(It===null?s.memoizedState:It.next)===null&&(s=s.alternate,Q.H=s===null||s.memoizedState===null?Uv:jv),n}function hc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return yl(n);if(n.$$typeof===X)return an(n)}throw Error(r(438,String(n)))}function od(n){var s=null,o=Ue.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Ue.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=ad(),Ue.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=D;return s.index++,o}function ir(n,s){return typeof s=="function"?s(n):s}function fc(n){var s=xt();return ld(s,ut,n)}function ld(n,s,o){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=n.baseQueue,g=u.pending;if(g!==null){if(f!==null){var b=f.next;f.next=g.next,g.next=b}s.baseQueue=f=g,u.pending=null}if(g=n.baseState,f===null)n.memoizedState=g;else{s=f.next;var C=b=null,V=null,$=s,se=!1;do{var oe=$.lane&-536870913;if(oe!==$.lane?(Xe&oe)===oe:(Vr&oe)===oe){var Z=$.revertLane;if(Z===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),oe===qa&&(se=!0);else if((Vr&Z)===Z){$=$.next,Z===qa&&(se=!0);continue}else oe={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(C=V=oe,b=g):V=V.next=oe,Ue.lanes|=Z,Fr|=Z;oe=$.action,$s&&o(g,oe),g=$.hasEagerState?$.eagerState:o(g,oe)}else Z={lane:oe,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(C=V=Z,b=g):V=V.next=Z,Ue.lanes|=oe,Fr|=oe;$=$.next}while($!==null&&$!==s);if(V===null?b=g:V.next=C,!Sn(g,n.memoizedState)&&(Ht=!0,se&&(o=Ha,o!==null)))throw o;n.memoizedState=g,n.baseState=b,n.baseQueue=V,u.lastRenderedState=g}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function ud(n){var s=xt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,g=s.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do g=n(g,b.action),b=b.next;while(b!==f);Sn(g,s.memoizedState)||(Ht=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),o.lastRenderedState=g}return[g,u]}function rv(n,s,o){var u=Ue,f=xt(),g=nt;if(g){if(o===void 0)throw Error(r(407));o=o()}else o=s();var b=!Sn((ut||f).memoizedState,o);b&&(f.memoizedState=o,Ht=!0),f=f.queue;var C=ov.bind(null,u,f,n);if(_l(2048,8,C,[n]),f.getSnapshot!==s||b||It!==null&&It.memoizedState.tag&1){if(u.flags|=2048,$a(9,dc(),av.bind(null,u,f,o,s),null),dt===null)throw Error(r(349));g||(Vr&124)!==0||sv(u,s,o)}return o}function sv(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Ue.updateQueue,s===null?(s=ad(),Ue.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function av(n,s,o,u){s.value=o,s.getSnapshot=u,lv(s)&&uv(n)}function ov(n,s,o){return o(function(){lv(s)&&uv(n)})}function lv(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!Sn(n,o)}catch{return!0}}function uv(n){var s=Ua(n,2);s!==null&&In(s,n,2)}function cd(n){var s=mn();if(typeof n=="function"){var o=n;if(n=o(),$s){rn(!0);try{o()}finally{rn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:n},s}function cv(n,s,o,u){return n.baseState=o,ld(n,ut,typeof u=="function"?u:ir)}function cC(n,s,o,u,f){if(gc(n))throw Error(r(485));if(n=s.action,n!==null){var g={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){g.listeners.push(b)}};Q.T!==null?o(!0):g.isTransition=!1,u(g),o=s.pending,o===null?(g.next=s.pending=g,hv(s,g)):(g.next=o.next,s.pending=o.next=g)}}function hv(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var g=Q.T,b={};Q.T=b;try{var C=o(f,u),V=Q.S;V!==null&&V(b,C),fv(n,s,C)}catch($){hd(n,s,$)}finally{Q.T=g}}else try{g=o(f,u),fv(n,s,g)}catch($){hd(n,s,$)}}function fv(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){dv(n,s,u)},function(u){return hd(n,s,u)}):dv(n,s,o)}function dv(n,s,o){s.status="fulfilled",s.value=o,pv(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,hv(n,o)))}function hd(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,pv(s),s=s.next;while(s!==u)}n.action=null}function pv(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function gv(n,s){return s}function mv(n,s){if(nt){var o=dt.formState;if(o!==null){e:{var u=Ue;if(nt){if(Et){t:{for(var f=Et,g=Ai;f.nodeType!==8;){if(!g){f=null;break t}if(f=ai(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Et=ai(f.nextSibling),u=f.data==="F!";break e}}Hs(u)}u=!1}u&&(s=o[0])}}return o=mn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gv,lastRenderedState:s},o.queue=u,o=Pv.bind(null,Ue,u),u.dispatch=o,u=cd(!1),g=md.bind(null,Ue,!1,u.queue),u=mn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=cC.bind(null,Ue,f,g,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function vv(n){var s=xt();return yv(s,ut,n)}function yv(n,s,o){if(s=ld(n,s,gv)[0],n=fc(ir)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=yl(s)}catch(b){throw b===fl?ac:b}else u=s;s=xt();var f=s.queue,g=f.dispatch;return o!==s.memoizedState&&(Ue.flags|=2048,$a(9,dc(),hC.bind(null,f,o),null)),[u,g,n]}function hC(n,s){n.action=s}function _v(n){var s=xt(),o=ut;if(o!==null)return yv(s,o,n);xt(),s=s.memoizedState,o=xt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function $a(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Ue.updateQueue,s===null&&(s=ad(),Ue.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function dc(){return{destroy:void 0,resource:void 0}}function Ev(){return xt().memoizedState}function pc(n,s,o,u){var f=mn();u=u===void 0?null:u,Ue.flags|=n,f.memoizedState=$a(1|s,dc(),o,u)}function _l(n,s,o,u){var f=xt();u=u===void 0?null:u;var g=f.memoizedState.inst;ut!==null&&u!==null&&td(u,ut.memoizedState.deps)?f.memoizedState=$a(s,g,o,u):(Ue.flags|=n,f.memoizedState=$a(1|s,g,o,u))}function bv(n,s){pc(8390656,8,n,s)}function Tv(n,s){_l(2048,8,n,s)}function Sv(n,s){return _l(4,2,n,s)}function wv(n,s){return _l(4,4,n,s)}function Cv(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Av(n,s,o){o=o!=null?o.concat([n]):null,_l(4,4,Cv.bind(null,s,n),o)}function fd(){}function Rv(n,s){var o=xt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&td(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function Lv(n,s){var o=xt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&td(s,u[1]))return u[0];if(u=n(),$s){rn(!0);try{n()}finally{rn(!1)}}return o.memoizedState=[u,s],u}function dd(n,s,o){return o===void 0||(Vr&1073741824)!==0?n.memoizedState=s:(n.memoizedState=o,n=My(),Ue.lanes|=n,Fr|=n,o)}function Iv(n,s,o,u){return Sn(o,s)?o:Fa.current!==null?(n=dd(n,o,u),Sn(n,s)||(Ht=!0),n):(Vr&42)===0?(Ht=!0,n.memoizedState=o):(n=My(),Ue.lanes|=n,Fr|=n,s)}function xv(n,s,o,u,f){var g=ce.p;ce.p=g!==0&&8>g?g:8;var b=Q.T,C={};Q.T=C,md(n,!1,s,o);try{var V=f(),$=Q.S;if($!==null&&$(C,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var se=oC(V,u);El(n,s,se,Ln(n))}else El(n,s,u,Ln(n))}catch(oe){El(n,s,{then:function(){},status:"rejected",reason:oe},Ln())}finally{ce.p=g,Q.T=b}}function fC(){}function pd(n,s,o,u){if(n.tag!==5)throw Error(r(476));var f=Mv(n).queue;xv(n,f,s,fe,o===null?fC:function(){return Ov(n),o(u)})}function Mv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:fe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ir,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Ov(n){var s=Mv(n).next.queue;El(n,s,{},Ln())}function gd(){return an(Ul)}function Dv(){return xt().memoizedState}function Nv(){return xt().memoizedState}function dC(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Ln();n=Pr(o);var u=kr(s,n,o);u!==null&&(In(u,s,o),pl(u,s,o)),s={cache:Gf()},n.payload=s;return}s=s.return}}function pC(n,s,o){var u=Ln();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},gc(n)?kv(s,o):(o=Pf(n,s,o,u),o!==null&&(In(o,n,u),Vv(o,s,u)))}function Pv(n,s,o){var u=Ln();El(n,s,o,u)}function El(n,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(gc(n))kv(s,f);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var b=s.lastRenderedState,C=g(b,o);if(f.hasEagerState=!0,f.eagerState=C,Sn(C,b))return Wu(n,s,f,0),dt===null&&Xu(),!1}catch{}finally{}if(o=Pf(n,s,f,u),o!==null)return In(o,n,u),Vv(o,s,u),!0}return!1}function md(n,s,o,u){if(u={lane:2,revertLane:Qd(),action:u,hasEagerState:!1,eagerState:null,next:null},gc(n)){if(s)throw Error(r(479))}else s=Pf(n,o,u,2),s!==null&&In(s,n,2)}function gc(n){var s=n.alternate;return n===Ue||s!==null&&s===Ue}function kv(n,s){Ga=uc=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Vv(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,gi(n,o)}}var mc={readContext:an,use:hc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},Uv={readContext:an,use:hc,useCallback:function(n,s){return mn().memoizedState=[n,s===void 0?null:s],n},useContext:an,useEffect:bv,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,pc(4194308,4,Cv.bind(null,s,n),o)},useLayoutEffect:function(n,s){return pc(4194308,4,n,s)},useInsertionEffect:function(n,s){pc(4,2,n,s)},useMemo:function(n,s){var o=mn();s=s===void 0?null:s;var u=n();if($s){rn(!0);try{n()}finally{rn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=mn();if(o!==void 0){var f=o(s);if($s){rn(!0);try{o(s)}finally{rn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=pC.bind(null,Ue,n),[u.memoizedState,n]},useRef:function(n){var s=mn();return n={current:n},s.memoizedState=n},useState:function(n){n=cd(n);var s=n.queue,o=Pv.bind(null,Ue,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:fd,useDeferredValue:function(n,s){var o=mn();return dd(o,n,s)},useTransition:function(){var n=cd(!1);return n=xv.bind(null,Ue,n.queue,!0,!1),mn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Ue,f=mn();if(nt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),dt===null)throw Error(r(349));(Xe&124)!==0||sv(u,s,o)}f.memoizedState=o;var g={value:o,getSnapshot:s};return f.queue=g,bv(ov.bind(null,u,g,n),[n]),u.flags|=2048,$a(9,dc(),av.bind(null,u,g,o,s),null),o},useId:function(){var n=mn(),s=dt.identifierPrefix;if(nt){var o=er,u=Ji;o=(u&~(1<<32-Tt(u)-1)).toString(32)+o,s="«"+s+"R"+o,o=cc++,0<o&&(s+="H"+o.toString(32)),s+="»"}else o=lC++,s="«"+s+"r"+o.toString(32)+"»";return n.memoizedState=s},useHostTransitionStatus:gd,useFormState:mv,useActionState:mv,useOptimistic:function(n){var s=mn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=md.bind(null,Ue,!0,o),o.dispatch=s,[n,s]},useMemoCache:od,useCacheRefresh:function(){return mn().memoizedState=dC.bind(null,Ue)}},jv={readContext:an,use:hc,useCallback:Rv,useContext:an,useEffect:Tv,useImperativeHandle:Av,useInsertionEffect:Sv,useLayoutEffect:wv,useMemo:Lv,useReducer:fc,useRef:Ev,useState:function(){return fc(ir)},useDebugValue:fd,useDeferredValue:function(n,s){var o=xt();return Iv(o,ut.memoizedState,n,s)},useTransition:function(){var n=fc(ir)[0],s=xt().memoizedState;return[typeof n=="boolean"?n:yl(n),s]},useSyncExternalStore:rv,useId:Dv,useHostTransitionStatus:gd,useFormState:vv,useActionState:vv,useOptimistic:function(n,s){var o=xt();return cv(o,ut,n,s)},useMemoCache:od,useCacheRefresh:Nv},gC={readContext:an,use:hc,useCallback:Rv,useContext:an,useEffect:Tv,useImperativeHandle:Av,useInsertionEffect:Sv,useLayoutEffect:wv,useMemo:Lv,useReducer:ud,useRef:Ev,useState:function(){return ud(ir)},useDebugValue:fd,useDeferredValue:function(n,s){var o=xt();return ut===null?dd(o,n,s):Iv(o,ut.memoizedState,n,s)},useTransition:function(){var n=ud(ir)[0],s=xt().memoizedState;return[typeof n=="boolean"?n:yl(n),s]},useSyncExternalStore:rv,useId:Dv,useHostTransitionStatus:gd,useFormState:_v,useActionState:_v,useOptimistic:function(n,s){var o=xt();return ut!==null?cv(o,ut,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:od,useCacheRefresh:Nv},Qa=null,bl=0;function vc(n){var s=bl;return bl+=1,Qa===null&&(Qa=[]),Zm(Qa,n,s)}function Tl(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function yc(n,s){throw s.$$typeof===T?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Bv(n){var s=n._init;return s(n._payload)}function zv(n){function s(q,B){if(n){var K=q.deletions;K===null?(q.deletions=[B],q.flags|=16):K.push(B)}}function o(q,B){if(!n)return null;for(;B!==null;)s(q,B),B=B.sibling;return null}function u(q){for(var B=new Map;q!==null;)q.key!==null?B.set(q.key,q):B.set(q.index,q),q=q.sibling;return B}function f(q,B){return q=Wi(q,B),q.index=0,q.sibling=null,q}function g(q,B,K){return q.index=K,n?(K=q.alternate,K!==null?(K=K.index,K<B?(q.flags|=67108866,B):K):(q.flags|=67108866,B)):(q.flags|=1048576,B)}function b(q){return n&&q.alternate===null&&(q.flags|=67108866),q}function C(q,B,K,ae){return B===null||B.tag!==6?(B=Vf(K,q.mode,ae),B.return=q,B):(B=f(B,K),B.return=q,B)}function V(q,B,K,ae){var Ee=K.type;return Ee===R?se(q,B,K.props.children,ae,K.key):B!==null&&(B.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&Bv(Ee)===B.type)?(B=f(B,K.props),Tl(B,K),B.return=q,B):(B=ec(K.type,K.key,K.props,null,q.mode,ae),Tl(B,K),B.return=q,B)}function $(q,B,K,ae){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Uf(K,q.mode,ae),B.return=q,B):(B=f(B,K.children||[]),B.return=q,B)}function se(q,B,K,ae,Ee){return B===null||B.tag!==7?(B=js(K,q.mode,ae,Ee),B.return=q,B):(B=f(B,K),B.return=q,B)}function oe(q,B,K){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=Vf(""+B,q.mode,K),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case S:return K=ec(B.type,B.key,B.props,null,q.mode,K),Tl(K,B),K.return=q,K;case I:return B=Uf(B,q.mode,K),B.return=q,B;case x:var ae=B._init;return B=ae(B._payload),oe(q,B,K)}if(ye(B)||U(B))return B=js(B,q.mode,K,null),B.return=q,B;if(typeof B.then=="function")return oe(q,vc(B),K);if(B.$$typeof===X)return oe(q,rc(q,B),K);yc(q,B)}return null}function Z(q,B,K,ae){var Ee=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Ee!==null?null:C(q,B,""+K,ae);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case S:return K.key===Ee?V(q,B,K,ae):null;case I:return K.key===Ee?$(q,B,K,ae):null;case x:return Ee=K._init,K=Ee(K._payload),Z(q,B,K,ae)}if(ye(K)||U(K))return Ee!==null?null:se(q,B,K,ae,null);if(typeof K.then=="function")return Z(q,B,vc(K),ae);if(K.$$typeof===X)return Z(q,B,rc(q,K),ae);yc(q,K)}return null}function W(q,B,K,ae,Ee){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return q=q.get(K)||null,C(B,q,""+ae,Ee);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case S:return q=q.get(ae.key===null?K:ae.key)||null,V(B,q,ae,Ee);case I:return q=q.get(ae.key===null?K:ae.key)||null,$(B,q,ae,Ee);case x:var Be=ae._init;return ae=Be(ae._payload),W(q,B,K,ae,Ee)}if(ye(ae)||U(ae))return q=q.get(K)||null,se(B,q,ae,Ee,null);if(typeof ae.then=="function")return W(q,B,K,vc(ae),Ee);if(ae.$$typeof===X)return W(q,B,K,rc(B,ae),Ee);yc(B,ae)}return null}function Ie(q,B,K,ae){for(var Ee=null,Be=null,Ce=B,Le=B=0,Gt=null;Ce!==null&&Le<K.length;Le++){Ce.index>Le?(Gt=Ce,Ce=null):Gt=Ce.sibling;var Je=Z(q,Ce,K[Le],ae);if(Je===null){Ce===null&&(Ce=Gt);break}n&&Ce&&Je.alternate===null&&s(q,Ce),B=g(Je,B,Le),Be===null?Ee=Je:Be.sibling=Je,Be=Je,Ce=Gt}if(Le===K.length)return o(q,Ce),nt&&zs(q,Le),Ee;if(Ce===null){for(;Le<K.length;Le++)Ce=oe(q,K[Le],ae),Ce!==null&&(B=g(Ce,B,Le),Be===null?Ee=Ce:Be.sibling=Ce,Be=Ce);return nt&&zs(q,Le),Ee}for(Ce=u(Ce);Le<K.length;Le++)Gt=W(Ce,q,Le,K[Le],ae),Gt!==null&&(n&&Gt.alternate!==null&&Ce.delete(Gt.key===null?Le:Gt.key),B=g(Gt,B,Le),Be===null?Ee=Gt:Be.sibling=Gt,Be=Gt);return n&&Ce.forEach(function(Jr){return s(q,Jr)}),nt&&zs(q,Le),Ee}function Re(q,B,K,ae){if(K==null)throw Error(r(151));for(var Ee=null,Be=null,Ce=B,Le=B=0,Gt=null,Je=K.next();Ce!==null&&!Je.done;Le++,Je=K.next()){Ce.index>Le?(Gt=Ce,Ce=null):Gt=Ce.sibling;var Jr=Z(q,Ce,Je.value,ae);if(Jr===null){Ce===null&&(Ce=Gt);break}n&&Ce&&Jr.alternate===null&&s(q,Ce),B=g(Jr,B,Le),Be===null?Ee=Jr:Be.sibling=Jr,Be=Jr,Ce=Gt}if(Je.done)return o(q,Ce),nt&&zs(q,Le),Ee;if(Ce===null){for(;!Je.done;Le++,Je=K.next())Je=oe(q,Je.value,ae),Je!==null&&(B=g(Je,B,Le),Be===null?Ee=Je:Be.sibling=Je,Be=Je);return nt&&zs(q,Le),Ee}for(Ce=u(Ce);!Je.done;Le++,Je=K.next())Je=W(Ce,q,Le,Je.value,ae),Je!==null&&(n&&Je.alternate!==null&&Ce.delete(Je.key===null?Le:Je.key),B=g(Je,B,Le),Be===null?Ee=Je:Be.sibling=Je,Be=Je);return n&&Ce.forEach(function(mA){return s(q,mA)}),nt&&zs(q,Le),Ee}function ht(q,B,K,ae){if(typeof K=="object"&&K!==null&&K.type===R&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case S:e:{for(var Ee=K.key;B!==null;){if(B.key===Ee){if(Ee=K.type,Ee===R){if(B.tag===7){o(q,B.sibling),ae=f(B,K.props.children),ae.return=q,q=ae;break e}}else if(B.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===x&&Bv(Ee)===B.type){o(q,B.sibling),ae=f(B,K.props),Tl(ae,K),ae.return=q,q=ae;break e}o(q,B);break}else s(q,B);B=B.sibling}K.type===R?(ae=js(K.props.children,q.mode,ae,K.key),ae.return=q,q=ae):(ae=ec(K.type,K.key,K.props,null,q.mode,ae),Tl(ae,K),ae.return=q,q=ae)}return b(q);case I:e:{for(Ee=K.key;B!==null;){if(B.key===Ee)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){o(q,B.sibling),ae=f(B,K.children||[]),ae.return=q,q=ae;break e}else{o(q,B);break}else s(q,B);B=B.sibling}ae=Uf(K,q.mode,ae),ae.return=q,q=ae}return b(q);case x:return Ee=K._init,K=Ee(K._payload),ht(q,B,K,ae)}if(ye(K))return Ie(q,B,K,ae);if(U(K)){if(Ee=U(K),typeof Ee!="function")throw Error(r(150));return K=Ee.call(K),Re(q,B,K,ae)}if(typeof K.then=="function")return ht(q,B,vc(K),ae);if(K.$$typeof===X)return ht(q,B,rc(q,K),ae);yc(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,B!==null&&B.tag===6?(o(q,B.sibling),ae=f(B,K),ae.return=q,q=ae):(o(q,B),ae=Vf(K,q.mode,ae),ae.return=q,q=ae),b(q)):o(q,B)}return function(q,B,K,ae){try{bl=0;var Ee=ht(q,B,K,ae);return Qa=null,Ee}catch(Ce){if(Ce===fl||Ce===ac)throw Ce;var Be=wn(29,Ce,null,q.mode);return Be.lanes=ae,Be.return=q,Be}finally{}}}var Ya=zv(!0),qv=zv(!1),Gn=ie(null),Ri=null;function Ur(n){var s=n.alternate;ne(Vt,Vt.current&1),ne(Gn,n),Ri===null&&(s===null||Fa.current!==null||s.memoizedState!==null)&&(Ri=n)}function Hv(n){if(n.tag===22){if(ne(Vt,Vt.current),ne(Gn,n),Ri===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(Ri=n)}}else jr()}function jr(){ne(Vt,Vt.current),ne(Gn,Gn.current)}function rr(n){he(Gn),Ri===n&&(Ri=null),he(Vt)}var Vt=ie(0);function _c(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||ap(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function vd(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:_({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var yd={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Ln(),f=Pr(u);f.payload=s,o!=null&&(f.callback=o),s=kr(n,f,u),s!==null&&(In(s,n,u),pl(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Ln(),f=Pr(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=kr(n,f,u),s!==null&&(In(s,n,u),pl(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Ln(),u=Pr(o);u.tag=2,s!=null&&(u.callback=s),s=kr(n,u,o),s!==null&&(In(s,n,o),pl(s,n,o))}};function Fv(n,s,o,u,f,g,b){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,g,b):s.prototype&&s.prototype.isPureReactComponent?!rl(o,u)||!rl(f,g):!0}function Gv(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&yd.enqueueReplaceState(s,s.state,null)}function Qs(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=_({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var Ec=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Kv(n){Ec(n)}function $v(n){console.error(n)}function Qv(n){Ec(n)}function bc(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Yv(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function _d(n,s,o){return o=Pr(o),o.tag=3,o.payload={element:null},o.callback=function(){bc(n,s)},o}function Zv(n){return n=Pr(n),n.tag=3,n}function Xv(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;n.payload=function(){return f(g)},n.callback=function(){Yv(s,o,u)}}var b=o.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(n.callback=function(){Yv(s,o,u),typeof f!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})})}function mC(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&ul(s,o,f,!0),o=Gn.current,o!==null){switch(o.tag){case 13:return Ri===null?Hd():o.alternate===null&&bt===0&&(bt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Qf?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),Gd(n,u,f)),!1;case 22:return o.flags|=65536,u===Qf?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),Gd(n,u,f)),!1}throw Error(r(435,o.tag))}return Gd(n,u,f),Hd(),!1}if(nt)return s=Gn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==zf&&(n=Error(r(422),{cause:u}),ll(zn(n,o)))):(u!==zf&&(s=Error(r(423),{cause:u}),ll(zn(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=zn(u,o),f=_d(n.stateNode,u,f),Xf(n,f),bt!==4&&(bt=2)),!1;var g=Error(r(520),{cause:u});if(g=zn(g,o),Il===null?Il=[g]:Il.push(g),bt!==4&&(bt=2),s===null)return!0;u=zn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=_d(o.stateNode,u,n),Xf(o,n),!1;case 1:if(s=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Gr===null||!Gr.has(g))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Zv(f),Xv(f,n,o,u),Xf(o,f),!1}o=o.return}while(o!==null);return!1}var Wv=Error(r(461)),Ht=!1;function Xt(n,s,o,u){s.child=n===null?qv(s,null,o,u):Ya(s,n.child,o,u)}function Jv(n,s,o,u,f){o=o.render;var g=s.ref;if("ref"in u){var b={};for(var C in u)C!=="ref"&&(b[C]=u[C])}else b=u;return Gs(s),u=nd(n,s,o,b,g,f),C=id(),n!==null&&!Ht?(rd(n,s,f),sr(n,s,f)):(nt&&C&&jf(s),s.flags|=1,Xt(n,s,u,f),s.child)}function ey(n,s,o,u,f){if(n===null){var g=o.type;return typeof g=="function"&&!kf(g)&&g.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=g,ty(n,s,g,u,f)):(n=ec(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,!Rd(n,f)){var b=g.memoizedProps;if(o=o.compare,o=o!==null?o:rl,o(b,u)&&n.ref===s.ref)return sr(n,s,f)}return s.flags|=1,n=Wi(g,u),n.ref=s.ref,n.return=s,s.child=n}function ty(n,s,o,u,f){if(n!==null){var g=n.memoizedProps;if(rl(g,u)&&n.ref===s.ref)if(Ht=!1,s.pendingProps=u=g,Rd(n,f))(n.flags&131072)!==0&&(Ht=!0);else return s.lanes=n.lanes,sr(n,s,f)}return Ed(n,s,o,u,f)}function ny(n,s,o){var u=s.pendingProps,f=u.children,g=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|o:o,n!==null){for(f=s.child=n.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return iy(n,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&sc(s,g!==null?g.cachePool:null),g!==null?tv(s,g):Jf(),Hv(s);else return s.lanes=s.childLanes=536870912,iy(n,s,g!==null?g.baseLanes|o:o,o)}else g!==null?(sc(s,g.cachePool),tv(s,g),jr(),s.memoizedState=null):(n!==null&&sc(s,null),Jf(),jr());return Xt(n,s,f,o),s.child}function iy(n,s,o,u){var f=$f();return f=f===null?null:{parent:kt._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},n!==null&&sc(s,null),Jf(),Hv(s),n!==null&&ul(n,s,u,!0),null}function Tc(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Ed(n,s,o,u,f){return Gs(s),o=nd(n,s,o,u,void 0,f),u=id(),n!==null&&!Ht?(rd(n,s,f),sr(n,s,f)):(nt&&u&&jf(s),s.flags|=1,Xt(n,s,o,f),s.child)}function ry(n,s,o,u,f,g){return Gs(s),s.updateQueue=null,o=iv(s,u,o,f),nv(n),u=id(),n!==null&&!Ht?(rd(n,s,g),sr(n,s,g)):(nt&&u&&jf(s),s.flags|=1,Xt(n,s,o,g),s.child)}function sy(n,s,o,u,f){if(Gs(s),s.stateNode===null){var g=ja,b=o.contextType;typeof b=="object"&&b!==null&&(g=an(b)),g=new o(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=yd,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Yf(s),b=o.contextType,g.context=typeof b=="object"&&b!==null?an(b):ja,g.state=s.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(vd(s,o,b,u),g.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(b=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),b!==g.state&&yd.enqueueReplaceState(g,g.state,null),ml(s,u,g,f),gl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){g=s.stateNode;var C=s.memoizedProps,V=Qs(o,C);g.props=V;var $=g.context,se=o.contextType;b=ja,typeof se=="object"&&se!==null&&(b=an(se));var oe=o.getDerivedStateFromProps;se=typeof oe=="function"||typeof g.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,se||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C||$!==b)&&Gv(s,g,u,b),Nr=!1;var Z=s.memoizedState;g.state=Z,ml(s,u,g,f),gl(),$=s.memoizedState,C||Z!==$||Nr?(typeof oe=="function"&&(vd(s,o,oe,u),$=s.memoizedState),(V=Nr||Fv(s,o,V,u,Z,$,b))?(se||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=$),g.props=u,g.state=$,g.context=b,u=V):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Zf(n,s),b=s.memoizedProps,se=Qs(o,b),g.props=se,oe=s.pendingProps,Z=g.context,$=o.contextType,V=ja,typeof $=="object"&&$!==null&&(V=an($)),C=o.getDerivedStateFromProps,($=typeof C=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(b!==oe||Z!==V)&&Gv(s,g,u,V),Nr=!1,Z=s.memoizedState,g.state=Z,ml(s,u,g,f),gl();var W=s.memoizedState;b!==oe||Z!==W||Nr||n!==null&&n.dependencies!==null&&ic(n.dependencies)?(typeof C=="function"&&(vd(s,o,C,u),W=s.memoizedState),(se=Nr||Fv(s,o,se,u,Z,W,V)||n!==null&&n.dependencies!==null&&ic(n.dependencies))?($||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,W,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,W,V)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||b===n.memoizedProps&&Z===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&Z===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=W),g.props=u,g.state=W,g.context=V,u=se):(typeof g.componentDidUpdate!="function"||b===n.memoizedProps&&Z===n.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&Z===n.memoizedState||(s.flags|=1024),u=!1)}return g=u,Tc(n,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,n!==null&&u?(s.child=Ya(s,n.child,null,f),s.child=Ya(s,null,o,f)):Xt(n,s,o,f),s.memoizedState=g.state,n=s.child):n=sr(n,s,f),n}function ay(n,s,o,u){return ol(),s.flags|=256,Xt(n,s,o,u),s.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Td(n){return{baseLanes:n,cachePool:$m()}}function Sd(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Kn),n}function oy(n,s,o){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,b;if((b=g)||(b=n!==null&&n.memoizedState===null?!1:(Vt.current&2)!==0),b&&(f=!0,s.flags&=-129),b=(s.flags&32)!==0,s.flags&=-33,n===null){if(nt){if(f?Ur(s):jr(),nt){var C=Et,V;if(V=C){e:{for(V=C,C=Ai;V.nodeType!==8;){if(!C){C=null;break e}if(V=ai(V.nextSibling),V===null){C=null;break e}}C=V}C!==null?(s.memoizedState={dehydrated:C,treeContext:Bs!==null?{id:Ji,overflow:er}:null,retryLane:536870912,hydrationErrors:null},V=wn(18,null,null,0),V.stateNode=C,V.return=s,s.child=V,gn=s,Et=null,V=!0):V=!1}V||Hs(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return ap(C)?s.lanes=32:s.lanes=536870912,null;rr(s)}return C=u.children,u=u.fallback,f?(jr(),f=s.mode,C=Sc({mode:"hidden",children:C},f),u=js(u,f,o,null),C.return=s,u.return=s,C.sibling=u,s.child=C,f=s.child,f.memoizedState=Td(o),f.childLanes=Sd(n,b,o),s.memoizedState=bd,u):(Ur(s),wd(s,C))}if(V=n.memoizedState,V!==null&&(C=V.dehydrated,C!==null)){if(g)s.flags&256?(Ur(s),s.flags&=-257,s=Cd(n,s,o)):s.memoizedState!==null?(jr(),s.child=n.child,s.flags|=128,s=null):(jr(),f=u.fallback,C=s.mode,u=Sc({mode:"visible",children:u.children},C),f=js(f,C,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,Ya(s,n.child,null,o),u=s.child,u.memoizedState=Td(o),u.childLanes=Sd(n,b,o),s.memoizedState=bd,s=f);else if(Ur(s),ap(C)){if(b=C.nextSibling&&C.nextSibling.dataset,b)var $=b.dgst;b=$,u=Error(r(419)),u.stack="",u.digest=b,ll({value:u,source:null,stack:null}),s=Cd(n,s,o)}else if(Ht||ul(n,s,o,!1),b=(o&n.childLanes)!==0,Ht||b){if(b=dt,b!==null&&(u=o&-o,u=(u&42)!==0?1:Jn(u),u=(u&(b.suspendedLanes|o))!==0?0:u,u!==0&&u!==V.retryLane))throw V.retryLane=u,Ua(n,u),In(b,n,u),Wv;C.data==="$?"||Hd(),s=Cd(n,s,o)}else C.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=V.treeContext,Et=ai(C.nextSibling),gn=s,nt=!0,qs=null,Ai=!1,n!==null&&(Hn[Fn++]=Ji,Hn[Fn++]=er,Hn[Fn++]=Bs,Ji=n.id,er=n.overflow,Bs=s),s=wd(s,u.children),s.flags|=4096);return s}return f?(jr(),f=u.fallback,C=s.mode,V=n.child,$=V.sibling,u=Wi(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,$!==null?f=Wi($,f):(f=js(f,C,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,C=n.child.memoizedState,C===null?C=Td(o):(V=C.cachePool,V!==null?($=kt._currentValue,V=V.parent!==$?{parent:$,pool:$}:V):V=$m(),C={baseLanes:C.baseLanes|o,cachePool:V}),f.memoizedState=C,f.childLanes=Sd(n,b,o),s.memoizedState=bd,u):(Ur(s),o=n.child,n=o.sibling,o=Wi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(b=s.deletions,b===null?(s.deletions=[n],s.flags|=16):b.push(n)),s.child=o,s.memoizedState=null,o)}function wd(n,s){return s=Sc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Sc(n,s){return n=wn(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Cd(n,s,o){return Ya(s,n.child,null,o),n=wd(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function ly(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Hf(n.return,s,o)}function Ad(n,s,o,u,f){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=o,g.tailMode=f)}function uy(n,s,o){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(Xt(n,s,u.children,o),u=Vt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ly(n,o,s);else if(n.tag===19)ly(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(ne(Vt,u),f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&_c(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Ad(s,!1,f,o,g);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&_c(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Ad(s,!0,o,null,g);break;case"together":Ad(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function sr(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Fr|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(ul(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=Wi(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Wi(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Rd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&ic(n)))}function vC(n,s,o){switch(s.tag){case 3:ve(s,s.stateNode.containerInfo),Dr(s,kt,n.memoizedState.cache),ol();break;case 27:case 5:we(s);break;case 4:ve(s,s.stateNode.containerInfo);break;case 10:Dr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Ur(s),s.flags|=128,null):(o&s.child.childLanes)!==0?oy(n,s,o):(Ur(s),n=sr(n,s,o),n!==null?n.sibling:null);Ur(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(ul(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return uy(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ne(Vt,Vt.current),u)break;return null;case 22:case 23:return s.lanes=0,ny(n,s,o);case 24:Dr(s,kt,n.memoizedState.cache)}return sr(n,s,o)}function cy(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Ht=!0;else{if(!Rd(n,o)&&(s.flags&128)===0)return Ht=!1,vC(n,s,o);Ht=(n.flags&131072)!==0}else Ht=!1,nt&&(s.flags&1048576)!==0&&Bm(s,nc,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")kf(u)?(n=Qs(u,n),s.tag=1,s=sy(null,s,u,n,o)):(s.tag=0,s=Ed(null,s,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===Y){s.tag=11,s=Jv(null,s,u,n,o);break e}else if(f===M){s.tag=14,s=ey(null,s,u,n,o);break e}}throw s=Se(u)||u,Error(r(306,s,""))}}return s;case 0:return Ed(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=Qs(u,s.pendingProps),sy(n,s,u,f,o);case 3:e:{if(ve(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,Zf(n,s),ml(s,u,null,o);var b=s.memoizedState;if(u=b.cache,Dr(s,kt,u),u!==g.cache&&Ff(s,[kt],o,!0),gl(),u=b.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:b.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=ay(n,s,u,o);break e}else if(u!==f){f=zn(Error(r(424)),s),ll(f),s=ay(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Et=ai(n.firstChild),gn=s,nt=!0,qs=null,Ai=!0,o=qv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ol(),u===f){s=sr(n,s,o);break e}Xt(n,s,u,o)}s=s.child}return s;case 26:return Tc(n,s),n===null?(o=p_(s.type,null,s.pendingProps,null))?s.memoizedState=o:nt||(o=s.type,n=s.pendingProps,u=Vc(ge.current).createElement(o),u[be]=s,u[Rt]=n,Jt(u,o,n),St(u),s.stateNode=u):s.memoizedState=p_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return we(s),n===null&&nt&&(u=s.stateNode=h_(s.type,s.pendingProps,ge.current),gn=s,Ai=!0,f=Et,Qr(s.type)?(op=f,Et=ai(u.firstChild)):Et=f),Xt(n,s,s.pendingProps.children,o),Tc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&nt&&((f=u=Et)&&(u=GC(u,s.type,s.pendingProps,Ai),u!==null?(s.stateNode=u,gn=s,Et=ai(u.firstChild),Ai=!1,f=!0):f=!1),f||Hs(s)),we(s),f=s.type,g=s.pendingProps,b=n!==null?n.memoizedProps:null,u=g.children,ip(f,g)?u=null:b!==null&&ip(f,b)&&(s.flags|=32),s.memoizedState!==null&&(f=nd(n,s,uC,null,null,o),Ul._currentValue=f),Tc(n,s),Xt(n,s,u,o),s.child;case 6:return n===null&&nt&&((n=o=Et)&&(o=KC(o,s.pendingProps,Ai),o!==null?(s.stateNode=o,gn=s,Et=null,n=!0):n=!1),n||Hs(s)),null;case 13:return oy(n,s,o);case 4:return ve(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Ya(s,null,u,o):Xt(n,s,u,o),s.child;case 11:return Jv(n,s,s.type,s.pendingProps,o);case 7:return Xt(n,s,s.pendingProps,o),s.child;case 8:return Xt(n,s,s.pendingProps.children,o),s.child;case 12:return Xt(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Dr(s,s.type,u.value),Xt(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,Gs(s),f=an(f),u=u(f),s.flags|=1,Xt(n,s,u,o),s.child;case 14:return ey(n,s,s.type,s.pendingProps,o);case 15:return ty(n,s,s.type,s.pendingProps,o);case 19:return uy(n,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},n===null?(o=Sc(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Wi(n.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return ny(n,s,o);case 24:return Gs(s),u=an(kt),n===null?(f=$f(),f===null&&(f=dt,g=Gf(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=o),f=g),s.memoizedState={parent:u,cache:f},Yf(s),Dr(s,kt,f)):((n.lanes&o)!==0&&(Zf(n,s),ml(s,null,null,o),gl()),f=n.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Dr(s,kt,u)):(u=g.cache,Dr(s,kt,u),u!==f.cache&&Ff(s,[kt],o,!0))),Xt(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ar(n){n.flags|=4}function hy(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!__(s)){if(s=Gn.current,s!==null&&((Xe&4194048)===Xe?Ri!==null:(Xe&62914560)!==Xe&&(Xe&536870912)===0||s!==Ri))throw dl=Qf,Qm;n.flags|=8192}}function wc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Rr():536870912,n.lanes|=s,Ja|=s)}function Sl(n,s){if(!nt)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function vt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function yC(n,s,o){var u=s.pendingProps;switch(Bf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(s),null;case 1:return vt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),nr(kt),tt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(al(s)?ar(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hm())),vt(s),null;case 26:return o=s.memoizedState,n===null?(ar(s),o!==null?(vt(s),hy(s,o)):(vt(s),s.flags&=-16777217)):o?o!==n.memoizedState?(ar(s),vt(s),hy(s,o)):(vt(s),s.flags&=-16777217):(n.memoizedProps!==u&&ar(s),vt(s),s.flags&=-16777217),null;case 27:Pe(s),o=ge.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ar(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return vt(s),null}n=pe.current,al(s)?zm(s):(n=h_(f,u,o),s.stateNode=n,ar(s))}return vt(s),null;case 5:if(Pe(s),o=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ar(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return vt(s),null}if(n=pe.current,al(s))zm(s);else{switch(f=Vc(ge.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[be]=s,n[Rt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;e:switch(Jt(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ar(s)}}return vt(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&ar(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=ge.current,al(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=gn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[be]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||r_(n.nodeValue,o)),n||Hs(s)}else n=Vc(n).createTextNode(u),n[be]=s,s.stateNode=n}return vt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=al(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[be]=s}else ol(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;vt(s),f=!1}else f=Hm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(rr(s),s):(rr(s),null)}if(rr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return o!==n&&o&&(s.child.flags|=8192),wc(s,s.updateQueue),vt(s),null;case 4:return tt(),n===null&&Wd(s.stateNode.containerInfo),vt(s),null;case 10:return nr(s.type),vt(s),null;case 19:if(he(Vt),f=s.memoizedState,f===null)return vt(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)Sl(f,!1);else{if(bt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(g=_c(n),g!==null){for(s.flags|=128,Sl(f,!1),n=g.updateQueue,s.updateQueue=n,wc(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)jm(o,n),o=o.sibling;return ne(Vt,Vt.current&1|2),s.child}n=n.sibling}f.tail!==null&&Qt()>Rc&&(s.flags|=128,u=!0,Sl(f,!1),s.lanes=4194304)}else{if(!u)if(n=_c(g),n!==null){if(s.flags|=128,u=!0,n=n.updateQueue,s.updateQueue=n,wc(s,n),Sl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!nt)return vt(s),null}else 2*Qt()-f.renderingStartTime>Rc&&o!==536870912&&(s.flags|=128,u=!0,Sl(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(n=f.last,n!==null?n.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=Qt(),s.sibling=null,n=Vt.current,ne(Vt,u?n&1|2:n&1),s):(vt(s),null);case 22:case 23:return rr(s),ed(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(vt(s),s.subtreeFlags&6&&(s.flags|=8192)):vt(s),o=s.updateQueue,o!==null&&wc(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&he(Ks),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),nr(kt),vt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function _C(n,s){switch(Bf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return nr(kt),tt(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return Pe(s),null;case 13:if(rr(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ol()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return he(Vt),null;case 4:return tt(),null;case 10:return nr(s.type),null;case 22:case 23:return rr(s),ed(),n!==null&&he(Ks),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return nr(kt),null;case 25:return null;default:return null}}function fy(n,s){switch(Bf(s),s.tag){case 3:nr(kt),tt();break;case 26:case 27:case 5:Pe(s);break;case 4:tt();break;case 13:rr(s);break;case 19:he(Vt);break;case 10:nr(s.type);break;case 22:case 23:rr(s),ed(),n!==null&&he(Ks);break;case 24:nr(kt)}}function wl(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var g=o.create,b=o.inst;u=g(),b.destroy=u}o=o.next}while(o!==f)}}catch(C){ft(s,s.return,C)}}function Br(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&n)===n){var b=u.inst,C=b.destroy;if(C!==void 0){b.destroy=void 0,f=s;var V=o,$=C;try{$()}catch(se){ft(f,V,se)}}}u=u.next}while(u!==g)}}catch(se){ft(s,s.return,se)}}function dy(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{ev(s,o)}catch(u){ft(n,n.return,u)}}}function py(n,s,o){o.props=Qs(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){ft(n,s,u)}}function Cl(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){ft(n,s,f)}}function Li(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){ft(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){ft(n,s,f)}else o.current=null}function gy(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){ft(n,n.return,f)}}function Ld(n,s,o){try{var u=n.stateNode;BC(u,n.type,o,s),u[Rt]=s}catch(f){ft(n,n.return,f)}}function my(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Qr(n.type)||n.tag===4}function Id(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||my(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Qr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function xd(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=kc));else if(u!==4&&(u===27&&Qr(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(xd(n,s,o),n=n.sibling;n!==null;)xd(n,s,o),n=n.sibling}function Cc(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&Qr(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Cc(n,s,o),n=n.sibling;n!==null;)Cc(n,s,o),n=n.sibling}function vy(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Jt(s,u,o),s[be]=n,s[Rt]=o}catch(g){ft(n,n.return,g)}}var or=!1,Ct=!1,Md=!1,yy=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function EC(n,s){if(n=n.containerInfo,tp=Hc,n=Im(n),If(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break e}var b=0,C=-1,V=-1,$=0,se=0,oe=n,Z=null;t:for(;;){for(var W;oe!==o||f!==0&&oe.nodeType!==3||(C=b+f),oe!==g||u!==0&&oe.nodeType!==3||(V=b+u),oe.nodeType===3&&(b+=oe.nodeValue.length),(W=oe.firstChild)!==null;)Z=oe,oe=W;for(;;){if(oe===n)break t;if(Z===o&&++$===f&&(C=b),Z===g&&++se===u&&(V=b),(W=oe.nextSibling)!==null)break;oe=Z,Z=oe.parentNode}oe=W}o=C===-1||V===-1?null:{start:C,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(np={focusedElem:n,selectionRange:o},Hc=!1,Ft=s;Ft!==null;)if(s=Ft,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,Ft=n;else for(;Ft!==null;){switch(s=Ft,g=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=s,f=g.memoizedProps,g=g.memoizedState,u=o.stateNode;try{var Ie=Qs(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(Ie,g),u.__reactInternalSnapshotBeforeUpdate=n}catch(Re){ft(o,o.return,Re)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)sp(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":sp(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Ft=n;break}Ft=s.return}}function _y(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:zr(n,o),u&4&&wl(5,o);break;case 1:if(zr(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(b){ft(o,o.return,b)}else{var f=Qs(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(b){ft(o,o.return,b)}}u&64&&dy(o),u&512&&Cl(o,o.return);break;case 3:if(zr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{ev(n,s)}catch(b){ft(o,o.return,b)}}break;case 27:s===null&&u&4&&vy(o);case 26:case 5:zr(n,o),s===null&&u&4&&gy(o),u&512&&Cl(o,o.return);break;case 12:zr(n,o);break;case 13:zr(n,o),u&4&&Ty(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=IC.bind(null,o),$C(n,o))));break;case 22:if(u=o.memoizedState!==null||or,!u){s=s!==null&&s.memoizedState!==null||Ct,f=or;var g=Ct;or=u,(Ct=s)&&!g?qr(n,o,(o.subtreeFlags&8772)!==0):zr(n,o),or=f,Ct=g}break;case 30:break;default:zr(n,o)}}function Ey(n){var s=n.alternate;s!==null&&(n.alternate=null,Ey(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ir(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var mt=null,vn=!1;function lr(n,s,o){for(o=o.child;o!==null;)by(n,s,o),o=o.sibling}function by(n,s,o){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:Ct||Li(o,s),lr(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ct||Li(o,s);var u=mt,f=vn;Qr(o.type)&&(mt=o.stateNode,vn=!1),lr(n,s,o),Nl(o.stateNode),mt=u,vn=f;break;case 5:Ct||Li(o,s);case 6:if(u=mt,f=vn,mt=null,lr(n,s,o),mt=u,vn=f,mt!==null)if(vn)try{(mt.nodeType===9?mt.body:mt.nodeName==="HTML"?mt.ownerDocument.body:mt).removeChild(o.stateNode)}catch(g){ft(o,s,g)}else try{mt.removeChild(o.stateNode)}catch(g){ft(o,s,g)}break;case 18:mt!==null&&(vn?(n=mt,u_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),ql(n)):u_(mt,o.stateNode));break;case 4:u=mt,f=vn,mt=o.stateNode.containerInfo,vn=!0,lr(n,s,o),mt=u,vn=f;break;case 0:case 11:case 14:case 15:Ct||Br(2,o,s),Ct||Br(4,o,s),lr(n,s,o);break;case 1:Ct||(Li(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&py(o,s,u)),lr(n,s,o);break;case 21:lr(n,s,o);break;case 22:Ct=(u=Ct)||o.memoizedState!==null,lr(n,s,o),Ct=u;break;default:lr(n,s,o)}}function Ty(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ql(n)}catch(o){ft(s,s.return,o)}}function bC(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new yy),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new yy),s;default:throw Error(r(435,n.tag))}}function Od(n,s){var o=bC(n);s.forEach(function(u){var f=xC.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function Cn(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],g=n,b=s,C=b;e:for(;C!==null;){switch(C.tag){case 27:if(Qr(C.type)){mt=C.stateNode,vn=!1;break e}break;case 5:mt=C.stateNode,vn=!1;break e;case 3:case 4:mt=C.stateNode.containerInfo,vn=!0;break e}C=C.return}if(mt===null)throw Error(r(160));by(g,b,f),mt=null,vn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Sy(s,n),s=s.sibling}var si=null;function Sy(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Cn(s,n),An(n),u&4&&(Br(3,n,n.return),wl(3,n),Br(5,n,n.return));break;case 1:Cn(s,n),An(n),u&512&&(Ct||o===null||Li(o,o.return)),u&64&&or&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=si;if(Cn(s,n),An(n),u&512&&(Ct||o===null||Li(o,o.return)),u&4){var g=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Ss]||g[be]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Jt(g,u,o),g[be]=n,St(g),u=g;break e;case"link":var b=v_("link","href",f).get(u+(o.href||""));if(b){for(var C=0;C<b.length;C++)if(g=b[C],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){b.splice(C,1);break t}}g=f.createElement(u),Jt(g,u,o),f.head.appendChild(g);break;case"meta":if(b=v_("meta","content",f).get(u+(o.content||""))){for(C=0;C<b.length;C++)if(g=b[C],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){b.splice(C,1);break t}}g=f.createElement(u),Jt(g,u,o),f.head.appendChild(g);break;default:throw Error(r(468,u))}g[be]=n,St(g),u=g}n.stateNode=u}else y_(f,n.type,n.stateNode);else n.stateNode=m_(f,u,n.memoizedProps);else g!==u?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,u===null?y_(f,n.type,n.stateNode):m_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Ld(n,n.memoizedProps,o.memoizedProps)}break;case 27:Cn(s,n),An(n),u&512&&(Ct||o===null||Li(o,o.return)),o!==null&&u&4&&Ld(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Cn(s,n),An(n),u&512&&(Ct||o===null||Li(o,o.return)),n.flags&32){f=n.stateNode;try{Vn(f,"")}catch(W){ft(n,n.return,W)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Ld(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Md=!0);break;case 6:if(Cn(s,n),An(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(W){ft(n,n.return,W)}}break;case 3:if(Bc=null,f=si,si=Uc(s.containerInfo),Cn(s,n),si=f,An(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ql(s.containerInfo)}catch(W){ft(n,n.return,W)}Md&&(Md=!1,wy(n));break;case 4:u=si,si=Uc(n.stateNode.containerInfo),Cn(s,n),An(n),si=u;break;case 12:Cn(s,n),An(n);break;case 13:Cn(s,n),An(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Ud=Qt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Od(n,u)));break;case 22:f=n.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,$=or,se=Ct;if(or=$||f,Ct=se||V,Cn(s,n),Ct=se,or=$,An(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||V||or||Ct||Ys(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){V=o=s;try{if(g=V.stateNode,f)b=g.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{C=V.stateNode;var oe=V.memoizedProps.style,Z=oe!=null&&oe.hasOwnProperty("display")?oe.display:null;C.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(W){ft(V,V.return,W)}}}else if(s.tag===6){if(o===null){V=s;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(W){ft(V,V.return,W)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Od(n,o))));break;case 19:Cn(s,n),An(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Od(n,u)));break;case 30:break;case 21:break;default:Cn(s,n),An(n)}}function An(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(my(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,g=Id(n);Cc(n,g,f);break;case 5:var b=o.stateNode;o.flags&32&&(Vn(b,""),o.flags&=-33);var C=Id(n);Cc(n,C,b);break;case 3:case 4:var V=o.stateNode.containerInfo,$=Id(n);xd(n,$,V);break;default:throw Error(r(161))}}catch(se){ft(n,n.return,se)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function wy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;wy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function zr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)_y(n,s.alternate,s),s=s.sibling}function Ys(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Br(4,s,s.return),Ys(s);break;case 1:Li(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&py(s,s.return,o),Ys(s);break;case 27:Nl(s.stateNode);case 26:case 5:Li(s,s.return),Ys(s);break;case 22:s.memoizedState===null&&Ys(s);break;case 30:Ys(s);break;default:Ys(s)}n=n.sibling}}function qr(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,g=s,b=g.flags;switch(g.tag){case 0:case 11:case 15:qr(f,g,o),wl(4,g);break;case 1:if(qr(f,g,o),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){ft(u,u.return,$)}if(u=g,f=u.updateQueue,f!==null){var C=u.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)Jm(V[f],C)}catch($){ft(u,u.return,$)}}o&&b&64&&dy(g),Cl(g,g.return);break;case 27:vy(g);case 26:case 5:qr(f,g,o),o&&u===null&&b&4&&gy(g),Cl(g,g.return);break;case 12:qr(f,g,o);break;case 13:qr(f,g,o),o&&b&4&&Ty(f,g);break;case 22:g.memoizedState===null&&qr(f,g,o),Cl(g,g.return);break;case 30:break;default:qr(f,g,o)}s=s.sibling}}function Dd(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&cl(o))}function Nd(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&cl(n))}function Ii(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Cy(n,s,o,u),s=s.sibling}function Cy(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:Ii(n,s,o,u),f&2048&&wl(9,s);break;case 1:Ii(n,s,o,u);break;case 3:Ii(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&cl(n)));break;case 12:if(f&2048){Ii(n,s,o,u),n=s.stateNode;try{var g=s.memoizedProps,b=g.id,C=g.onPostCommit;typeof C=="function"&&C(b,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){ft(s,s.return,V)}}else Ii(n,s,o,u);break;case 13:Ii(n,s,o,u);break;case 23:break;case 22:g=s.stateNode,b=s.alternate,s.memoizedState!==null?g._visibility&2?Ii(n,s,o,u):Al(n,s):g._visibility&2?Ii(n,s,o,u):(g._visibility|=2,Za(n,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&Dd(b,s);break;case 24:Ii(n,s,o,u),f&2048&&Nd(s.alternate,s);break;default:Ii(n,s,o,u)}}function Za(n,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=n,b=s,C=o,V=u,$=b.flags;switch(b.tag){case 0:case 11:case 15:Za(g,b,C,V,f),wl(8,b);break;case 23:break;case 22:var se=b.stateNode;b.memoizedState!==null?se._visibility&2?Za(g,b,C,V,f):Al(g,b):(se._visibility|=2,Za(g,b,C,V,f)),f&&$&2048&&Dd(b.alternate,b);break;case 24:Za(g,b,C,V,f),f&&$&2048&&Nd(b.alternate,b);break;default:Za(g,b,C,V,f)}s=s.sibling}}function Al(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:Al(o,u),f&2048&&Dd(u.alternate,u);break;case 24:Al(o,u),f&2048&&Nd(u.alternate,u);break;default:Al(o,u)}s=s.sibling}}var Rl=8192;function Xa(n){if(n.subtreeFlags&Rl)for(n=n.child;n!==null;)Ay(n),n=n.sibling}function Ay(n){switch(n.tag){case 26:Xa(n),n.flags&Rl&&n.memoizedState!==null&&aA(si,n.memoizedState,n.memoizedProps);break;case 5:Xa(n);break;case 3:case 4:var s=si;si=Uc(n.stateNode.containerInfo),Xa(n),si=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=Rl,Rl=16777216,Xa(n),Rl=s):Xa(n));break;default:Xa(n)}}function Ry(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Ll(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ft=u,Iy(u,n)}Ry(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ly(n),n=n.sibling}function Ly(n){switch(n.tag){case 0:case 11:case 15:Ll(n),n.flags&2048&&Br(9,n,n.return);break;case 3:Ll(n);break;case 12:Ll(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Ac(n)):Ll(n);break;default:Ll(n)}}function Ac(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Ft=u,Iy(u,n)}Ry(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Br(8,s,s.return),Ac(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Ac(s));break;default:Ac(s)}n=n.sibling}}function Iy(n,s){for(;Ft!==null;){var o=Ft;switch(o.tag){case 0:case 11:case 15:Br(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:cl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Ft=u;else e:for(o=n;Ft!==null;){u=Ft;var f=u.sibling,g=u.return;if(Ey(u),u===o){Ft=null;break e}if(f!==null){f.return=g,Ft=f;break e}Ft=g}}}var TC={getCacheForType:function(n){var s=an(kt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o}},SC=typeof WeakMap=="function"?WeakMap:Map,at=0,dt=null,qe=null,Xe=0,ot=0,Rn=null,Hr=!1,Wa=!1,Pd=!1,ur=0,bt=0,Fr=0,Zs=0,kd=0,Kn=0,Ja=0,Il=null,yn=null,Vd=!1,Ud=0,Rc=1/0,Lc=null,Gr=null,Wt=0,Kr=null,eo=null,to=0,jd=0,Bd=null,xy=null,xl=0,zd=null;function Ln(){if((at&2)!==0&&Xe!==0)return Xe&-Xe;if(Q.T!==null){var n=qa;return n!==0?n:Qd()}return ti()}function My(){Kn===0&&(Kn=(Xe&536870912)===0||nt?di():536870912);var n=Gn.current;return n!==null&&(n.flags|=32),Kn}function In(n,s,o){(n===dt&&(ot===2||ot===9)||n.cancelPendingCommit!==null)&&(no(n,0),$r(n,Xe,Kn,!1)),Pn(n,o),((at&2)===0||n!==dt)&&(n===dt&&((at&2)===0&&(Zs|=o),bt===4&&$r(n,Xe,Kn,!1)),xi(n))}function Oy(n,s,o){if((at&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&n.expiredLanes)===0||Dn(n,s),f=u?AC(n,s):Fd(n,s,!0),g=u;do{if(f===0){Wa&&!u&&$r(n,s,0,!1);break}else{if(o=n.current.alternate,g&&!wC(o)){f=Fd(n,s,!1),g=!1;continue}if(f===2){if(g=s,n.errorRecoveryDisabledLanes&g)var b=0;else b=n.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){s=b;e:{var C=n;f=Il;var V=C.current.memoizedState.isDehydrated;if(V&&(no(C,b).flags|=256),b=Fd(C,b,!1),b!==2){if(Pd&&!V){C.errorRecoveryDisabledLanes|=g,Zs|=g,f=4;break e}g=yn,yn=f,g!==null&&(yn===null?yn=g:yn.push.apply(yn,g))}f=b}if(g=!1,f!==2)continue}}if(f===1){no(n,0),$r(n,s,0,!0);break}e:{switch(u=n,g=f,g){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:$r(u,s,Kn,!Hr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Ud+300-Qt(),10<f)){if($r(u,s,Kn,!Hr),zi(u,0,!0)!==0)break e;u.timeoutHandle=o_(Dy.bind(null,u,o,yn,Lc,Vd,s,Kn,Zs,Ja,Hr,g,2,-0,0),f);break e}Dy(u,o,yn,Lc,Vd,s,Kn,Zs,Ja,Hr,g,0,-0,0)}}break}while(!0);xi(n)}function Dy(n,s,o,u,f,g,b,C,V,$,se,oe,Z,W){if(n.timeoutHandle=-1,oe=s.subtreeFlags,(oe&8192||(oe&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:sA},Ay(s),oe=oA(),oe!==null)){n.cancelPendingCommit=oe(By.bind(null,n,s,g,o,u,f,b,C,V,se,1,Z,W)),$r(n,g,b,!$);return}By(n,s,g,o,u,f,b,C,V)}function wC(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],g=f.getSnapshot;f=f.value;try{if(!Sn(g(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function $r(n,s,o,u){s&=~kd,s&=~Zs,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var g=31-Tt(f),b=1<<g;u[g]=-1,f&=~b}o!==0&&bn(n,o,s)}function Ic(){return(at&6)===0?(Ml(0),!1):!0}function qd(){if(qe!==null){if(ot===0)var n=qe.return;else n=qe,tr=Fs=null,sd(n),Qa=null,bl=0,n=qe;for(;n!==null;)fy(n.alternate,n),n=n.return;qe=null}}function no(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,qC(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),qd(),dt=n,qe=o=Wi(n.current,null),Xe=s,ot=0,Rn=null,Hr=!1,Wa=Dn(n,s),Pd=!1,Ja=Kn=kd=Zs=Fr=bt=0,yn=Il=null,Vd=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-Tt(u),g=1<<f;s|=n[f],u&=~g}return ur=s,Xu(),o}function Ny(n,s){Ue=null,Q.H=mc,s===fl||s===ac?(s=Xm(),ot=3):s===Qm?(s=Xm(),ot=4):ot=s===Wv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Rn=s,qe===null&&(bt=1,bc(n,zn(s,n.current)))}function Py(){var n=Q.H;return Q.H=mc,n===null?mc:n}function ky(){var n=Q.A;return Q.A=TC,n}function Hd(){bt=4,Hr||(Xe&4194048)!==Xe&&Gn.current!==null||(Wa=!0),(Fr&134217727)===0&&(Zs&134217727)===0||dt===null||$r(dt,Xe,Kn,!1)}function Fd(n,s,o){var u=at;at|=2;var f=Py(),g=ky();(dt!==n||Xe!==s)&&(Lc=null,no(n,s)),s=!1;var b=bt;e:do try{if(ot!==0&&qe!==null){var C=qe,V=Rn;switch(ot){case 8:qd(),b=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(s=!0);var $=ot;if(ot=0,Rn=null,io(n,C,V,$),o&&Wa){b=0;break e}break;default:$=ot,ot=0,Rn=null,io(n,C,V,$)}}CC(),b=bt;break}catch(se){Ny(n,se)}while(!0);return s&&n.shellSuspendCounter++,tr=Fs=null,at=u,Q.H=f,Q.A=g,qe===null&&(dt=null,Xe=0,Xu()),b}function CC(){for(;qe!==null;)Vy(qe)}function AC(n,s){var o=at;at|=2;var u=Py(),f=ky();dt!==n||Xe!==s?(Lc=null,Rc=Qt()+500,no(n,s)):Wa=Dn(n,s);e:do try{if(ot!==0&&qe!==null){s=qe;var g=Rn;t:switch(ot){case 1:ot=0,Rn=null,io(n,s,g,1);break;case 2:case 9:if(Ym(g)){ot=0,Rn=null,Uy(s);break}s=function(){ot!==2&&ot!==9||dt!==n||(ot=7),xi(n)},g.then(s,s);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Ym(g)?(ot=0,Rn=null,Uy(s)):(ot=0,Rn=null,io(n,s,g,7));break;case 5:var b=null;switch(qe.tag){case 26:b=qe.memoizedState;case 5:case 27:var C=qe;if(!b||__(b)){ot=0,Rn=null;var V=C.sibling;if(V!==null)qe=V;else{var $=C.return;$!==null?(qe=$,xc($)):qe=null}break t}}ot=0,Rn=null,io(n,s,g,5);break;case 6:ot=0,Rn=null,io(n,s,g,6);break;case 8:qd(),bt=6;break e;default:throw Error(r(462))}}RC();break}catch(se){Ny(n,se)}while(!0);return tr=Fs=null,Q.H=u,Q.A=f,at=o,qe!==null?0:(dt=null,Xe=0,Xu(),bt)}function RC(){for(;qe!==null&&!$e();)Vy(qe)}function Vy(n){var s=cy(n.alternate,n,ur);n.memoizedProps=n.pendingProps,s===null?xc(n):qe=s}function Uy(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=ry(o,s,s.pendingProps,s.type,void 0,Xe);break;case 11:s=ry(o,s,s.pendingProps,s.type.render,s.ref,Xe);break;case 5:sd(s);default:fy(o,s),s=qe=jm(s,ur),s=cy(o,s,ur)}n.memoizedProps=n.pendingProps,s===null?xc(n):qe=s}function io(n,s,o,u){tr=Fs=null,sd(s),Qa=null,bl=0;var f=s.return;try{if(mC(n,f,s,o,Xe)){bt=1,bc(n,zn(o,n.current)),qe=null;return}}catch(g){if(f!==null)throw qe=f,g;bt=1,bc(n,zn(o,n.current)),qe=null;return}s.flags&32768?(nt||u===1?n=!0:Wa||(Xe&536870912)!==0?n=!1:(Hr=n=!0,(u===2||u===9||u===3||u===6)&&(u=Gn.current,u!==null&&u.tag===13&&(u.flags|=16384))),jy(s,n)):xc(s)}function xc(n){var s=n;do{if((s.flags&32768)!==0){jy(s,Hr);return}n=s.return;var o=yC(s.alternate,s,ur);if(o!==null){qe=o;return}if(s=s.sibling,s!==null){qe=s;return}qe=s=n}while(s!==null);bt===0&&(bt=5)}function jy(n,s){do{var o=_C(n.alternate,n);if(o!==null){o.flags&=32767,qe=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){qe=n;return}qe=n=o}while(n!==null);bt=6,qe=null}function By(n,s,o,u,f,g,b,C,V){n.cancelPendingCommit=null;do Mc();while(Wt!==0);if((at&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(g=s.lanes|s.childLanes,g|=Nf,pi(n,o,g,b,C,V),n===dt&&(qe=dt=null,Xe=0),eo=s,Kr=n,to=o,jd=g,Bd=f,xy=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,MC(Mn,function(){return Gy(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Q.T,Q.T=null,f=ce.p,ce.p=2,b=at,at|=4;try{EC(n,s,o)}finally{at=b,ce.p=f,Q.T=u}}Wt=1,zy(),qy(),Hy()}}function zy(){if(Wt===1){Wt=0;var n=Kr,s=eo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Q.T,Q.T=null;var u=ce.p;ce.p=2;var f=at;at|=4;try{Sy(s,n);var g=np,b=Im(n.containerInfo),C=g.focusedElem,V=g.selectionRange;if(b!==C&&C&&C.ownerDocument&&Lm(C.ownerDocument.documentElement,C)){if(V!==null&&If(C)){var $=V.start,se=V.end;if(se===void 0&&(se=$),"selectionStart"in C)C.selectionStart=$,C.selectionEnd=Math.min(se,C.value.length);else{var oe=C.ownerDocument||document,Z=oe&&oe.defaultView||window;if(Z.getSelection){var W=Z.getSelection(),Ie=C.textContent.length,Re=Math.min(V.start,Ie),ht=V.end===void 0?Re:Math.min(V.end,Ie);!W.extend&&Re>ht&&(b=ht,ht=Re,Re=b);var q=Rm(C,Re),B=Rm(C,ht);if(q&&B&&(W.rangeCount!==1||W.anchorNode!==q.node||W.anchorOffset!==q.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var K=oe.createRange();K.setStart(q.node,q.offset),W.removeAllRanges(),Re>ht?(W.addRange(K),W.extend(B.node,B.offset)):(K.setEnd(B.node,B.offset),W.addRange(K))}}}}for(oe=[],W=C;W=W.parentNode;)W.nodeType===1&&oe.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<oe.length;C++){var ae=oe[C];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Hc=!!tp,np=tp=null}finally{at=f,ce.p=u,Q.T=o}}n.current=s,Wt=2}}function qy(){if(Wt===2){Wt=0;var n=Kr,s=eo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Q.T,Q.T=null;var u=ce.p;ce.p=2;var f=at;at|=4;try{_y(n,s.alternate,s)}finally{at=f,ce.p=u,Q.T=o}}Wt=3}}function Hy(){if(Wt===4||Wt===3){Wt=0,Es();var n=Kr,s=eo,o=to,u=xy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Wt=5:(Wt=0,eo=Kr=null,Fy(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Gr=null),ei(o),s=s.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(pt,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Q.T,f=ce.p,ce.p=2,Q.T=null;try{for(var g=n.onRecoverableError,b=0;b<u.length;b++){var C=u[b];g(C.value,{componentStack:C.stack})}}finally{Q.T=s,ce.p=f}}(to&3)!==0&&Mc(),xi(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===zd?xl++:(xl=0,zd=n):xl=0,Ml(0)}}function Fy(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,cl(s)))}function Mc(n){return zy(),qy(),Hy(),Gy()}function Gy(){if(Wt!==5)return!1;var n=Kr,s=jd;jd=0;var o=ei(to),u=Q.T,f=ce.p;try{ce.p=32>o?32:o,Q.T=null,o=Bd,Bd=null;var g=Kr,b=to;if(Wt=0,eo=Kr=null,to=0,(at&6)!==0)throw Error(r(331));var C=at;if(at|=4,Ly(g.current),Cy(g,g.current,b,o),at=C,Ml(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(pt,g)}catch{}return!0}finally{ce.p=f,Q.T=u,Fy(n,s)}}function Ky(n,s,o){s=zn(o,s),s=_d(n.stateNode,s,2),n=kr(n,s,2),n!==null&&(Pn(n,2),xi(n))}function ft(n,s,o){if(n.tag===3)Ky(n,n,o);else for(;s!==null;){if(s.tag===3){Ky(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Gr===null||!Gr.has(u))){n=zn(o,n),o=Zv(2),u=kr(s,o,2),u!==null&&(Xv(o,u,s,n),Pn(u,2),xi(u));break}}s=s.return}}function Gd(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new SC;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(Pd=!0,f.add(o),n=LC.bind(null,n,s,o),s.then(n,n))}function LC(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,dt===n&&(Xe&o)===o&&(bt===4||bt===3&&(Xe&62914560)===Xe&&300>Qt()-Ud?(at&2)===0&&no(n,0):kd|=o,Ja===Xe&&(Ja=0)),xi(n)}function $y(n,s){s===0&&(s=Rr()),n=Ua(n,s),n!==null&&(Pn(n,s),xi(n))}function IC(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),$y(n,o)}function xC(n,s){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),$y(n,o)}function MC(n,s){return $t(n,s)}var Oc=null,ro=null,Kd=!1,Dc=!1,$d=!1,Xs=0;function xi(n){n!==ro&&n.next===null&&(ro===null?Oc=ro=n:ro=ro.next=n),Dc=!0,Kd||(Kd=!0,DC())}function Ml(n,s){if(!$d&&Dc){$d=!0;do for(var o=!1,u=Oc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var b=u.suspendedLanes,C=u.pingedLanes;g=(1<<31-Tt(42|n)+1)-1,g&=f&~(b&~C),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Xy(u,g))}else g=Xe,g=zi(u,u===dt?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Dn(u,g)||(o=!0,Xy(u,g));u=u.next}while(o);$d=!1}}function OC(){Qy()}function Qy(){Dc=Kd=!1;var n=0;Xs!==0&&(zC()&&(n=Xs),Xs=0);for(var s=Qt(),o=null,u=Oc;u!==null;){var f=u.next,g=Yy(u,s);g===0?(u.next=null,o===null?Oc=f:o.next=f,f===null&&(ro=o)):(o=u,(n!==0||(g&3)!==0)&&(Dc=!0)),u=f}Ml(n)}function Yy(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var b=31-Tt(g),C=1<<b,V=f[b];V===-1?((C&o)===0||(C&u)!==0)&&(f[b]=Ar(C,s)):V<=s&&(n.expiredLanes|=C),g&=~C}if(s=dt,o=Xe,o=zi(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(ot===2||ot===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&En(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Dn(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&En(u),ei(o)){case 2:case 8:o=Bi;break;case 32:o=Mn;break;case 268435456:o=Wn;break;default:o=Mn}return u=Zy.bind(null,n),o=$t(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&En(u),n.callbackPriority=2,n.callbackNode=null,2}function Zy(n,s){if(Wt!==0&&Wt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Mc()&&n.callbackNode!==o)return null;var u=Xe;return u=zi(n,n===dt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Oy(n,u,s),Yy(n,Qt()),n.callbackNode!=null&&n.callbackNode===o?Zy.bind(null,n):null)}function Xy(n,s){if(Mc())return null;Oy(n,s,!0)}function DC(){HC(function(){(at&6)!==0?$t(ci,OC):Qy()})}function Qd(){return Xs===0&&(Xs=di()),Xs}function Wy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Aa(""+n)}function Jy(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function NC(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var g=Wy((f[Rt]||null).action),b=u.submitter;b&&(s=(s=b[Rt]||null)?Wy(s.formAction):b.getAttribute("formAction"),s!==null&&(g=s,b=null));var C=new Ra("action","action",null,u,f);n.push({event:C,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Xs!==0){var V=b?Jy(f,b):new FormData(f);pd(o,{pending:!0,data:V,method:f.method,action:g},null,V)}}else typeof g=="function"&&(C.preventDefault(),V=b?Jy(f,b):new FormData(f),pd(o,{pending:!0,data:V,method:f.method,action:g},g,V))},currentTarget:f}]})}}for(var Yd=0;Yd<Df.length;Yd++){var Zd=Df[Yd],PC=Zd.toLowerCase(),kC=Zd[0].toUpperCase()+Zd.slice(1);ri(PC,"on"+kC)}ri(Om,"onAnimationEnd"),ri(Dm,"onAnimationIteration"),ri(Nm,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Jw,"onTransitionRun"),ri(eC,"onTransitionStart"),ri(tC,"onTransitionCancel"),ri(Pm,"onTransitionEnd"),Hi("onMouseEnter",["mouseout","mouseover"]),Hi("onMouseLeave",["mouseout","mouseover"]),Hi("onPointerEnter",["pointerout","pointerover"]),Hi("onPointerLeave",["pointerout","pointerover"]),ni("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ni("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ni("onBeforeInput",["compositionend","keypress","textInput","paste"]),ni("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ni("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function e_(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var b=u.length-1;0<=b;b--){var C=u[b],V=C.instance,$=C.currentTarget;if(C=C.listener,V!==g&&f.isPropagationStopped())break e;g=C,f.currentTarget=$;try{g(f)}catch(se){Ec(se)}f.currentTarget=null,g=V}else for(b=0;b<u.length;b++){if(C=u[b],V=C.instance,$=C.currentTarget,C=C.listener,V!==g&&f.isPropagationStopped())break e;g=C,f.currentTarget=$;try{g(f)}catch(se){Ec(se)}f.currentTarget=null,g=V}}}}function He(n,s){var o=s[Ho];o===void 0&&(o=s[Ho]=new Set);var u=n+"__bubble";o.has(u)||(t_(s,n,2,!1),o.add(u))}function Xd(n,s,o){var u=0;s&&(u|=4),t_(o,n,u,s)}var Nc="_reactListening"+Math.random().toString(36).slice(2);function Wd(n){if(!n[Nc]){n[Nc]=!0,Fo.forEach(function(o){o!=="selectionchange"&&(VC.has(o)||Xd(o,!1,n),Xd(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Nc]||(s[Nc]=!0,Xd("selectionchange",!1,s))}}function t_(n,s,o,u){switch(C_(s)){case 2:var f=cA;break;case 8:f=hA;break;default:f=fp}o=f.bind(null,s,o,n),f=void 0,!jn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function Jd(n,s,o,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var C=u.stateNode.containerInfo;if(C===f)break;if(b===4)for(b=u.return;b!==null;){var V=b.tag;if((V===3||V===4)&&b.stateNode.containerInfo===f)return;b=b.return}for(;C!==null;){if(b=qi(C),b===null)return;if(V=b.tag,V===5||V===6||V===26||V===27){u=g=b;continue e}C=C.parentNode}}u=u.return}ku(function(){var $=g,se=Un(o),oe=[];e:{var Z=km.get(n);if(Z!==void 0){var W=Ra,Ie=n;switch(n){case"keypress":if(bi(o)===0)break e;case"keydown":case"keyup":W=Da;break;case"focusin":Ie="focus",W=xa;break;case"focusout":Ie="blur",W=xa;break;case"beforeblur":case"afterblur":W=xa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=Bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=Cf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=Fu;break;case Om:case Dm:case Nm:W=Ma;break;case Pm:W=Ku;break;case"scroll":case"scrollend":W=Vu;break;case"wheel":W=Na;break;case"copy":case"cut":case"paste":W=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=nl;break;case"toggle":case"beforetoggle":W=Qu}var Re=(s&4)!==0,ht=!Re&&(n==="scroll"||n==="scrollend"),q=Re?Z!==null?Z+"Capture":null:Z;Re=[];for(var B=$,K;B!==null;){var ae=B;if(K=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||K===null||q===null||(ae=xs(B,q),ae!=null&&Re.push(Dl(B,ae,K))),ht)break;B=B.return}0<Re.length&&(Z=new W(Z,Ie,null,o,se),oe.push({event:Z,listeners:Re}))}}if((s&7)===0){e:{if(Z=n==="mouseover"||n==="pointerover",W=n==="mouseout"||n==="pointerout",Z&&o!==Ki&&(Ie=o.relatedTarget||o.fromElement)&&(qi(Ie)||Ie[kn]))break e;if((W||Z)&&(Z=se.window===se?se:(Z=se.ownerDocument)?Z.defaultView||Z.parentWindow:window,W?(Ie=o.relatedTarget||o.toElement,W=$,Ie=Ie?qi(Ie):null,Ie!==null&&(ht=l(Ie),Re=Ie.tag,Ie!==ht||Re!==5&&Re!==27&&Re!==6)&&(Ie=null)):(W=null,Ie=$),W!==Ie)){if(Re=Bn,ae="onMouseLeave",q="onMouseEnter",B="mouse",(n==="pointerout"||n==="pointerover")&&(Re=nl,ae="onPointerLeave",q="onPointerEnter",B="pointer"),ht=W==null?Z:vi(W),K=Ie==null?Z:vi(Ie),Z=new Re(ae,B+"leave",W,o,se),Z.target=ht,Z.relatedTarget=K,ae=null,qi(se)===$&&(Re=new Re(q,B+"enter",Ie,o,se),Re.target=K,Re.relatedTarget=ht,ae=Re),ht=ae,W&&Ie)t:{for(Re=W,q=Ie,B=0,K=Re;K;K=so(K))B++;for(K=0,ae=q;ae;ae=so(ae))K++;for(;0<B-K;)Re=so(Re),B--;for(;0<K-B;)q=so(q),K--;for(;B--;){if(Re===q||q!==null&&Re===q.alternate)break t;Re=so(Re),q=so(q)}Re=null}else Re=null;W!==null&&n_(oe,Z,W,Re,!1),Ie!==null&&ht!==null&&n_(oe,ht,Ie,Re,!0)}}e:{if(Z=$?vi($):window,W=Z.nodeName&&Z.nodeName.toLowerCase(),W==="select"||W==="input"&&Z.type==="file")var Ee=bm;else if(Pt(Z))if(Tm)Ee=Zw;else{Ee=Qw;var Be=$w}else W=Z.nodeName,!W||W.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?$&&Yo($.elementType)&&(Ee=bm):Ee=Yw;if(Ee&&(Ee=Ee(n,$))){Xi(oe,Ee,o,se);break e}Be&&Be(n,Z,$),n==="focusout"&&$&&Z.type==="number"&&$.memoizedProps.value!=null&&Mr(Z,"number",Z.value)}switch(Be=$?vi($):window,n){case"focusin":(Pt(Be)||Be.contentEditable==="true")&&(Pa=Be,xf=$,sl=null);break;case"focusout":sl=xf=Pa=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,xm(oe,o,se);break;case"selectionchange":if(Ww)break;case"keydown":case"keyup":xm(oe,o,se)}var Ce;if(wi)e:{switch(n){case"compositionstart":var Le="onCompositionStart";break e;case"compositionend":Le="onCompositionEnd";break e;case"compositionupdate":Le="onCompositionUpdate";break e}Le=void 0}else Ye?te(n,o)&&(Le="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Le="onCompositionStart");Le&&(E&&o.locale!=="ko"&&(Ye||Le!=="onCompositionStart"?Le==="onCompositionEnd"&&Ye&&(Ce=Xo()):(Ei=se,Or="value"in Ei?Ei.value:Ei.textContent,Ye=!0)),Be=Pc($,Le),0<Be.length&&(Le=new el(Le,n,null,o,se),oe.push({event:Le,listeners:Be}),Ce?Le.data=Ce:(Ce=de(o),Ce!==null&&(Le.data=Ce)))),(Ce=v?Nt(n,o):Ze(n,o))&&(Le=Pc($,"onBeforeInput"),0<Le.length&&(Be=new el("onBeforeInput","beforeinput",null,o,se),oe.push({event:Be,listeners:Le}),Be.data=Ce)),NC(oe,n,$,o,se)}e_(oe,s)})}function Dl(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Pc(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=xs(n,o),f!=null&&u.unshift(Dl(n,f,g)),f=xs(n,s),f!=null&&u.push(Dl(n,f,g))),n.tag===3)return u;n=n.return}return[]}function so(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function n_(n,s,o,u,f){for(var g=s._reactName,b=[];o!==null&&o!==u;){var C=o,V=C.alternate,$=C.stateNode;if(C=C.tag,V!==null&&V===u)break;C!==5&&C!==26&&C!==27||$===null||(V=$,f?($=xs(o,g),$!=null&&b.unshift(Dl(o,$,V))):f||($=xs(o,g),$!=null&&b.push(Dl(o,$,V)))),o=o.return}b.length!==0&&n.push({event:s,listeners:b})}var UC=/\r\n?/g,jC=/\u0000|\uFFFD/g;function i_(n){return(typeof n=="string"?n:""+n).replace(UC,`
`).replace(jC,"")}function r_(n,s){return s=i_(s),i_(n)===s}function kc(){}function ct(n,s,o,u,f,g){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Vn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Vn(n,""+u);break;case"className":yi(n,"class",u);break;case"tabIndex":yi(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":yi(n,o,u);break;case"style":Qo(n,u,g);break;case"data":if(s!=="object"){yi(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Aa(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(s!=="input"&&ct(n,s,"name",f.name,f,null),ct(n,s,"formEncType",f.formEncType,f,null),ct(n,s,"formMethod",f.formMethod,f,null),ct(n,s,"formTarget",f.formTarget,f,null)):(ct(n,s,"encType",f.encType,f,null),ct(n,s,"method",f.method,f,null),ct(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Aa(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=kc);break;case"onScroll":u!=null&&He("scroll",n);break;case"onScrollEnd":u!=null&&He("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Aa(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":He("beforetoggle",n),He("toggle",n),xr(n,"popover",u);break;case"xlinkActuate":Yt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Yt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Yt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Yt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Yt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Yt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Yt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Yt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Yt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Sf.get(o)||o,xr(n,o,u))}}function ep(n,s,o,u,f,g){switch(o){case"style":Qo(n,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Vn(n,u):(typeof u=="number"||typeof u=="bigint")&&Vn(n,""+u);break;case"onScroll":u!=null&&He("scroll",n);break;case"onScrollEnd":u!=null&&He("scrollend",n);break;case"onClick":u!=null&&(n.onclick=kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),g=n[Rt]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):xr(n,o,u)}}}function Jt(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":He("error",n),He("load",n);var u=!1,f=!1,g;for(g in o)if(o.hasOwnProperty(g)){var b=o[g];if(b!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(n,s,g,b,o,null)}}f&&ct(n,s,"srcSet",o.srcSet,o,null),u&&ct(n,s,"src",o.src,o,null);return;case"input":He("invalid",n);var C=g=b=f=null,V=null,$=null;for(u in o)if(o.hasOwnProperty(u)){var se=o[u];if(se!=null)switch(u){case"name":f=se;break;case"type":b=se;break;case"checked":V=se;break;case"defaultChecked":$=se;break;case"value":g=se;break;case"defaultValue":C=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,s));break;default:ct(n,s,u,se,o,null)}}Rs(n,g,C,V,$,b,f,!1),Ca(n);return;case"select":He("invalid",n),u=b=g=null;for(f in o)if(o.hasOwnProperty(f)&&(C=o[f],C!=null))switch(f){case"value":g=C;break;case"defaultValue":b=C;break;case"multiple":u=C;default:ct(n,s,f,C,o,null)}s=g,o=b,n.multiple=!!u,s!=null?Gi(n,!!u,s,!1):o!=null&&Gi(n,!!u,o,!0);return;case"textarea":He("invalid",n),g=f=u=null;for(b in o)if(o.hasOwnProperty(b)&&(C=o[b],C!=null))switch(b){case"value":u=C;break;case"defaultValue":f=C;break;case"children":g=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:ct(n,s,b,C,o,null)}Ls(n,u,f,g),Ca(n);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ct(n,s,V,u,o,null)}return;case"dialog":He("beforetoggle",n),He("toggle",n),He("cancel",n),He("close",n);break;case"iframe":case"object":He("load",n);break;case"video":case"audio":for(u=0;u<Ol.length;u++)He(Ol[u],n);break;case"image":He("error",n),He("load",n);break;case"details":He("toggle",n);break;case"embed":case"source":case"link":He("error",n),He("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in o)if(o.hasOwnProperty($)&&(u=o[$],u!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ct(n,s,$,u,o,null)}return;default:if(Yo(s)){for(se in o)o.hasOwnProperty(se)&&(u=o[se],u!==void 0&&ep(n,s,se,u,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(u=o[C],u!=null&&ct(n,s,C,u,o,null))}function BC(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,b=null,C=null,V=null,$=null,se=null;for(W in o){var oe=o[W];if(o.hasOwnProperty(W)&&oe!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":V=oe;default:u.hasOwnProperty(W)||ct(n,s,W,null,u,oe)}}for(var Z in u){var W=u[Z];if(oe=o[Z],u.hasOwnProperty(Z)&&(W!=null||oe!=null))switch(Z){case"type":g=W;break;case"name":f=W;break;case"checked":$=W;break;case"defaultChecked":se=W;break;case"value":b=W;break;case"defaultValue":C=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(137,s));break;default:W!==oe&&ct(n,s,Z,W,u,oe)}}Tn(n,b,C,V,$,se,g,f);return;case"select":W=b=C=Z=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":W=V;default:u.hasOwnProperty(g)||ct(n,s,g,null,u,V)}for(f in u)if(g=u[f],V=o[f],u.hasOwnProperty(f)&&(g!=null||V!=null))switch(f){case"value":Z=g;break;case"defaultValue":C=g;break;case"multiple":b=g;default:g!==V&&ct(n,s,f,g,u,V)}s=C,o=b,u=W,Z!=null?Gi(n,!!o,Z,!1):!!u!=!!o&&(s!=null?Gi(n,!!o,s,!0):Gi(n,!!o,o?[]:"",!1));return;case"textarea":W=Z=null;for(C in o)if(f=o[C],o.hasOwnProperty(C)&&f!=null&&!u.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ct(n,s,C,null,u,f)}for(b in u)if(f=u[b],g=o[b],u.hasOwnProperty(b)&&(f!=null||g!=null))switch(b){case"value":Z=f;break;case"defaultValue":W=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==g&&ct(n,s,b,f,u,g)}lt(n,Z,W);return;case"option":for(var Ie in o)if(Z=o[Ie],o.hasOwnProperty(Ie)&&Z!=null&&!u.hasOwnProperty(Ie))switch(Ie){case"selected":n.selected=!1;break;default:ct(n,s,Ie,null,u,Z)}for(V in u)if(Z=u[V],W=o[V],u.hasOwnProperty(V)&&Z!==W&&(Z!=null||W!=null))switch(V){case"selected":n.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ct(n,s,V,Z,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)Z=o[Re],o.hasOwnProperty(Re)&&Z!=null&&!u.hasOwnProperty(Re)&&ct(n,s,Re,null,u,Z);for($ in u)if(Z=u[$],W=o[$],u.hasOwnProperty($)&&Z!==W&&(Z!=null||W!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:ct(n,s,$,Z,u,W)}return;default:if(Yo(s)){for(var ht in o)Z=o[ht],o.hasOwnProperty(ht)&&Z!==void 0&&!u.hasOwnProperty(ht)&&ep(n,s,ht,void 0,u,Z);for(se in u)Z=u[se],W=o[se],!u.hasOwnProperty(se)||Z===W||Z===void 0&&W===void 0||ep(n,s,se,Z,u,W);return}}for(var q in o)Z=o[q],o.hasOwnProperty(q)&&Z!=null&&!u.hasOwnProperty(q)&&ct(n,s,q,null,u,Z);for(oe in u)Z=u[oe],W=o[oe],!u.hasOwnProperty(oe)||Z===W||Z==null&&W==null||ct(n,s,oe,Z,u,W)}var tp=null,np=null;function Vc(n){return n.nodeType===9?n:n.ownerDocument}function s_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function a_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function ip(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var rp=null;function zC(){var n=window.event;return n&&n.type==="popstate"?n===rp?!1:(rp=n,!0):(rp=null,!1)}var o_=typeof setTimeout=="function"?setTimeout:void 0,qC=typeof clearTimeout=="function"?clearTimeout:void 0,l_=typeof Promise=="function"?Promise:void 0,HC=typeof queueMicrotask=="function"?queueMicrotask:typeof l_<"u"?function(n){return l_.resolve(null).then(n).catch(FC)}:o_;function FC(n){setTimeout(function(){throw n})}function Qr(n){return n==="head"}function u_(n,s){var o=s,u=0,f=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<u&&8>u){o=u;var b=n.ownerDocument;if(o&1&&Nl(b.documentElement),o&2&&Nl(b.body),o&4)for(o=b.head,Nl(o),b=o.firstChild;b;){var C=b.nextSibling,V=b.nodeName;b[Ss]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&b.rel.toLowerCase()==="stylesheet"||o.removeChild(b),b=C}}if(f===0){n.removeChild(g),ql(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=g}while(o);ql(s)}function sp(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":sp(o),Ir(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function GC(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ss])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=ai(n.nextSibling),n===null)break}return null}function KC(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=ai(n.nextSibling),n===null))return null;return n}function ap(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function $C(n,s){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function ai(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var op=null;function c_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}function h_(n,s,o){switch(s=Vc(o),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Nl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ir(n)}var $n=new Map,f_=new Set;function Uc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var cr=ce.d;ce.d={f:QC,r:YC,D:ZC,C:XC,L:WC,m:JC,X:tA,S:eA,M:nA};function QC(){var n=cr.f(),s=Ic();return n||s}function YC(n){var s=mi(n);s!==null&&s.tag===5&&s.type==="form"?Ov(s):cr.r(n)}var ao=typeof document>"u"?null:document;function d_(n,s,o){var u=ao;if(u&&typeof s=="string"&&s){var f=Lt(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),f_.has(f)||(f_.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Jt(s,"link",n),St(s),u.head.appendChild(s)))}}function ZC(n){cr.D(n),d_("dns-prefetch",n,null)}function XC(n,s){cr.C(n,s),d_("preconnect",n,s)}function WC(n,s,o){cr.L(n,s,o);var u=ao;if(u&&n&&s){var f='link[rel="preload"][as="'+Lt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Lt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Lt(o.imageSizes)+'"]')):f+='[href="'+Lt(n)+'"]';var g=f;switch(s){case"style":g=oo(n);break;case"script":g=lo(n)}$n.has(g)||(n=_({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),$n.set(g,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(Pl(g))||s==="script"&&u.querySelector(kl(g))||(s=u.createElement("link"),Jt(s,"link",n),St(s),u.head.appendChild(s)))}}function JC(n,s){cr.m(n,s);var o=ao;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Lt(u)+'"][href="'+Lt(n)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=lo(n)}if(!$n.has(g)&&(n=_({rel:"modulepreload",href:n},s),$n.set(g,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(kl(g)))return}u=o.createElement("link"),Jt(u,"link",n),St(u),o.head.appendChild(u)}}}function eA(n,s,o){cr.S(n,s,o);var u=ao;if(u&&n){var f=fn(u).hoistableStyles,g=oo(n);s=s||"default";var b=f.get(g);if(!b){var C={loading:0,preload:null};if(b=u.querySelector(Pl(g)))C.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":s},o),(o=$n.get(g))&&lp(n,o);var V=b=u.createElement("link");St(V),Jt(V,"link",n),V._p=new Promise(function($,se){V.onload=$,V.onerror=se}),V.addEventListener("load",function(){C.loading|=1}),V.addEventListener("error",function(){C.loading|=2}),C.loading|=4,jc(b,s,u)}b={type:"stylesheet",instance:b,count:1,state:C},f.set(g,b)}}}function tA(n,s){cr.X(n,s);var o=ao;if(o&&n){var u=fn(o).hoistableScripts,f=lo(n),g=u.get(f);g||(g=o.querySelector(kl(f)),g||(n=_({src:n,async:!0},s),(s=$n.get(f))&&up(n,s),g=o.createElement("script"),St(g),Jt(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function nA(n,s){cr.M(n,s);var o=ao;if(o&&n){var u=fn(o).hoistableScripts,f=lo(n),g=u.get(f);g||(g=o.querySelector(kl(f)),g||(n=_({src:n,async:!0,type:"module"},s),(s=$n.get(f))&&up(n,s),g=o.createElement("script"),St(g),Jt(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function p_(n,s,o,u){var f=(f=ge.current)?Uc(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=oo(o.href),o=fn(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=oo(o.href);var g=fn(f).hoistableStyles,b=g.get(n);if(b||(f=f.ownerDocument||f,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,b),(g=f.querySelector(Pl(n)))&&!g._p&&(b.instance=g,b.state.loading=5),$n.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},$n.set(n,o),g||iA(f,n,o,b.state))),s&&u===null)throw Error(r(528,""));return b}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=lo(o),o=fn(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function oo(n){return'href="'+Lt(n)+'"'}function Pl(n){return'link[rel="stylesheet"]['+n+"]"}function g_(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function iA(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Jt(s,"link",o),St(s),n.head.appendChild(s))}function lo(n){return'[src="'+Lt(n)+'"]'}function kl(n){return"script[async]"+n}function m_(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Lt(o.href)+'"]');if(u)return s.instance=u,St(u),u;var f=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),St(u),Jt(u,"style",f),jc(u,o.precedence,n),s.instance=u;case"stylesheet":f=oo(o.href);var g=n.querySelector(Pl(f));if(g)return s.state.loading|=4,s.instance=g,St(g),g;u=g_(o),(f=$n.get(f))&&lp(u,f),g=(n.ownerDocument||n).createElement("link"),St(g);var b=g;return b._p=new Promise(function(C,V){b.onload=C,b.onerror=V}),Jt(g,"link",u),s.state.loading|=4,jc(g,o.precedence,n),s.instance=g;case"script":return g=lo(o.src),(f=n.querySelector(kl(g)))?(s.instance=f,St(f),f):(u=o,(f=$n.get(g))&&(u=_({},o),up(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),St(f),Jt(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,jc(u,o.precedence,n));return s.instance}function jc(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,b=0;b<u.length;b++){var C=u[b];if(C.dataset.precedence===s)g=C;else if(g!==f)break}g?g.parentNode.insertBefore(n,g.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function lp(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function up(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Bc=null;function v_(n,s,o){if(Bc===null){var u=new Map,f=Bc=new Map;f.set(o,u)}else f=Bc,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var g=o[f];if(!(g[Ss]||g[be]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var b=g.getAttribute(s)||"";b=n+b;var C=u.get(b);C?C.push(g):u.set(b,[g])}}return u}function y_(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function rA(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function __(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Vl=null;function sA(){}function aA(n,s,o){if(Vl===null)throw Error(r(475));var u=Vl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=oo(o.href),g=n.querySelector(Pl(f));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=zc.bind(u),n.then(u,u)),s.state.loading|=4,s.instance=g,St(g);return}g=n.ownerDocument||n,o=g_(o),(f=$n.get(f))&&lp(o,f),g=g.createElement("link"),St(g);var b=g;b._p=new Promise(function(C,V){b.onload=C,b.onerror=V}),Jt(g,"link",o),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=zc.bind(u),n.addEventListener("load",s),n.addEventListener("error",s))}}function oA(){if(Vl===null)throw Error(r(475));var n=Vl;return n.stylesheets&&n.count===0&&cp(n,n.stylesheets),0<n.count?function(s){var o=setTimeout(function(){if(n.stylesheets&&cp(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(o)}}:null}function zc(){if(this.count--,this.count===0){if(this.stylesheets)cp(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var qc=null;function cp(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,qc=new Map,s.forEach(lA,n),qc=null,zc.call(n))}function lA(n,s){if(!(s.state.loading&4)){var o=qc.get(n);if(o)var u=o.get(null);else{o=new Map,qc.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var b=f[g];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(o.set(b.dataset.precedence,b),u=b)}u&&o.set(null,u)}f=s.instance,b=f.getAttribute("data-precedence"),g=o.get(b)||u,g===u&&o.set(null,f),o.set(b,f),this.count++,u=zc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Ul={$$typeof:X,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function uA(n,s,o,u,f,g,b,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nn(0),this.hiddenUpdates=Nn(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function E_(n,s,o,u,f,g,b,C,V,$,se,oe){return n=new uA(n,s,o,b,C,V,$,oe),s=1,g===!0&&(s|=24),g=wn(3,null,null,s),n.current=g,g.stateNode=n,s=Gf(),s.refCount++,n.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:o,cache:s},Yf(g),n}function b_(n){return n?(n=ja,n):ja}function T_(n,s,o,u,f,g){f=b_(f),u.context===null?u.context=f:u.pendingContext=f,u=Pr(s),u.payload={element:o},g=g===void 0?null:g,g!==null&&(u.callback=g),o=kr(n,u,s),o!==null&&(In(o,n,s),pl(o,n,s))}function S_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function hp(n,s){S_(n,s),(n=n.alternate)&&S_(n,s)}function w_(n){if(n.tag===13){var s=Ua(n,67108864);s!==null&&In(s,n,67108864),hp(n,67108864)}}var Hc=!0;function cA(n,s,o,u){var f=Q.T;Q.T=null;var g=ce.p;try{ce.p=2,fp(n,s,o,u)}finally{ce.p=g,Q.T=f}}function hA(n,s,o,u){var f=Q.T;Q.T=null;var g=ce.p;try{ce.p=8,fp(n,s,o,u)}finally{ce.p=g,Q.T=f}}function fp(n,s,o,u){if(Hc){var f=dp(u);if(f===null)Jd(n,s,u,Fc,o),A_(n,u);else if(dA(f,n,s,o,u))u.stopPropagation();else if(A_(n,u),s&4&&-1<fA.indexOf(n)){for(;f!==null;){var g=mi(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var b=sn(g.pendingLanes);if(b!==0){var C=g;for(C.pendingLanes|=2,C.entangledLanes|=2;b;){var V=1<<31-Tt(b);C.entanglements[1]|=V,b&=~V}xi(g),(at&6)===0&&(Rc=Qt()+500,Ml(0))}}break;case 13:C=Ua(g,2),C!==null&&In(C,g,2),Ic(),hp(g,2)}if(g=dp(u),g===null&&Jd(n,s,u,Fc,o),g===f)break;f=g}f!==null&&u.stopPropagation()}else Jd(n,s,u,null,o)}}function dp(n){return n=Un(n),pp(n)}var Fc=null;function pp(n){if(Fc=null,n=qi(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Fc=n,null}function C_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ya()){case ci:return 2;case Bi:return 8;case Mn:case _a:return 32;case Wn:return 268435456;default:return 32}default:return 32}}var gp=!1,Yr=null,Zr=null,Xr=null,jl=new Map,Bl=new Map,Wr=[],fA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function A_(n,s){switch(n){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Zr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":jl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(s.pointerId)}}function zl(n,s,o,u,f,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=mi(s),s!==null&&w_(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function dA(n,s,o,u,f){switch(s){case"focusin":return Yr=zl(Yr,n,s,o,u,f),!0;case"dragenter":return Zr=zl(Zr,n,s,o,u,f),!0;case"mouseover":return Xr=zl(Xr,n,s,o,u,f),!0;case"pointerover":var g=f.pointerId;return jl.set(g,zl(jl.get(g)||null,n,s,o,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Bl.set(g,zl(Bl.get(g)||null,n,s,o,u,f)),!0}return!1}function R_(n){var s=qi(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,Ea(n.priority,function(){if(o.tag===13){var u=Ln();u=Jn(u);var f=Ua(o,u);f!==null&&In(f,o,u),hp(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Gc(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=dp(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Ki=u,o.target.dispatchEvent(u),Ki=null}else return s=mi(o),s!==null&&w_(s),n.blockedOn=o,!1;s.shift()}return!0}function L_(n,s,o){Gc(n)&&o.delete(s)}function pA(){gp=!1,Yr!==null&&Gc(Yr)&&(Yr=null),Zr!==null&&Gc(Zr)&&(Zr=null),Xr!==null&&Gc(Xr)&&(Xr=null),jl.forEach(L_),Bl.forEach(L_)}function Kc(n,s){n.blockedOn===s&&(n.blockedOn=null,gp||(gp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,pA)))}var $c=null;function I_(n){$c!==n&&($c=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){$c===n&&($c=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(pp(u||o)===null)continue;break}var g=mi(o);g!==null&&(n.splice(s,3),s-=3,pd(g,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function ql(n){function s(V){return Kc(V,n)}Yr!==null&&Kc(Yr,n),Zr!==null&&Kc(Zr,n),Xr!==null&&Kc(Xr,n),jl.forEach(s),Bl.forEach(s);for(var o=0;o<Wr.length;o++){var u=Wr[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Wr.length&&(o=Wr[0],o.blockedOn===null);)R_(o),o.blockedOn===null&&Wr.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],g=o[u+1],b=f[Rt]||null;if(typeof g=="function")b||I_(o);else if(b){var C=null;if(g&&g.hasAttribute("formAction")){if(f=g,b=g[Rt]||null)C=b.formAction;else if(pp(f)!==null)continue}else C=b.action;typeof C=="function"?o[u+1]=C:(o.splice(u,3),u-=3),I_(o)}}}function mp(n){this._internalRoot=n}Qc.prototype.render=mp.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Ln();T_(o,u,n,s,null,null)},Qc.prototype.unmount=mp.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;T_(n.current,2,null,n,null,null),Ic(),s[kn]=null}};function Qc(n){this._internalRoot=n}Qc.prototype.unstable_scheduleHydration=function(n){if(n){var s=ti();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Wr.length&&s!==0&&s<Wr[o].priority;o++);Wr.splice(o,0,n),o===0&&R_(n)}};var x_=e.version;if(x_!=="19.1.0")throw Error(r(527,x_,"19.1.0"));ce.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(s),n=n!==null?m(n):null,n=n===null?null:n.stateNode,n};var gA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{pt=Yc.inject(gA),Qe=Yc}catch{}}return Fl.createRoot=function(n,s){if(!a(n))throw Error(r(299));var o=!1,u="",f=Kv,g=$v,b=Qv,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(b=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=E_(n,1,!1,null,null,o,u,f,g,b,C,null),n[kn]=s.current,Wd(n),new mp(s)},Fl.hydrateRoot=function(n,s,o){if(!a(n))throw Error(r(299));var u=!1,f="",g=Kv,b=$v,C=Qv,V=null,$=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(b=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&($=o.formState)),s=E_(n,1,!0,s,o??null,u,f,g,b,C,V,$),s.context=b_(null),o=s.current,u=Ln(),u=Jn(u),f=Pr(u),f.callback=null,kr(o,f,u),o=u,s.current.lanes=o,Pn(s,o),xi(s),n[kn]=s.current,Wd(n),new Qc(s)},Fl.version="19.1.0",Fl}var B_;function CA(){if(B_)return _p.exports;B_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),_p.exports=wA(),_p.exports}var AA=CA(),Gl={},z_;function RA(){if(z_)return Gl;z_=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.parse=c,Gl.serialize=m;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function c(S,I){const R=new l,j=S.length;if(j<2)return R;const k=(I==null?void 0:I.decode)||_;let z=0;do{const F=S.indexOf("=",z);if(F===-1)break;const X=S.indexOf(";",z),Y=X===-1?j:X;if(F>Y){z=S.lastIndexOf(";",F-1)+1;continue}const H=d(S,z,F),ee=p(S,F,H),M=S.slice(H,ee);if(R[M]===void 0){let x=d(S,F+1,Y),A=p(S,Y,x);const D=k(S.slice(x,A));R[M]=D}z=Y+1}while(z<j);return R}function d(S,I,R){do{const j=S.charCodeAt(I);if(j!==32&&j!==9)return I}while(++I<R);return R}function p(S,I,R){for(;I>R;){const j=S.charCodeAt(--I);if(j!==32&&j!==9)return I+1}return R}function m(S,I,R){const j=(R==null?void 0:R.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const k=j(I);if(!e.test(k))throw new TypeError(`argument val is invalid: ${I}`);let z=S+"="+k;if(!R)return z;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);z+="; Max-Age="+R.maxAge}if(R.domain){if(!t.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);z+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);z+="; Path="+R.path}if(R.expires){if(!T(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);z+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(z+="; HttpOnly"),R.secure&&(z+="; Secure"),R.partitioned&&(z+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":z+="; Priority=Low";break;case"medium":z+="; Priority=Medium";break;case"high":z+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":z+="; SameSite=Strict";break;case"lax":z+="; SameSite=Lax";break;case"none":z+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return z}function _(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function T(S){return a.call(S)==="[object Date]"}return Gl}RA();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var q_="popstate";function LA(i={}){function e(r,a){let{pathname:l,search:c,hash:d}=r.location;return zp("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:au(a)}return xA(e,t,null,i)}function yt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Vi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function IA(){return Math.random().toString(36).substring(2,10)}function H_(i,e){return{usr:i.state,key:i.key,idx:e}}function zp(i,e,t=null,r){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Oo(e):e,state:t,key:e&&e.key||r||IA()}}function au({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function Oo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substring(r),i=i.substring(0,r)),i&&(e.pathname=i)}return e}function xA(i,e,t,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d="POP",p=null,m=_();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function _(){return(c.state||{idx:null}).idx}function T(){d="POP";let k=_(),z=k==null?null:k-m;m=k,p&&p({action:d,location:j.location,delta:z})}function S(k,z){d="PUSH";let F=zp(j.location,k,z);m=_()+1;let X=H_(F,m),Y=j.createHref(F);try{c.pushState(X,"",Y)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(Y)}l&&p&&p({action:d,location:j.location,delta:1})}function I(k,z){d="REPLACE";let F=zp(j.location,k,z);m=_();let X=H_(F,m),Y=j.createHref(F);c.replaceState(X,"",Y),l&&p&&p({action:d,location:j.location,delta:0})}function R(k){let z=a.location.origin!=="null"?a.location.origin:a.location.href,F=typeof k=="string"?k:au(k);return F=F.replace(/ $/,"%20"),yt(z,`No window.location.(origin|href) available to create URL for href: ${F}`),new URL(F,z)}let j={get action(){return d},get location(){return i(a,c)},listen(k){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(q_,T),p=k,()=>{a.removeEventListener(q_,T),p=null}},createHref(k){return e(a,k)},createURL:R,encodeLocation(k){let z=R(k);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:S,replace:I,go(k){return c.go(k)}};return j}function jb(i,e,t="/"){return MA(i,e,t,!1)}function MA(i,e,t,r){let a=typeof e=="string"?Oo(e):e,l=gr(a.pathname||"/",t);if(l==null)return null;let c=Bb(i);OA(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let m=HA(l);d=zA(c[p],m,r)}return d}function Bb(i,e=[],t=[],r=""){let a=(l,c,d)=>{let p={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(yt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let m=dr([r,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(yt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),Bb(l.children,e,_,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:jA(m,l.index),routesMeta:_})};return i.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let p of zb(l.path))a(l,c,p)}),e}function zb(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=zb(r.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&d.push(...c),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function OA(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:BA(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var DA=/^:[\w-]+$/,NA=3,PA=2,kA=1,VA=10,UA=-2,F_=i=>i==="*";function jA(i,e){let t=i.split("/"),r=t.length;return t.some(F_)&&(r+=UA),e&&(r+=PA),t.filter(a=>!F_(a)).reduce((a,l)=>a+(DA.test(l)?NA:l===""?kA:VA),r)}function BA(i,e){return i.length===e.length&&i.slice(0,-1).every((r,a)=>r===e[a])?i[i.length-1]-e[e.length-1]:0}function zA(i,e,t=!1){let{routesMeta:r}=i,a={},l="/",c=[];for(let d=0;d<r.length;++d){let p=r[d],m=d===r.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:m},_),S=p.route;if(!T&&m&&t&&!r[r.length-1].route.index&&(T=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:dr([l,T.pathname]),pathnameBase:$A(dr([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=dr([l,T.pathnameBase]))}return c}function yh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=qA(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((m,{paramName:_,isOptional:T},S)=>{if(_==="*"){let R=d[S]||"";c=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const I=d[S];return T&&!I?m[_]=void 0:m[_]=(I||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:i}}function qA(i,e=!1,t=!0){Vi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let r=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(r.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function HA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function gr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}function FA(i,e="/"){let{pathname:t,search:r="",hash:a=""}=typeof i=="string"?Oo(i):i;return{pathname:t?t.startsWith("/")?t:GA(t,e):e,search:QA(r),hash:YA(a)}}function GA(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Sp(i,e,t,r){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function KA(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function qb(i){let e=KA(i);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Hb(i,e,t,r=!1){let a;typeof i=="string"?a=Oo(i):(a={...i},yt(!a.pathname||!a.pathname.includes("?"),Sp("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),Sp("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),Sp("#","search","hash",a)));let l=i===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!r&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),T-=1;a.pathname=S.join("/")}d=T>=0?e[T]:"/"}let p=FA(a,d),m=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(m||_)&&(p.pathname+="/"),p}var dr=i=>i.join("/").replace(/\/\/+/g,"/"),$A=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),QA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,YA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function ZA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Fb=["POST","PUT","PATCH","DELETE"];new Set(Fb);var XA=["GET",...Fb];new Set(XA);var Do=y.createContext(null);Do.displayName="DataRouter";var Xh=y.createContext(null);Xh.displayName="DataRouterState";var Gb=y.createContext({isTransitioning:!1});Gb.displayName="ViewTransition";var WA=y.createContext(new Map);WA.displayName="Fetchers";var JA=y.createContext(null);JA.displayName="Await";var ji=y.createContext(null);ji.displayName="Navigation";var yu=y.createContext(null);yu.displayName="Location";var br=y.createContext({outlet:null,matches:[],isDataRoute:!1});br.displayName="Route";var Eg=y.createContext(null);Eg.displayName="RouteError";function e1(i,{relative:e}={}){yt(_u(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=y.useContext(ji),{hash:a,pathname:l,search:c}=Eu(i,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:dr([t,l])),r.createHref({pathname:d,search:c,hash:a})}function _u(){return y.useContext(yu)!=null}function fa(){return yt(_u(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(yu).location}var Kb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $b(i){y.useContext(ji).static||y.useLayoutEffect(i)}function bg(){let{isDataRoute:i}=y.useContext(br);return i?d1():t1()}function t1(){yt(_u(),"useNavigate() may be used only in the context of a <Router> component.");let i=y.useContext(Do),{basename:e,navigator:t}=y.useContext(ji),{matches:r}=y.useContext(br),{pathname:a}=fa(),l=JSON.stringify(qb(r)),c=y.useRef(!1);return $b(()=>{c.current=!0}),y.useCallback((p,m={})=>{if(Vi(c.current,Kb),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=Hb(p,JSON.parse(l),a,m.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:dr([e,_.pathname])),(m.replace?t.replace:t.push)(_,m.state,m)},[e,t,l,a,i])}y.createContext(null);function Eu(i,{relative:e}={}){let{matches:t}=y.useContext(br),{pathname:r}=fa(),a=JSON.stringify(qb(t));return y.useMemo(()=>Hb(i,JSON.parse(a),r,e==="path"),[i,a,r,e])}function n1(i,e){return Qb(i,e)}function Qb(i,e,t,r){var F;yt(_u(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:l}=y.useContext(ji),{matches:c}=y.useContext(br),d=c[c.length-1],p=d?d.params:{},m=d?d.pathname:"/",_=d?d.pathnameBase:"/",T=d&&d.route;{let X=T&&T.path||"";Yb(m,!T||X.endsWith("*")||X.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${X}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${X}"> to <Route path="${X==="/"?"*":`${X}/*`}">.`)}let S=fa(),I;if(e){let X=typeof e=="string"?Oo(e):e;yt(_==="/"||((F=X.pathname)==null?void 0:F.startsWith(_)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${_}" but pathname "${X.pathname}" was given in the \`location\` prop.`),I=X}else I=S;let R=I.pathname||"/",j=R;if(_!=="/"){let X=_.replace(/^\//,"").split("/");j="/"+R.replace(/^\//,"").split("/").slice(X.length).join("/")}let k=!l&&t&&t.matches&&t.matches.length>0?t.matches:jb(i,{pathname:j});Vi(T||k!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Vi(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=o1(k&&k.map(X=>Object.assign({},X,{params:Object.assign({},p,X.params),pathname:dr([_,a.encodeLocation?a.encodeLocation(X.pathname).pathname:X.pathname]),pathnameBase:X.pathnameBase==="/"?_:dr([_,a.encodeLocation?a.encodeLocation(X.pathnameBase).pathname:X.pathnameBase])})),c,t,r);return e&&z?y.createElement(yu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},z):z}function i1(){let i=f1(),e=ZA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",i),c=y.createElement(y.Fragment,null,y.createElement("p",null,"💿 Hey developer 👋"),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:l},"ErrorBoundary")," or"," ",y.createElement("code",{style:l},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),t?y.createElement("pre",{style:a},t):null,c)}var r1=y.createElement(i1,null),s1=class extends y.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?y.createElement(br.Provider,{value:this.props.routeContext},y.createElement(Eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function a1({routeContext:i,match:e,children:t}){let r=y.useContext(Do);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(br.Provider,{value:i},t)}function o1(i,e=[],t=null,r=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let a=i,l=t==null?void 0:t.errors;if(l!=null){let p=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);yt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(t)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:_,errors:T}=t,S=m.route.loader&&!_.hasOwnProperty(m.route.id)&&(!T||T[m.route.id]===void 0);if(m.route.lazy||S){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,_)=>{let T,S=!1,I=null,R=null;t&&(T=l&&m.route.id?l[m.route.id]:void 0,I=m.route.errorElement||r1,c&&(d<0&&_===0?(Yb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,R=null):d===_&&(S=!0,R=m.route.hydrateFallbackElement||null)));let j=e.concat(a.slice(0,_+1)),k=()=>{let z;return T?z=I:S?z=R:m.route.Component?z=y.createElement(m.route.Component,null):m.route.element?z=m.route.element:z=p,y.createElement(a1,{match:m,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:z})};return t&&(m.route.ErrorBoundary||m.route.errorElement||_===0)?y.createElement(s1,{location:t.location,revalidation:t.revalidation,component:I,error:T,children:k(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):k()},null)}function Tg(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l1(i){let e=y.useContext(Do);return yt(e,Tg(i)),e}function u1(i){let e=y.useContext(Xh);return yt(e,Tg(i)),e}function c1(i){let e=y.useContext(br);return yt(e,Tg(i)),e}function Sg(i){let e=c1(i),t=e.matches[e.matches.length-1];return yt(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function h1(){return Sg("useRouteId")}function f1(){var r;let i=y.useContext(Eg),e=u1("useRouteError"),t=Sg("useRouteError");return i!==void 0?i:(r=e.errors)==null?void 0:r[t]}function d1(){let{router:i}=l1("useNavigate"),e=Sg("useNavigate"),t=y.useRef(!1);return $b(()=>{t.current=!0}),y.useCallback(async(a,l={})=>{Vi(t.current,Kb),t.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...l}))},[i,e])}var G_={};function Yb(i,e,t){!e&&!G_[i]&&(G_[i]=!0,Vi(!1,t))}y.memo(p1);function p1({routes:i,future:e,state:t}){return Qb(i,void 0,t,e)}function Js(i){yt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function g1({basename:i="/",children:e=null,location:t,navigationType:r="POP",navigator:a,static:l=!1}){yt(!_u(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=i.replace(/^\/*/,"/"),d=y.useMemo(()=>({basename:c,navigator:a,static:l,future:{}}),[c,a,l]);typeof t=="string"&&(t=Oo(t));let{pathname:p="/",search:m="",hash:_="",state:T=null,key:S="default"}=t,I=y.useMemo(()=>{let R=gr(p,c);return R==null?null:{location:{pathname:R,search:m,hash:_,state:T,key:S},navigationType:r}},[c,p,m,_,T,S,r]);return Vi(I!=null,`<Router basename="${c}"> is not able to match the URL "${p}${m}${_}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:y.createElement(ji.Provider,{value:d},y.createElement(yu.Provider,{children:e,value:I}))}function m1({children:i,location:e}){return n1(qp(i),e)}function qp(i,e=[]){let t=[];return y.Children.forEach(i,(r,a)=>{if(!y.isValidElement(r))return;let l=[...e,a];if(r.type===y.Fragment){t.push.apply(t,qp(r.props.children,l));return}yt(r.type===Js,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),yt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=qp(r.props.children,l)),t.push(c)}),t}var ah="get",oh="application/x-www-form-urlencoded";function Wh(i){return i!=null&&typeof i.tagName=="string"}function v1(i){return Wh(i)&&i.tagName.toLowerCase()==="button"}function y1(i){return Wh(i)&&i.tagName.toLowerCase()==="form"}function _1(i){return Wh(i)&&i.tagName.toLowerCase()==="input"}function E1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function b1(i,e){return i.button===0&&(!e||e==="_self")&&!E1(i)}var Zc=null;function T1(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var S1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wp(i){return i!=null&&!S1.has(i)?(Vi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):i}function w1(i,e){let t,r,a,l,c;if(y1(i)){let d=i.getAttribute("action");r=d?gr(d,e):null,t=i.getAttribute("method")||ah,a=wp(i.getAttribute("enctype"))||oh,l=new FormData(i)}else if(v1(i)||_1(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(r=p?gr(p,e):null,t=i.getAttribute("formmethod")||d.getAttribute("method")||ah,a=wp(i.getAttribute("formenctype"))||wp(d.getAttribute("enctype"))||oh,l=new FormData(d,i),!T1()){let{name:m,type:_,value:T}=i;if(_==="image"){let S=m?`${m}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else m&&l.append(m,T)}}else{if(Wh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ah,r=null,a=oh,c=i}return l&&a==="text/plain"&&(c=l,l=void 0),{action:r,method:t.toLowerCase(),encType:a,formData:l,body:c}}function wg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function C1(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function A1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function R1(i,e,t){let r=await Promise.all(i.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await C1(l,t);return c.links?c.links():[]}return[]}));return M1(r.flat(1).filter(A1).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function K_(i,e,t,r,a,l){let c=(p,m)=>t[m]?p.route.id!==t[m].route.id:!0,d=(p,m)=>{var _;return t[m].pathname!==p.pathname||((_=t[m].route.path)==null?void 0:_.endsWith("*"))&&t[m].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,m)=>c(p,m)||d(p,m)):l==="data"?e.filter((p,m)=>{var T;let _=r.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,m)||d(p,m))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function L1(i,e,{includeHydrateFallback:t}={}){return I1(i.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),t&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function I1(i){return[...new Set(i)]}function x1(i){let e={},t=Object.keys(i).sort();for(let r of t)e[r]=i[r];return e}function M1(i,e){let t=new Set;return new Set(e),i.reduce((r,a)=>{let l=JSON.stringify(x1(a));return t.has(l)||(t.add(l),r.push({key:l,link:a})),r},[])}var O1=new Set([100,101,204,205]);function D1(i,e){let t=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return t.pathname==="/"?t.pathname="_root.data":e&&gr(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Zb(){let i=y.useContext(Do);return wg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function N1(){let i=y.useContext(Xh);return wg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Cg=y.createContext(void 0);Cg.displayName="FrameworkContext";function Xb(){let i=y.useContext(Cg);return wg(i,"You must render this element inside a <HydratedRouter> element"),i}function P1(i,e){let t=y.useContext(Cg),[r,a]=y.useState(!1),[l,c]=y.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:m,onMouseLeave:_,onTouchStart:T}=e,S=y.useRef(null);y.useEffect(()=>{if(i==="render"&&c(!0),i==="viewport"){let j=z=>{z.forEach(F=>{c(F.isIntersecting)})},k=new IntersectionObserver(j,{threshold:.5});return S.current&&k.observe(S.current),()=>{k.disconnect()}}},[i]),y.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let I=()=>{a(!0)},R=()=>{a(!1),c(!1)};return t?i!=="intent"?[l,S,{}]:[l,S,{onFocus:Kl(d,I),onBlur:Kl(p,R),onMouseEnter:Kl(m,I),onMouseLeave:Kl(_,R),onTouchStart:Kl(T,I)}]:[!1,S,{}]}function Kl(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function k1({page:i,...e}){let{router:t}=Zb(),r=y.useMemo(()=>jb(t.routes,i,t.basename),[t.routes,i,t.basename]);return r?y.createElement(U1,{page:i,matches:r,...e}):null}function V1(i){let{manifest:e,routeModules:t}=Xb(),[r,a]=y.useState([]);return y.useEffect(()=>{let l=!1;return R1(i,e,t).then(c=>{l||a(c)}),()=>{l=!0}},[i,e,t]),r}function U1({page:i,matches:e,...t}){let r=fa(),{manifest:a,routeModules:l}=Xb(),{basename:c}=Zb(),{loaderData:d,matches:p}=N1(),m=y.useMemo(()=>K_(i,e,p,a,r,"data"),[i,e,p,a,r]),_=y.useMemo(()=>K_(i,e,p,a,r,"assets"),[i,e,p,a,r]),T=y.useMemo(()=>{if(i===r.pathname+r.search+r.hash)return[];let R=new Set,j=!1;if(e.forEach(z=>{var X;let F=a.routes[z.route.id];!F||!F.hasLoader||(!m.some(Y=>Y.route.id===z.route.id)&&z.route.id in d&&((X=l[z.route.id])!=null&&X.shouldRevalidate)||F.hasClientLoader?j=!0:R.add(z.route.id))}),R.size===0)return[];let k=D1(i,c);return j&&R.size>0&&k.searchParams.set("_routes",e.filter(z=>R.has(z.route.id)).map(z=>z.route.id).join(",")),[k.pathname+k.search]},[c,d,r,a,m,e,i,l]),S=y.useMemo(()=>L1(_,a),[_,a]),I=V1(_);return y.createElement(y.Fragment,null,T.map(R=>y.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...t})),S.map(R=>y.createElement("link",{key:R,rel:"modulepreload",href:R,...t})),I.map(({key:R,link:j})=>y.createElement("link",{key:R,...j})))}function j1(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Wb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Wb&&(window.__reactRouterVersion="7.5.1")}catch{}function B1({basename:i,children:e,window:t}){let r=y.useRef();r.current==null&&(r.current=LA({window:t,v5Compat:!0}));let a=r.current,[l,c]=y.useState({action:a.action,location:a.location}),d=y.useCallback(p=>{y.startTransition(()=>c(p))},[c]);return y.useLayoutEffect(()=>a.listen(d),[a,d]),y.createElement(g1,{basename:i,children:e,location:l.location,navigationType:l.action,navigator:a})}var Jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eT=y.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:a,reloadDocument:l,replace:c,state:d,target:p,to:m,preventScrollReset:_,viewTransition:T,...S},I){let{basename:R}=y.useContext(ji),j=typeof m=="string"&&Jb.test(m),k,z=!1;if(typeof m=="string"&&j&&(k=m,Wb))try{let A=new URL(window.location.href),D=m.startsWith("//")?new URL(A.protocol+m):new URL(m),N=gr(D.pathname,R);D.origin===A.origin&&N!=null?m=N+D.search+D.hash:z=!0}catch{Vi(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let F=e1(m,{relative:a}),[X,Y,H]=P1(r,S),ee=H1(m,{replace:c,state:d,target:p,preventScrollReset:_,relative:a,viewTransition:T});function M(A){e&&e(A),A.defaultPrevented||ee(A)}let x=y.createElement("a",{...S,...H,href:k||F,onClick:z||l?e:M,ref:j1(I,Y),target:p,"data-discover":!j&&t==="render"?"true":void 0});return X&&!j?y.createElement(y.Fragment,null,x,y.createElement(k1,{page:F})):x});eT.displayName="Link";var ea=y.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:p,...m},_){let T=Eu(c,{relative:m.relative}),S=fa(),I=y.useContext(Xh),{navigator:R,basename:j}=y.useContext(ji),k=I!=null&&Q1(T)&&d===!0,z=R.encodeLocation?R.encodeLocation(T).pathname:T.pathname,F=S.pathname,X=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(F=F.toLowerCase(),X=X?X.toLowerCase():null,z=z.toLowerCase()),X&&j&&(X=gr(X,j)||X);const Y=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let H=F===z||!a&&F.startsWith(z)&&F.charAt(Y)==="/",ee=X!=null&&(X===z||!a&&X.startsWith(z)&&X.charAt(z.length)==="/"),M={isActive:H,isPending:ee,isTransitioning:k},x=H?e:void 0,A;typeof r=="function"?A=r(M):A=[r,H?"active":null,ee?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let D=typeof l=="function"?l(M):l;return y.createElement(eT,{...m,"aria-current":x,className:A,ref:_,style:D,to:c,viewTransition:d},typeof p=="function"?p(M):p)});ea.displayName="NavLink";var z1=y.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:a,state:l,method:c=ah,action:d,onSubmit:p,relative:m,preventScrollReset:_,viewTransition:T,...S},I)=>{let R=K1(),j=$1(d,{relative:m}),k=c.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&Jb.test(d),F=X=>{if(p&&p(X),X.defaultPrevented)return;X.preventDefault();let Y=X.nativeEvent.submitter,H=(Y==null?void 0:Y.getAttribute("formmethod"))||c;R(Y||X.currentTarget,{fetcherKey:e,method:H,navigate:t,replace:a,state:l,relative:m,preventScrollReset:_,viewTransition:T})};return y.createElement("form",{ref:I,method:k,action:j,onSubmit:r?p:F,...S,"data-discover":!z&&i==="render"?"true":void 0})});z1.displayName="Form";function q1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tT(i){let e=y.useContext(Do);return yt(e,q1(i)),e}function H1(i,{target:e,replace:t,state:r,preventScrollReset:a,relative:l,viewTransition:c}={}){let d=bg(),p=fa(),m=Eu(i,{relative:l});return y.useCallback(_=>{if(b1(_,e)){_.preventDefault();let T=t!==void 0?t:au(p)===au(m);d(i,{replace:T,state:r,preventScrollReset:a,relative:l,viewTransition:c})}},[p,d,m,t,r,e,i,a,l,c])}var F1=0,G1=()=>`__${String(++F1)}__`;function K1(){let{router:i}=tT("useSubmit"),{basename:e}=y.useContext(ji),t=h1();return y.useCallback(async(r,a={})=>{let{action:l,method:c,encType:d,formData:p,body:m}=w1(r,e);if(a.navigate===!1){let _=a.fetcherKey||G1();await i.fetch(_,t,a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,flushSync:a.flushSync})}else await i.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:p,body:m,formMethod:a.method||c,formEncType:a.encType||d,replace:a.replace,state:a.state,fromRouteId:t,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,t])}function $1(i,{relative:e}={}){let{basename:t}=y.useContext(ji),r=y.useContext(br);yt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Eu(i||".",{relative:e})},c=fa();if(i==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(_=>_==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let _=d.toString();l.search=_?`?${_}`:""}}return(!i||i===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:dr([t,l.pathname])),au(l)}function Q1(i,e={}){let t=y.useContext(Gb);yt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tT("useViewTransitionState"),a=Eu(i,{relative:e.relative});if(!t.isTransitioning)return!1;let l=gr(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=gr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return yh(a.pathname,c)!=null||yh(a.pathname,l)!=null}new TextEncoder;[...O1];var No=Ub();const Y1=()=>{const[i,e]=y.useState(!1),t=()=>e(!i),r=()=>e(!1);return w.jsx("nav",{className:"navbar",children:w.jsxs("div",{className:"navbar-container",children:[w.jsx(ea,{to:"/",className:"navbar-brand",onClick:r,children:"BloodConnect"}),w.jsxs("div",{className:"menu-toggle",onClick:t,children:[w.jsx("span",{className:"bar"}),w.jsx("span",{className:"bar"}),w.jsx("span",{className:"bar"})]}),w.jsxs("div",{className:`navbar-links ${i?"active":""}`,children:[w.jsx(ea,{to:"/BloodDonation",className:"nav-link",onClick:r,children:"Home"}),w.jsx(ea,{to:"/register",className:"nav-link",onClick:r,children:"Register"}),w.jsx(ea,{to:"/find-donors",className:"nav-link",onClick:r,children:"Find Donors"}),w.jsx(ea,{to:"/request-blood",className:"nav-link",onClick:r,children:"Request Blood"}),w.jsx(ea,{to:"/blood-requests",className:"nav-link",onClick:r,children:"Blood Requests"})]})]})})},Z1="/BloodDonation/assets/home-vQCW3bCb.png",X1=()=>{const i=bg(),e=()=>{i("/findcenter")};return w.jsx(w.Fragment,{children:w.jsxs("main",{className:"home-main",children:[w.jsxs("section",{className:"hero-section",children:[w.jsxs("div",{className:"hero-content",children:[w.jsxs("div",{className:"hero-text",children:[w.jsxs("h1",{children:["SAVE LIVES WITH ",w.jsx("span",{children:"BLOOD DONATION"})]}),w.jsx("p",{className:"hero-description",children:"Every blood donation is a lifesaving gift. Join our community of heroes who make a difference."}),w.jsxs("div",{className:"hero-cta",children:[w.jsx("button",{className:"cta-button primary",onClick:e,children:"Find a Center"}),w.jsx("button",{className:"cta-button secondary",children:"Learn More"})]})]}),w.jsx("div",{className:"hero-image-container",children:w.jsx("img",{src:Z1,alt:"Blood donation hero",className:"hero-image",loading:"lazy"})})]}),w.jsxs("div",{className:"stats-bar",children:[w.jsxs("div",{className:"stat-item",children:[w.jsx("div",{className:"stat-number",children:"10,000+"}),w.jsx("div",{className:"stat-label",children:"Monthly Donations"})]}),w.jsxs("div",{className:"stat-item",children:[w.jsx("div",{className:"stat-number",children:"50+"}),w.jsx("div",{className:"stat-label",children:"Centers"})]}),w.jsxs("div",{className:"stat-item",children:[w.jsx("div",{className:"stat-number",children:"100K+"}),w.jsx("div",{className:"stat-label",children:"Lives Saved"})]})]})]}),w.jsxs("section",{className:"benefits-section",children:[w.jsx("h2",{className:"section-title",children:"Why Donate Blood?"}),w.jsxs("div",{className:"benefits-grid",children:[w.jsxs("div",{className:"benefit-card",children:[w.jsx("div",{className:"card-icon",children:"❤️"}),w.jsx("h3",{children:"Saves Lives"}),w.jsx("p",{children:"Help accident victims, surgery patients, and those with blood disorders."})]}),w.jsxs("div",{className:"benefit-card",children:[w.jsx("div",{className:"card-icon",children:"💪"}),w.jsx("h3",{children:"Health Benefits"}),w.jsx("p",{children:"Reduces iron overload and stimulates blood cell production."})]}),w.jsxs("div",{className:"benefit-card",children:[w.jsx("div",{className:"card-icon",children:"🤝"}),w.jsx("h3",{children:"Community"}),w.jsx("p",{children:"Make a direct impact in your local community."})]})]})]}),w.jsx("div",{className:"mobile-floating-cta",children:w.jsx("button",{className:"floating-cta-button",children:"Donate Now"})})]})})},W1=()=>{};var $_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let a=i.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},J1=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const a=i[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[t++],c=i[t++],d=i[t++],p=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const l=i[t++],c=i[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},iT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<i.length;a+=3){const l=i[a],c=a+1<i.length,d=c?i[a+1]:0,p=a+2<i.length,m=p?i[a+2]:0,_=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|m>>6,I=m&63;p||(I=64,c||(S=64)),r.push(t[_],t[T],t[S],t[I])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(nT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):J1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<i.length;){const l=t[i.charAt(a++)],d=a<i.length?t[i.charAt(a)]:0;++a;const m=a<i.length?t[i.charAt(a)]:64;++a;const T=a<i.length?t[i.charAt(a)]:64;if(++a,l==null||d==null||m==null||T==null)throw new eR;const S=l<<2|d>>4;if(r.push(S),m!==64){const I=d<<4&240|m>>2;if(r.push(I),T!==64){const R=m<<6&192|T;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class eR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tR=function(i){const e=nT(i);return iT.encodeByteArray(e,!0)},_h=function(i){return tR(i).replace(/\./g,"")},rT=function(i){try{return iT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR=()=>nR().__FIREBASE_DEFAULTS__,rR=()=>{if(typeof process>"u"||typeof $_>"u")return;const i=$_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},sR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&rT(i[1]);return e&&JSON.parse(e)},Jh=()=>{try{return W1()||iR()||rR()||sR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},sT=i=>{var e,t;return(t=(e=Jh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},aR=i=>{const e=sT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},aT=()=>{var i;return(i=Jh())===null||i===void 0?void 0:i.config},oT=i=>{var e;return(e=Jh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[_h(JSON.stringify(t)),_h(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(hn())}function cR(){var i;const e=(i=Jh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function dR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pR(){const i=hn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function gR(){return!cR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mR(){try{return typeof indexedDB=="object"}catch{return!1}}function vR(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="FirebaseError";class Tr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=yR,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bu.prototype.create)}}class bu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?_R(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Tr(a,d,r)}}function _R(i,e){return i.replace(ER,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const ER=/\{\$([^}]+)}/g;function bR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function oa(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=i[a],c=e[a];if(Q_(l)&&Q_(c)){if(!oa(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Q_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function TR(i,e){const t=new SR(i,e);return t.subscribe.bind(t)}class SR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");wR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Cp),a.error===void 0&&(a.error=Cp),a.complete===void 0&&(a.complete=Cp);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Cp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(i){return i&&i._delegate?i._delegate:i}class la{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new oR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RR(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AR(i){return i===ta?void 0:i}function RR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new CR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ge;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ge||(Ge={}));const IR={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},xR=Ge.INFO,MR={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},OR=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),a=MR[e];if(a)console[a](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ag{constructor(e){this.name=e,this._logLevel=xR,this._logHandler=OR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?IR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...e),this._logHandler(this,Ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...e),this._logHandler(this,Ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...e),this._logHandler(this,Ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...e),this._logHandler(this,Ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...e),this._logHandler(this,Ge.ERROR,...e)}}const DR=(i,e)=>e.some(t=>i instanceof t);let Y_,Z_;function NR(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PR(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lT=new WeakMap,Hp=new WeakMap,uT=new WeakMap,Ap=new WeakMap,Rg=new WeakMap;function kR(i){const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(ls(i.result)),a()},c=()=>{r(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&lT.set(t,i)}).catch(()=>{}),Rg.set(e,i),e}function VR(i){if(Hp.has(i))return;const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});Hp.set(i,e)}let Fp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Hp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||uT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ls(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function UR(i){Fp=i(Fp)}function jR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(Rp(this),e,...t);return uT.set(r,e.sort?e.sort():[e]),ls(r)}:PR().includes(i)?function(...e){return i.apply(Rp(this),e),ls(lT.get(this))}:function(...e){return ls(i.apply(Rp(this),e))}}function BR(i){return typeof i=="function"?jR(i):(i instanceof IDBTransaction&&VR(i),DR(i,NR())?new Proxy(i,Fp):i)}function ls(i){if(i instanceof IDBRequest)return kR(i);if(Ap.has(i))return Ap.get(i);const e=BR(i);return e!==i&&(Ap.set(i,e),Rg.set(e,i)),e}const Rp=i=>Rg.get(i);function zR(i,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(i,e),d=ls(c);return r&&c.addEventListener("upgradeneeded",p=>{r(ls(c.result),p.oldVersion,p.newVersion,ls(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),a&&p.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const qR=["get","getKey","getAll","getAllKeys","count"],HR=["put","add","delete","clear"],Lp=new Map;function X_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Lp.get(e))return Lp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=HR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||qR.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,a?"readwrite":"readonly");let m=p.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[t](...d),a&&p.done]))[0]};return Lp.set(e,l),l}UR(i=>({...i,get:(e,t,r)=>X_(e,t)||i.get(e,t,r),has:(e,t)=>!!X_(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function GR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Gp="@firebase/app",W_="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new Ag("@firebase/app"),KR="@firebase/app-compat",$R="@firebase/analytics-compat",QR="@firebase/analytics",YR="@firebase/app-check-compat",ZR="@firebase/app-check",XR="@firebase/auth",WR="@firebase/auth-compat",JR="@firebase/database",eL="@firebase/data-connect",tL="@firebase/database-compat",nL="@firebase/functions",iL="@firebase/functions-compat",rL="@firebase/installations",sL="@firebase/installations-compat",aL="@firebase/messaging",oL="@firebase/messaging-compat",lL="@firebase/performance",uL="@firebase/performance-compat",cL="@firebase/remote-config",hL="@firebase/remote-config-compat",fL="@firebase/storage",dL="@firebase/storage-compat",pL="@firebase/firestore",gL="@firebase/vertexai",mL="@firebase/firestore-compat",vL="firebase",yL="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kp="[DEFAULT]",_L={[Gp]:"fire-core",[KR]:"fire-core-compat",[QR]:"fire-analytics",[$R]:"fire-analytics-compat",[ZR]:"fire-app-check",[YR]:"fire-app-check-compat",[XR]:"fire-auth",[WR]:"fire-auth-compat",[JR]:"fire-rtdb",[eL]:"fire-data-connect",[tL]:"fire-rtdb-compat",[nL]:"fire-fn",[iL]:"fire-fn-compat",[rL]:"fire-iid",[sL]:"fire-iid-compat",[aL]:"fire-fcm",[oL]:"fire-fcm-compat",[lL]:"fire-perf",[uL]:"fire-perf-compat",[cL]:"fire-rc",[hL]:"fire-rc-compat",[fL]:"fire-gcs",[dL]:"fire-gcs-compat",[pL]:"fire-fst",[mL]:"fire-fst-compat",[gL]:"fire-vertex","fire-js":"fire-js",[vL]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,EL=new Map,$p=new Map;function J_(i,e){try{i.container.addComponent(e)}catch(t){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function bo(i){const e=i.name;if($p.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;$p.set(e,i);for(const t of Eh.values())J_(t,i);for(const t of EL.values())J_(t,i);return!0}function Lg(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Oi(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bL={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},us=new bu("app","Firebase",bL);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=yL;function cT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Kp,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw us.create("bad-app-name",{appName:String(a)});if(t||(t=aT()),!t)throw us.create("no-options");const l=Eh.get(a);if(l){if(oa(t,l.options)&&oa(r,l.config))return l;throw us.create("duplicate-app",{appName:a})}const c=new LR(a);for(const p of $p.values())c.addComponent(p);const d=new TL(t,r,c);return Eh.set(a,d),d}function hT(i=Kp){const e=Eh.get(i);if(!e&&i===Kp&&aT())return cT();if(!e)throw us.create("no-app",{appName:i});return e}function cs(i,e,t){var r;let a=(r=_L[i])!==null&&r!==void 0?r:i;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(d.join(" "));return}bo(new la(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL="firebase-heartbeat-database",wL=1,ou="firebase-heartbeat-store";let Ip=null;function fT(){return Ip||(Ip=zR(SL,wL,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ou)}catch(t){console.warn(t)}}}}).catch(i=>{throw us.create("idb-open",{originalErrorMessage:i.message})})),Ip}async function CL(i){try{const t=(await fT()).transaction(ou),r=await t.objectStore(ou).get(dT(i));return await t.done,r}catch(e){if(e instanceof Tr)mr.warn(e.message);else{const t=us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(t.message)}}}async function eE(i,e){try{const r=(await fT()).transaction(ou,"readwrite");await r.objectStore(ou).put(e,dT(i)),await r.done}catch(t){if(t instanceof Tr)mr.warn(t.message);else{const r=us.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});mr.warn(r.message)}}}function dT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=1024,RL=30;class LL{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xL(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=tE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>RL){const c=ML(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){mr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tE(),{heartbeatsToSend:r,unsentEntries:a}=IL(this._heartbeatsCache.heartbeats),l=_h(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return mr.warn(t),""}}}function tE(){return new Date().toISOString().substring(0,10)}function IL(i,e=AL){const t=[];let r=i.slice();for(const a of i){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),nE(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),nE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class xL{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mR()?vR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await CL(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return eE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return eE(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function nE(i){return _h(JSON.stringify({version:2,heartbeats:i})).length}function ML(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(i){bo(new la("platform-logger",e=>new FR(e),"PRIVATE")),bo(new la("heartbeat",e=>new LL(e),"PRIVATE")),cs(Gp,W_,i),cs(Gp,W_,"esm2017"),cs("fire-js","")}OL("");var iE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,pT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,x){function A(){}A.prototype=x.prototype,M.D=x.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(D,N,U){for(var O=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)O[Se-2]=arguments[Se];return x.prototype[N].apply(D,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,x,A){A||(A=0);var D=Array(16);if(typeof x=="string")for(var N=0;16>N;++N)D[N]=x.charCodeAt(A++)|x.charCodeAt(A++)<<8|x.charCodeAt(A++)<<16|x.charCodeAt(A++)<<24;else for(N=0;16>N;++N)D[N]=x[A++]|x[A++]<<8|x[A++]<<16|x[A++]<<24;x=M.g[0],A=M.g[1],N=M.g[2];var U=M.g[3],O=x+(U^A&(N^U))+D[0]+3614090360&4294967295;x=A+(O<<7&4294967295|O>>>25),O=U+(N^x&(A^N))+D[1]+3905402710&4294967295,U=x+(O<<12&4294967295|O>>>20),O=N+(A^U&(x^A))+D[2]+606105819&4294967295,N=U+(O<<17&4294967295|O>>>15),O=A+(x^N&(U^x))+D[3]+3250441966&4294967295,A=N+(O<<22&4294967295|O>>>10),O=x+(U^A&(N^U))+D[4]+4118548399&4294967295,x=A+(O<<7&4294967295|O>>>25),O=U+(N^x&(A^N))+D[5]+1200080426&4294967295,U=x+(O<<12&4294967295|O>>>20),O=N+(A^U&(x^A))+D[6]+2821735955&4294967295,N=U+(O<<17&4294967295|O>>>15),O=A+(x^N&(U^x))+D[7]+4249261313&4294967295,A=N+(O<<22&4294967295|O>>>10),O=x+(U^A&(N^U))+D[8]+1770035416&4294967295,x=A+(O<<7&4294967295|O>>>25),O=U+(N^x&(A^N))+D[9]+2336552879&4294967295,U=x+(O<<12&4294967295|O>>>20),O=N+(A^U&(x^A))+D[10]+4294925233&4294967295,N=U+(O<<17&4294967295|O>>>15),O=A+(x^N&(U^x))+D[11]+2304563134&4294967295,A=N+(O<<22&4294967295|O>>>10),O=x+(U^A&(N^U))+D[12]+1804603682&4294967295,x=A+(O<<7&4294967295|O>>>25),O=U+(N^x&(A^N))+D[13]+4254626195&4294967295,U=x+(O<<12&4294967295|O>>>20),O=N+(A^U&(x^A))+D[14]+2792965006&4294967295,N=U+(O<<17&4294967295|O>>>15),O=A+(x^N&(U^x))+D[15]+1236535329&4294967295,A=N+(O<<22&4294967295|O>>>10),O=x+(N^U&(A^N))+D[1]+4129170786&4294967295,x=A+(O<<5&4294967295|O>>>27),O=U+(A^N&(x^A))+D[6]+3225465664&4294967295,U=x+(O<<9&4294967295|O>>>23),O=N+(x^A&(U^x))+D[11]+643717713&4294967295,N=U+(O<<14&4294967295|O>>>18),O=A+(U^x&(N^U))+D[0]+3921069994&4294967295,A=N+(O<<20&4294967295|O>>>12),O=x+(N^U&(A^N))+D[5]+3593408605&4294967295,x=A+(O<<5&4294967295|O>>>27),O=U+(A^N&(x^A))+D[10]+38016083&4294967295,U=x+(O<<9&4294967295|O>>>23),O=N+(x^A&(U^x))+D[15]+3634488961&4294967295,N=U+(O<<14&4294967295|O>>>18),O=A+(U^x&(N^U))+D[4]+3889429448&4294967295,A=N+(O<<20&4294967295|O>>>12),O=x+(N^U&(A^N))+D[9]+568446438&4294967295,x=A+(O<<5&4294967295|O>>>27),O=U+(A^N&(x^A))+D[14]+3275163606&4294967295,U=x+(O<<9&4294967295|O>>>23),O=N+(x^A&(U^x))+D[3]+4107603335&4294967295,N=U+(O<<14&4294967295|O>>>18),O=A+(U^x&(N^U))+D[8]+1163531501&4294967295,A=N+(O<<20&4294967295|O>>>12),O=x+(N^U&(A^N))+D[13]+2850285829&4294967295,x=A+(O<<5&4294967295|O>>>27),O=U+(A^N&(x^A))+D[2]+4243563512&4294967295,U=x+(O<<9&4294967295|O>>>23),O=N+(x^A&(U^x))+D[7]+1735328473&4294967295,N=U+(O<<14&4294967295|O>>>18),O=A+(U^x&(N^U))+D[12]+2368359562&4294967295,A=N+(O<<20&4294967295|O>>>12),O=x+(A^N^U)+D[5]+4294588738&4294967295,x=A+(O<<4&4294967295|O>>>28),O=U+(x^A^N)+D[8]+2272392833&4294967295,U=x+(O<<11&4294967295|O>>>21),O=N+(U^x^A)+D[11]+1839030562&4294967295,N=U+(O<<16&4294967295|O>>>16),O=A+(N^U^x)+D[14]+4259657740&4294967295,A=N+(O<<23&4294967295|O>>>9),O=x+(A^N^U)+D[1]+2763975236&4294967295,x=A+(O<<4&4294967295|O>>>28),O=U+(x^A^N)+D[4]+1272893353&4294967295,U=x+(O<<11&4294967295|O>>>21),O=N+(U^x^A)+D[7]+4139469664&4294967295,N=U+(O<<16&4294967295|O>>>16),O=A+(N^U^x)+D[10]+3200236656&4294967295,A=N+(O<<23&4294967295|O>>>9),O=x+(A^N^U)+D[13]+681279174&4294967295,x=A+(O<<4&4294967295|O>>>28),O=U+(x^A^N)+D[0]+3936430074&4294967295,U=x+(O<<11&4294967295|O>>>21),O=N+(U^x^A)+D[3]+3572445317&4294967295,N=U+(O<<16&4294967295|O>>>16),O=A+(N^U^x)+D[6]+76029189&4294967295,A=N+(O<<23&4294967295|O>>>9),O=x+(A^N^U)+D[9]+3654602809&4294967295,x=A+(O<<4&4294967295|O>>>28),O=U+(x^A^N)+D[12]+3873151461&4294967295,U=x+(O<<11&4294967295|O>>>21),O=N+(U^x^A)+D[15]+530742520&4294967295,N=U+(O<<16&4294967295|O>>>16),O=A+(N^U^x)+D[2]+3299628645&4294967295,A=N+(O<<23&4294967295|O>>>9),O=x+(N^(A|~U))+D[0]+4096336452&4294967295,x=A+(O<<6&4294967295|O>>>26),O=U+(A^(x|~N))+D[7]+1126891415&4294967295,U=x+(O<<10&4294967295|O>>>22),O=N+(x^(U|~A))+D[14]+2878612391&4294967295,N=U+(O<<15&4294967295|O>>>17),O=A+(U^(N|~x))+D[5]+4237533241&4294967295,A=N+(O<<21&4294967295|O>>>11),O=x+(N^(A|~U))+D[12]+1700485571&4294967295,x=A+(O<<6&4294967295|O>>>26),O=U+(A^(x|~N))+D[3]+2399980690&4294967295,U=x+(O<<10&4294967295|O>>>22),O=N+(x^(U|~A))+D[10]+4293915773&4294967295,N=U+(O<<15&4294967295|O>>>17),O=A+(U^(N|~x))+D[1]+2240044497&4294967295,A=N+(O<<21&4294967295|O>>>11),O=x+(N^(A|~U))+D[8]+1873313359&4294967295,x=A+(O<<6&4294967295|O>>>26),O=U+(A^(x|~N))+D[15]+4264355552&4294967295,U=x+(O<<10&4294967295|O>>>22),O=N+(x^(U|~A))+D[6]+2734768916&4294967295,N=U+(O<<15&4294967295|O>>>17),O=A+(U^(N|~x))+D[13]+1309151649&4294967295,A=N+(O<<21&4294967295|O>>>11),O=x+(N^(A|~U))+D[4]+4149444226&4294967295,x=A+(O<<6&4294967295|O>>>26),O=U+(A^(x|~N))+D[11]+3174756917&4294967295,U=x+(O<<10&4294967295|O>>>22),O=N+(x^(U|~A))+D[2]+718787259&4294967295,N=U+(O<<15&4294967295|O>>>17),O=A+(U^(N|~x))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+x&4294967295,M.g[1]=M.g[1]+(N+(O<<21&4294967295|O>>>11))&4294967295,M.g[2]=M.g[2]+N&4294967295,M.g[3]=M.g[3]+U&4294967295}r.prototype.u=function(M,x){x===void 0&&(x=M.length);for(var A=x-this.blockSize,D=this.B,N=this.h,U=0;U<x;){if(N==0)for(;U<=A;)a(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<x;)if(D[N++]=M.charCodeAt(U++),N==this.blockSize){a(this,D),N=0;break}}else for(;U<x;)if(D[N++]=M[U++],N==this.blockSize){a(this,D),N=0;break}}this.h=N,this.o+=x},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var x=1;x<M.length-8;++x)M[x]=0;var A=8*this.o;for(x=M.length-8;x<M.length;++x)M[x]=A&255,A/=256;for(this.u(M),M=Array(16),x=A=0;4>x;++x)for(var D=0;32>D;D+=8)M[A++]=this.g[x]>>>D&255;return M};function l(M,x){var A=d;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=x(M)}function c(M,x){this.h=x;for(var A=[],D=!0,N=M.length-1;0<=N;N--){var U=M[N]|0;D&&U==x||(A[N]=U,D=!1)}this.g=A}var d={};function p(M){return-128<=M&&128>M?l(M,function(x){return new c([x|0],0>x?-1:0)}):new c([M|0],0>M?-1:0)}function m(M){if(isNaN(M)||!isFinite(M))return T;if(0>M)return k(m(-M));for(var x=[],A=1,D=0;M>=A;D++)x[D]=M/A|0,A*=4294967296;return new c(x,0)}function _(M,x){if(M.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(M.charAt(0)=="-")return k(_(M.substring(1),x));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=m(Math.pow(x,8)),D=T,N=0;N<M.length;N+=8){var U=Math.min(8,M.length-N),O=parseInt(M.substring(N,N+U),x);8>U?(U=m(Math.pow(x,U)),D=D.j(U).add(m(O))):(D=D.j(A),D=D.add(m(O)))}return D}var T=p(0),S=p(1),I=p(16777216);i=c.prototype,i.m=function(){if(j(this))return-k(this).m();for(var M=0,x=1,A=0;A<this.g.length;A++){var D=this.i(A);M+=(0<=D?D:4294967296+D)*x,x*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(R(this))return"0";if(j(this))return"-"+k(this).toString(M);for(var x=m(Math.pow(M,6)),A=this,D="";;){var N=Y(A,x).g;A=z(A,N.j(x));var U=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=N,R(A))return U+D;for(;6>U.length;)U="0"+U;D=U+D}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function R(M){if(M.h!=0)return!1;for(var x=0;x<M.g.length;x++)if(M.g[x]!=0)return!1;return!0}function j(M){return M.h==-1}i.l=function(M){return M=z(this,M),j(M)?-1:R(M)?0:1};function k(M){for(var x=M.g.length,A=[],D=0;D<x;D++)A[D]=~M.g[D];return new c(A,~M.h).add(S)}i.abs=function(){return j(this)?k(this):this},i.add=function(M){for(var x=Math.max(this.g.length,M.g.length),A=[],D=0,N=0;N<=x;N++){var U=D+(this.i(N)&65535)+(M.i(N)&65535),O=(U>>>16)+(this.i(N)>>>16)+(M.i(N)>>>16);D=O>>>16,U&=65535,O&=65535,A[N]=O<<16|U}return new c(A,A[A.length-1]&-2147483648?-1:0)};function z(M,x){return M.add(k(x))}i.j=function(M){if(R(this)||R(M))return T;if(j(this))return j(M)?k(this).j(k(M)):k(k(this).j(M));if(j(M))return k(this.j(k(M)));if(0>this.l(I)&&0>M.l(I))return m(this.m()*M.m());for(var x=this.g.length+M.g.length,A=[],D=0;D<2*x;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var N=0;N<M.g.length;N++){var U=this.i(D)>>>16,O=this.i(D)&65535,Se=M.i(N)>>>16,ye=M.i(N)&65535;A[2*D+2*N]+=O*ye,F(A,2*D+2*N),A[2*D+2*N+1]+=U*ye,F(A,2*D+2*N+1),A[2*D+2*N+1]+=O*Se,F(A,2*D+2*N+1),A[2*D+2*N+2]+=U*Se,F(A,2*D+2*N+2)}for(D=0;D<x;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=x;D<2*x;D++)A[D]=0;return new c(A,0)};function F(M,x){for(;(M[x]&65535)!=M[x];)M[x+1]+=M[x]>>>16,M[x]&=65535,x++}function X(M,x){this.g=M,this.h=x}function Y(M,x){if(R(x))throw Error("division by zero");if(R(M))return new X(T,T);if(j(M))return x=Y(k(M),x),new X(k(x.g),k(x.h));if(j(x))return x=Y(M,k(x)),new X(k(x.g),x.h);if(30<M.g.length){if(j(M)||j(x))throw Error("slowDivide_ only works with positive integers.");for(var A=S,D=x;0>=D.l(M);)A=H(A),D=H(D);var N=ee(A,1),U=ee(D,1);for(D=ee(D,2),A=ee(A,2);!R(D);){var O=U.add(D);0>=O.l(M)&&(N=N.add(A),U=O),D=ee(D,1),A=ee(A,1)}return x=z(M,N.j(x)),new X(N,x)}for(N=T;0<=M.l(x);){for(A=Math.max(1,Math.floor(M.m()/x.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),U=m(A),O=U.j(x);j(O)||0<O.l(M);)A-=D,U=m(A),O=U.j(x);R(U)&&(U=S),N=N.add(U),M=z(M,O)}return new X(N,M)}i.A=function(M){return Y(this,M).h},i.and=function(M){for(var x=Math.max(this.g.length,M.g.length),A=[],D=0;D<x;D++)A[D]=this.i(D)&M.i(D);return new c(A,this.h&M.h)},i.or=function(M){for(var x=Math.max(this.g.length,M.g.length),A=[],D=0;D<x;D++)A[D]=this.i(D)|M.i(D);return new c(A,this.h|M.h)},i.xor=function(M){for(var x=Math.max(this.g.length,M.g.length),A=[],D=0;D<x;D++)A[D]=this.i(D)^M.i(D);return new c(A,this.h^M.h)};function H(M){for(var x=M.g.length+1,A=[],D=0;D<x;D++)A[D]=M.i(D)<<1|M.i(D-1)>>>31;return new c(A,M.h)}function ee(M,x){var A=x>>5;x%=32;for(var D=M.g.length-A,N=[],U=0;U<D;U++)N[U]=0<x?M.i(U+A)>>>x|M.i(U+A+1)<<32-x:M.i(U+A);return new c(N,M.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pT=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=_,hs=c}).apply(typeof iE<"u"?iE:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gT,Xl,mT,lh,Qp,vT,yT,_T;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=t(this);function a(h,v){if(v)e:{var E=r;h=h.split(".");for(var L=0;L<h.length-1;L++){var G=h[L];if(!(G in E))break e;E=E[G]}h=h[h.length-1],L=E[h],v=v(L),v!=L&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var E=0,L=!1,G={next:function(){if(!L&&E<h.length){var te=E++;return{value:v(te,h[te]),done:!1}}return L=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function _(h,v,E){return h.call.apply(h.bind,arguments)}function T(h,v,E){if(!h)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,L),h.apply(v,G)}}return function(){return h.apply(v,arguments)}}function S(h,v,E){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,S.apply(null,arguments)}function I(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var L=E.slice();return L.push.apply(L,arguments),h.apply(this,L)}}function R(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(L,G,te){for(var de=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)de[Ye-2]=arguments[Ye];return v.prototype[G].apply(L,de)}}function j(h){const v=h.length;if(0<v){const E=Array(v);for(let L=0;L<v;L++)E[L]=h[L];return E}return[]}function k(h,v){for(let E=1;E<arguments.length;E++){const L=arguments[E];if(p(L)){const G=h.length||0,te=L.length||0;h.length=G+te;for(let de=0;de<te;de++)h[G+de]=L[de]}else h.push(L)}}class z{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function F(h){return/^[\s\xa0]*$/.test(h)}function X(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function Y(h){return Y[" "](h),h}Y[" "]=function(){};var H=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ee(h,v,E){for(const L in h)v.call(E,h[L],L,h)}function M(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function x(h){const v={};for(const E in h)v[E]=h[E];return v}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(h,v){let E,L;for(let G=1;G<arguments.length;G++){L=arguments[G];for(E in L)h[E]=L[E];for(let te=0;te<A.length;te++)E=A[te],Object.prototype.hasOwnProperty.call(L,E)&&(h[E]=L[E])}}function N(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function U(h){d.setTimeout(()=>{throw h},0)}function O(){var h=Te;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Se{constructor(){this.h=this.g=null}add(v,E){const L=ye.get();L.set(v,E),this.h?this.h.next=L:this.g=L,this.h=L}}var ye=new z(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,fe=!1,Te=new Se,P=()=>{const h=d.Promise.resolve(void 0);ce=()=>{h.then(ie)}};var ie=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(E){U(E)}var v=ye;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}fe=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h}();function J(h,v){if(ne.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,L=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(H){e:{try{Y(v.nodeName);var G=!0;break e}catch{}G=!1}G||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:ge[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&J.aa.h.call(this)}}R(J,ne);var ge={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),ve=0;function tt(h,v,E,L,G){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!L,this.ha=G,this.key=++ve,this.da=this.fa=!1}function we(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Pe(h){this.src=h,this.g={},this.h=0}Pe.prototype.add=function(h,v,E,L,G){var te=h.toString();h=this.g[te],h||(h=this.g[te]=[],this.h++);var de=$t(h,v,L,G);return-1<de?(v=h[de],E||(v.fa=!1)):(v=new tt(v,this.src,te,!!L,G),v.fa=E,h.push(v)),v};function Dt(h,v){var E=v.type;if(E in h.g){var L=h.g[E],G=Array.prototype.indexOf.call(L,v,void 0),te;(te=0<=G)&&Array.prototype.splice.call(L,G,1),te&&(we(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function $t(h,v,E,L){for(var G=0;G<h.length;++G){var te=h[G];if(!te.da&&te.listener==v&&te.capture==!!E&&te.ha==L)return G}return-1}var En="closure_lm_"+(1e6*Math.random()|0),$e={};function Es(h,v,E,L,G){if(Array.isArray(v)){for(var te=0;te<v.length;te++)Es(h,v[te],E,L,G);return null}return E=bs(E),h&&h[De]?h.K(v,E,m(L)?!!L.capture:!1,G):Qt(h,v,E,!1,L,G)}function Qt(h,v,E,L,G,te){if(!v)throw Error("Invalid event type");var de=m(G)?!!G.capture:!!G,Ye=Wn(h);if(Ye||(h[En]=Ye=new Pe(h)),E=Ye.add(v,E,L,de,te),E.proxy)return E;if(L=ya(),E.proxy=L,L.src=h,L.listener=E,h.addEventListener)pe||(G=de),G===void 0&&(G=!1),h.addEventListener(v.toString(),L,G);else if(h.attachEvent)h.attachEvent(Mn(v.toString()),L);else if(h.addListener&&h.removeListener)h.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ya(){function h(E){return v.call(h.src,h.listener,E)}const v=_a;return h}function ci(h,v,E,L,G){if(Array.isArray(v))for(var te=0;te<v.length;te++)ci(h,v[te],E,L,G);else L=m(L)?!!L.capture:!!L,E=bs(E),h&&h[De]?(h=h.i,v=String(v).toString(),v in h.g&&(te=h.g[v],E=$t(te,E,L,G),-1<E&&(we(te[E]),Array.prototype.splice.call(te,E,1),te.length==0&&(delete h.g[v],h.h--)))):h&&(h=Wn(h))&&(v=h.g[v.toString()],h=-1,v&&(h=$t(v,E,L,G)),(E=-1<h?v[h]:null)&&Bi(E))}function Bi(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[De])Dt(v.i,h);else{var E=h.type,L=h.proxy;v.removeEventListener?v.removeEventListener(E,L,h.capture):v.detachEvent?v.detachEvent(Mn(E),L):v.addListener&&v.removeListener&&v.removeListener(L),(E=Wn(v))?(Dt(E,h),E.h==0&&(E.src=null,v[En]=null)):we(h)}}}function Mn(h){return h in $e?$e[h]:$e[h]="on"+h}function _a(h,v){if(h.da)h=!0;else{v=new J(v,this);var E=h.listener,L=h.ha||h.src;h.fa&&Bi(h),h=E.call(L,v)}return h}function Wn(h){return h=h[En],h instanceof Pe?h:null}var wr="__closure_events_fn_"+(1e9*Math.random()>>>0);function bs(h){return typeof h=="function"?h:(h[wr]||(h[wr]=function(v){return h.handleEvent(v)}),h[wr])}function pt(){he.call(this),this.i=new Pe(this),this.M=this,this.F=null}R(pt,he),pt.prototype[De]=!0,pt.prototype.removeEventListener=function(h,v,E,L){ci(this,h,v,E,L)};function Qe(h,v){var E,L=h.F;if(L)for(E=[];L;L=L.F)E.push(L);if(h=h.M,L=v.type||v,typeof v=="string")v=new ne(v,h);else if(v instanceof ne)v.target=v.target||h;else{var G=v;v=new ne(L,h),D(v,G)}if(G=!0,E)for(var te=E.length-1;0<=te;te--){var de=v.g=E[te];G=rn(de,L,!0,v)&&G}if(de=v.g=h,G=rn(de,L,!0,v)&&G,G=rn(de,L,!1,v)&&G,E)for(te=0;te<E.length;te++)de=v.g=E[te],G=rn(de,L,!1,v)&&G}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],L=0;L<E.length;L++)we(E[L]);delete h.g[v],h.h--}}this.F=null},pt.prototype.K=function(h,v,E,L){return this.i.add(String(h),v,!1,E,L)},pt.prototype.L=function(h,v,E,L){return this.i.add(String(h),v,!0,E,L)};function rn(h,v,E,L){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var G=!0,te=0;te<v.length;++te){var de=v[te];if(de&&!de.da&&de.capture==E){var Ye=de.listener,Nt=de.ha||de.src;de.fa&&Dt(h.i,de),G=Ye.call(Nt,L)!==!1&&G}}return G&&!L.defaultPrevented}function Tt(h,v,E){if(typeof h=="function")E&&(h=S(h,E));else if(h&&typeof h.handleEvent=="function")h=S(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function Ts(h){h.g=Tt(()=>{h.g=null,h.i&&(h.i=!1,Ts(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Cr extends he{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Ts(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hi(h){he.call(this),this.h=h,this.g={}}R(hi,he);var On=[];function fi(h){ee(h.g,function(v,E){this.g.hasOwnProperty(E)&&Bi(v)},h),h.g={}}hi.prototype.N=function(){hi.aa.N.call(this),fi(this)},hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sn=d.JSON.stringify,zi=d.JSON.parse,Dn=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Ar(){}Ar.prototype.h=null;function di(h){return h.h||(h.h=h.i())}function Rr(){}var Nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Pn(){ne.call(this,"d")}R(Pn,ne);function pi(){ne.call(this,"c")}R(pi,ne);var bn={},gi=null;function Jn(){return gi=gi||new pt}bn.La="serverreachability";function ei(h){ne.call(this,bn.La,h)}R(ei,ne);function ti(h){const v=Jn();Qe(v,new ei(v))}bn.STAT_EVENT="statevent";function Ea(h,v){ne.call(this,bn.STAT_EVENT,h),this.stat=v}R(Ea,ne);function it(h){const v=Jn();Qe(v,new Ea(v,h))}bn.Ma="timingevent";function be(h,v){ne.call(this,bn.Ma,h),this.size=v}R(be,ne);function Rt(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function kn(){this.g=!0}kn.prototype.xa=function(){this.g=!1};function Ho(h,v,E,L,G,te){h.info(function(){if(h.g)if(te)for(var de="",Ye=te.split("&"),Nt=0;Nt<Ye.length;Nt++){var Ze=Ye[Nt].split("=");if(1<Ze.length){var qt=Ze[0];Ze=Ze[1];var Pt=qt.split("_");de=2<=Pt.length&&Pt[1]=="type"?de+(qt+"="+Ze+"&"):de+(qt+"=redacted&")}}else de=null;else de=te;return"XMLHTTP REQ ("+L+") [attempt "+G+"]: "+v+`
`+E+`
`+de})}function Ef(h,v,E,L,G,te,de){h.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+G+"]: "+v+`
`+E+`
`+te+" "+de})}function Lr(h,v,E,L){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ss(h,E)+(L?" "+L:"")})}function xu(h,v){h.info(function(){return"TIMEOUT: "+v})}kn.prototype.info=function(){};function Ss(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var L=E[h];if(!(2>L.length)){var G=L[1];if(Array.isArray(G)&&!(1>G.length)){var te=G[0];if(te!="noop"&&te!="stop"&&te!="close")for(var de=1;de<G.length;de++)G[de]=""}}}}return sn(E)}catch{return v}}var Ir={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},qi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function vi(){}R(vi,Ar),vi.prototype.g=function(){return new XMLHttpRequest},vi.prototype.i=function(){return{}},mi=new vi;function fn(h,v,E,L){this.j=h,this.i=v,this.l=E,this.R=L||1,this.U=new hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new St}function St(){this.i=null,this.g="",this.h=!1}var Fo={},ba={};function ni(h,v,E){h.L=1,h.v=Ls(Tn(v)),h.m=E,h.P=!0,Hi(h,null)}function Hi(h,v){h.F=Date.now(),ws(h),h.A=Tn(h.v);var E=h.A,L=h.R;Array.isArray(L)||(L=[String(L)]),Zo(E.i,"t",L),h.C=0,E=h.j.J,h.h=new St,h.g=Ku(h.j,E?v:null,!h.m),0<h.O&&(h.M=new Cr(S(h.Y,h,h.g),h.O)),v=h.U,E=h.g,L=h.ca;var G="readystatechange";Array.isArray(G)||(G&&(On[0]=G.toString()),G=On);for(var te=0;te<G.length;te++){var de=Es(E,G[te],L||v.handleEvent,!1,v.h||v);if(!de)break;v.g[de.key]=de}v=h.H?x(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),ti(),Ho(h.i,h.u,h.A,h.l,h.R,h.m)}fn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Bn(h)==3?v.j():this.Y(h)},fn.prototype.Y=function(h){try{if(h==this.g)e:{const Pt=Bn(this.g);var v=this.g.Ba();const Xi=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||Pt!=4||v==7||(v==8||0>=Xi?ti(3):ti(2)),xr(this);var E=this.g.Z();this.X=E;t:if(Mu(this)){var L=Uu(this.g);h="";var G=L.length,te=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yt(this),yi(this);var de="";break t}this.h.i=new d.TextDecoder}for(v=0;v<G;v++)this.h.h=!0,h+=this.h.i.decode(L[v],{stream:!(te&&v==G-1)});L.length=0,this.h.g+=h,this.C=0,de=this.h.g}else de=this.g.oa();if(this.o=E==200,Ef(this.i,this.u,this.A,this.l,this.R,Pt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Nt=this.g;if((Ye=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(Ye)){var Ze=Ye;break t}}Ze=null}if(E=Ze)Lr(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cs(this,E);else{this.o=!1,this.s=3,it(12),Yt(this),yi(this);break e}}if(this.P){E=!0;let Zt;for(;!this.J&&this.C<de.length;)if(Zt=Ou(this,de),Zt==ba){Pt==4&&(this.s=4,it(14),E=!1),Lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Zt==Fo){this.s=4,it(15),Lr(this.i,this.l,de,"[Invalid Chunk]"),E=!1;break}else Lr(this.i,this.l,Zt,null),Cs(this,Zt);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||de.length!=0||this.h.h||(this.s=1,it(16),E=!1),this.o=this.o&&E,!E)Lr(this.i,this.l,de,"[Invalid Chunked Response]"),Yt(this),yi(this);else if(0<de.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+de.length),ks(qt),qt.M=!0,it(11))}}else Lr(this.i,this.l,de,null),Cs(this,de);Pt==4&&Yt(this),this.o&&!this.J&&(Pt==4?Hu(this.j,this):(this.o=!1,ws(this)))}else Cf(this.g),E==400&&0<de.indexOf("Unknown SID")?(this.s=3,it(12)):(this.s=0,it(13)),Yt(this),yi(this)}}}catch{}finally{}};function Mu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ou(h,v){var E=h.C,L=v.indexOf(`
`,E);return L==-1?ba:(E=Number(v.substring(E,L)),isNaN(E)?Fo:(L+=1,L+E>v.length?ba:(v=v.slice(L,L+E),h.C=L+E,v)))}fn.prototype.cancel=function(){this.J=!0,Yt(this)};function ws(h){h.S=Date.now()+h.I,Du(h,h.I)}function Du(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Rt(S(h.ba,h),v)}function xr(h){h.B&&(d.clearTimeout(h.B),h.B=null)}fn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(xu(this.i,this.A),this.L!=2&&(ti(),it(17)),Yt(this),this.s=2,yi(this)):Du(this,this.S-h)};function yi(h){h.j.G==0||h.J||Hu(h.j,h)}function Yt(h){xr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,fi(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function Cs(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||Go(E.h,h))){if(!h.K&&Go(E.h,h)&&E.G==3){try{var L=E.Da.g.parse(v)}catch{L=null}if(Array.isArray(L)&&L.length==3){var G=L;if(G[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)Da(E),Ma(E);else break e;tl(E),it(18)}}else E.za=G[1],0<E.za-E.T&&37500>G[2]&&E.F&&E.v==0&&!E.C&&(E.C=Rt(S(E.Za,E),6e3));if(1>=Sa(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Zi(E,11)}else if((h.K||E.g==h)&&Da(E),!F(v))for(G=E.Da.g.parse(v),v=0;v<G.length;v++){let Ze=G[v];if(E.T=Ze[0],Ze=Ze[1],E.G==2)if(Ze[0]=="c"){E.K=Ze[1],E.ia=Ze[2];const qt=Ze[3];qt!=null&&(E.la=qt,E.j.info("VER="+E.la));const Pt=Ze[4];Pt!=null&&(E.Aa=Pt,E.j.info("SVER="+E.Aa));const Xi=Ze[5];Xi!=null&&typeof Xi=="number"&&0<Xi&&(L=1.5*Xi,E.L=L,E.j.info("backChannelRequestTimeoutMs_="+L)),L=E;const Zt=h.g;if(Zt){const Ci=Zt.g?Zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ci){var te=L.h;te.g||Ci.indexOf("spdy")==-1&&Ci.indexOf("quic")==-1&&Ci.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(wa(te,te.h),te.h=null))}if(L.D){const il=Zt.g?Zt.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(L.ya=il,lt(L.I,L.D,il))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),L=E;var de=h;if(L.qa=Gu(L,L.J?L.ia:null,L.W),de.K){dn(L.h,de);var Ye=de,Nt=L.L;Nt&&(Ye.I=Nt),Ye.B&&(xr(Ye),ws(Ye)),L.g=de}else zu(L);0<E.i.length&&Oa(E)}else Ze[0]!="stop"&&Ze[0]!="close"||Zi(E,7);else E.G==3&&(Ze[0]=="stop"||Ze[0]=="close"?Ze[0]=="stop"?Zi(E,7):Jo(E):Ze[0]!="noop"&&E.l&&E.l.ta(Ze),E.v=0)}}ti(4)}catch{}}var Nu=class{constructor(h,v){this.g=h,this.map=v}};function Fi(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ta(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Sa(h){return h.h?1:h.g?h.g.size:0}function Go(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function wa(h,v){h.g?h.g.add(v):h.h=v}function dn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Fi.prototype.cancel=function(){if(this.i=Ko(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ko(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return j(h.i)}function bf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],E=h.length,L=0;L<E;L++)v.push(h[L]);return v}v=[],E=0;for(L in h)v[E++]=h[L];return v}function Ca(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const L in h)v[E++]=L;return v}}}function $o(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=Ca(h),L=bf(h),G=L.length,te=0;te<G;te++)v.call(void 0,L[te],E&&E[te],h)}var As=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tf(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var L=h[E].indexOf("="),G=null;if(0<=L){var te=h[E].substring(0,L);G=h[E].substring(L+1)}else te=h[E];v(te,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Lt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Lt){this.h=h.h,Rs(this,h.j),this.o=h.o,this.g=h.g,Mr(this,h.s),this.l=h.l;var v=h.i,E=new Ki;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),Gi(this,E),this.m=h.m}else h&&(v=String(h).match(As))?(this.h=!1,Rs(this,v[1]||"",!0),this.o=Vn(v[2]||""),this.g=Vn(v[3]||"",!0),Mr(this,v[4]),this.l=Vn(v[5]||"",!0),Gi(this,v[6]||"",!0),this.m=Vn(v[7]||"")):(this.h=!1,this.i=new Ki(null,this.h))}Lt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(Is(v,Qo,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(Is(v,Qo,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(Is(E,E.charAt(0)=="/"?Sf:Yo,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",Is(E,Aa)),h.join("")};function Tn(h){return new Lt(h)}function Rs(h,v,E){h.j=E?Vn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function Mr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Gi(h,v,E){v instanceof Ki?(h.i=v,ku(h.i,h.h)):(E||(v=Is(v,wf)),h.i=new Ki(v,h.h))}function lt(h,v,E){h.i.set(v,E)}function Ls(h){return lt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Vn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Is(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,Pu),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Pu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Qo=/[#\/\?@]/g,Yo=/[#\?:]/g,Sf=/[#\?]/g,wf=/[#\?@]/g,Aa=/#/g;function Ki(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Un(h){h.g||(h.g=new Map,h.h=0,h.i&&Tf(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}i=Ki.prototype,i.add=function(h,v){Un(this),this.i=null,h=_i(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function $i(h,v){Un(h),v=_i(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Qi(h,v){return Un(h),v=_i(h,v),h.g.has(v)}i.forEach=function(h,v){Un(this),this.g.forEach(function(E,L){E.forEach(function(G){h.call(v,G,L,this)},this)},this)},i.na=function(){Un(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let L=0;L<v.length;L++){const G=h[L];for(let te=0;te<G.length;te++)E.push(v[L])}return E},i.V=function(h){Un(this);let v=[];if(typeof h=="string")Qi(this,h)&&(v=v.concat(this.g.get(_i(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},i.set=function(h,v){return Un(this),this.i=null,h=_i(this,h),Qi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},i.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Zo(h,v,E){$i(h,v),0<E.length&&(h.i=null,h.g.set(_i(h,v),j(E)),h.h+=E.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var L=v[E];const te=encodeURIComponent(String(L)),de=this.V(L);for(L=0;L<de.length;L++){var G=te;de[L]!==""&&(G+="="+encodeURIComponent(String(de[L]))),h.push(G)}}return this.i=h.join("&")};function _i(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function ku(h,v){v&&!h.j&&(Un(h),h.i=null,h.g.forEach(function(E,L){var G=L.toLowerCase();L!=G&&($i(this,L),Zo(this,G,E))},h)),h.j=v}function xs(h,v){const E=new kn;if(d.Image){const L=new Image;L.onload=I(jn,E,"TestLoadImage: loaded",!0,v,L),L.onerror=I(jn,E,"TestLoadImage: error",!1,v,L),L.onabort=I(jn,E,"TestLoadImage: abort",!1,v,L),L.ontimeout=I(jn,E,"TestLoadImage: timeout",!1,v,L),d.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=h}else v(!1)}function ii(h,v){const E=new kn,L=new AbortController,G=setTimeout(()=>{L.abort(),jn(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:L.signal}).then(te=>{clearTimeout(G),te.ok?jn(E,"TestPingServer: ok",!0,v):jn(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(G),jn(E,"TestPingServer: error",!1,v)})}function jn(h,v,E,L,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),L(E)}catch{}}function Ms(){this.g=new Dn}function Ei(h,v,E){const L=E||"";try{$o(h,function(G,te){let de=G;m(G)&&(de=sn(G)),v.push(L+te+"="+encodeURIComponent(de))})}catch(G){throw v.push(L+"type="+encodeURIComponent("_badmap")),G}}function Or(h){this.l=h.Ub||null,this.j=h.eb||!1}R(Or,Ar),Or.prototype.g=function(){return new Yi(this.l,this.j)},Or.prototype.i=function(h){return function(){return h}}({});function Yi(h,v){pt.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Yi,pt),i=Yi.prototype,i.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Ti(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bi(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Ti(this)),this.g&&(this.readyState=3,Ti(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?bi(this):Ti(this),this.readyState==3&&Xo(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,bi(this))},i.Qa=function(h){this.g&&(this.response=h,bi(this))},i.ga=function(){this.g&&bi(this)};function bi(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Ti(h)}i.setRequestHeader=function(h,v){this.u.append(h,v)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function Ti(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Yi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Wo(h){let v="";return ee(h,function(E,L){v+=L,v+=":",v+=E,v+=`\r
`}),v}function zt(h,v,E){e:{for(L in E){var L=!1;break e}L=!0}L||(E=Wo(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):lt(h,v,E))}function rt(h){pt.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(rt,pt);var Ra=/^https?$/i,Os=["POST","PUT"];i=rt.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,v,E,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?di(this.o):di(mi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(te){Vu(this,te);return}if(h=E||"",E=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var G in L)E.set(G,L[G]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const te of L.keys())E.set(te,L.get(te));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(E.keys()).find(te=>te.toLowerCase()=="content-type"),G=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Os,v,void 0))||L||G||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,de]of E)this.g.setRequestHeader(te,de);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ds(this),this.u=!0,this.g.send(h),this.u=!1}catch(te){Vu(this,te)}};function Vu(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,La(h),Si(h)}function La(h){h.A||(h.A=!0,Qe(h,"complete"),Qe(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Qe(this,"complete"),Qe(this,"abort"),Si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Si(this,!0)),rt.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ia(this):this.bb())},i.bb=function(){Ia(this)};function Ia(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Bn(h)!=4||h.Z()!=2)){if(h.u&&Bn(h)==4)Tt(h.Ea,0,h);else if(Qe(h,"readystatechange"),Bn(h)==4){h.h=!1;try{const de=h.Z();e:switch(de){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var L;if(L=de===0){var G=String(h.D).match(As)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),L=!Ra.test(G?G.toLowerCase():"")}E=L}if(E)Qe(h,"complete"),Qe(h,"success");else{h.m=6;try{var te=2<Bn(h)?h.g.statusText:""}catch{te=""}h.l=te+" ["+h.Z()+"]",La(h)}}finally{Si(h)}}}}function Si(h,v){if(h.g){Ds(h);const E=h.g,L=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Qe(h,"ready");try{E.onreadystatechange=L}catch{}}}function Ds(h){h.I&&(d.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function Bn(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),zi(v)}};function Uu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Cf(h){const v={};h=(h.g&&2<=Bn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<h.length;L++){if(F(h[L]))continue;var E=N(h[L]);const G=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const te=v[G]||[];v[G]=te,te.push(E)}M(v,function(L){return L.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ns(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function xa(h){this.Aa=0,this.i=[],this.j=new kn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ns("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ns("baseRetryDelayMs",5e3,h),this.cb=Ns("retryDelaySeedMs",1e4,h),this.Wa=Ns("forwardChannelMaxRetries",2,h),this.wa=Ns("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Fi(h&&h.concurrentRequestLimit),this.Da=new Ms,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=xa.prototype,i.la=8,i.G=1,i.connect=function(h,v,E,L){it(0),this.W=h,this.H=v||{},E&&L!==void 0&&(this.H.OSID=E,this.H.OAID=L),this.F=this.X,this.I=Gu(this,null,this.W),Oa(this)};function Jo(h){if(ju(h),h.G==3){var v=h.U++,E=Tn(h.I);if(lt(E,"SID",h.K),lt(E,"RID",v),lt(E,"TYPE","terminate"),Ps(h,E),v=new fn(h,h.j,v),v.L=2,v.v=Ls(Tn(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=Ku(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ws(v)}Fu(h)}function Ma(h){h.g&&(ks(h),h.g.cancel(),h.g=null)}function ju(h){Ma(h),h.u&&(d.clearTimeout(h.u),h.u=null),Da(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Oa(h){if(!Ta(h.h)&&!h.s){h.s=!0;var v=h.Ga;ce||P(),fe||(ce(),fe=!0),Te.add(v,h),h.B=0}}function Af(h,v){return Sa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Rt(S(h.Ga,h,v),nl(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const G=new fn(this,this.j,h);let te=this.o;if(this.S&&(te?(te=x(te),D(te,this.S)):te=this.S),this.m!==null||this.O||(G.H=te,te=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var L=this.i[E];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(v+=L,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Bu(this,G,v),E=Tn(this.I),lt(E,"RID",h),lt(E,"CVER",22),this.D&&lt(E,"X-HTTP-Session-Id",this.D),Ps(this,E),te&&(this.O?v="headers="+encodeURIComponent(String(Wo(te)))+"&"+v:this.m&&zt(E,this.m,te)),wa(this.h,G),this.Ua&&lt(E,"TYPE","init"),this.P?(lt(E,"$req",v),lt(E,"SID","null"),G.T=!0,ni(G,E,null)):ni(G,E,v),this.G=2}}else this.G==3&&(h?el(this,h):this.i.length==0||Ta(this.h)||el(this))};function el(h,v){var E;v?E=v.l:E=h.U++;const L=Tn(h.I);lt(L,"SID",h.K),lt(L,"RID",E),lt(L,"AID",h.T),Ps(h,L),h.m&&h.o&&zt(L,h.m,h.o),E=new fn(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Bu(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),wa(h.h,E),ni(E,L,v)}function Ps(h,v){h.H&&ee(h.H,function(E,L){lt(v,L,E)}),h.l&&$o({},function(E,L){lt(v,L,E)})}function Bu(h,v,E){E=Math.min(h.i.length,E);var L=h.l?S(h.l.Na,h.l,h):null;e:{var G=h.i;let te=-1;for(;;){const de=["count="+E];te==-1?0<E?(te=G[0].g,de.push("ofs="+te)):te=0:de.push("ofs="+te);let Ye=!0;for(let Nt=0;Nt<E;Nt++){let Ze=G[Nt].g;const qt=G[Nt].map;if(Ze-=te,0>Ze)te=Math.max(0,G[Nt].g-100),Ye=!1;else try{Ei(qt,de,"req"+Ze+"_")}catch{L&&L(qt)}}if(Ye){L=de.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,L}function zu(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ce||P(),fe||(ce(),fe=!0),Te.add(v,h),h.v=0}}function tl(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Rt(S(h.Fa,h),nl(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Rt(S(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,it(10),Ma(this),qu(this))};function ks(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function qu(h){h.g=new fn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=Tn(h.qa);lt(v,"RID","rpc"),lt(v,"SID",h.K),lt(v,"AID",h.T),lt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&lt(v,"TO",h.ja),lt(v,"TYPE","xmlhttp"),Ps(h,v),h.m&&h.o&&zt(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=Ls(Tn(v)),E.m=null,E.P=!0,Hi(E,h)}i.Za=function(){this.C!=null&&(this.C=null,Ma(this),tl(this),it(19))};function Da(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Hu(h,v){var E=null;if(h.g==v){Da(h),ks(h),h.g=null;var L=2}else if(Go(h.h,v))E=v.D,dn(h.h,v),L=1;else return;if(h.G!=0){if(v.o)if(L==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var G=h.B;L=Jn(),Qe(L,new be(L,E)),Oa(h)}else zu(h);else if(G=v.s,G==3||G==0&&0<v.X||!(L==1&&Af(h,v)||L==2&&tl(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),G){case 1:Zi(h,5);break;case 4:Zi(h,10);break;case 3:Zi(h,6);break;default:Zi(h,2)}}}function nl(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function Zi(h,v){if(h.j.info("Error code "+v),v==2){var E=S(h.fb,h),L=h.Xa;const G=!L;L=new Lt(L||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Rs(L,"https"),Ls(L),G?xs(L.toString(),E):ii(L.toString(),E)}else it(2);h.G=0,h.l&&h.l.sa(v),Fu(h),ju(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),it(2)):(this.j.info("Failed to ping google.com"),it(1))};function Fu(h){if(h.G=0,h.ka=[],h.l){const v=Ko(h.h);(v.length!=0||h.i.length!=0)&&(k(h.ka,v),k(h.ka,h.i),h.h.i.length=0,j(h.i),h.i.length=0),h.l.ra()}}function Gu(h,v,E){var L=E instanceof Lt?Tn(E):new Lt(E);if(L.g!="")v&&(L.g=v+"."+L.g),Mr(L,L.s);else{var G=d.location;L=G.protocol,v=v?v+"."+G.hostname:G.hostname,G=+G.port;var te=new Lt(null);L&&Rs(te,L),v&&(te.g=v),G&&Mr(te,G),E&&(te.l=E),L=te}return E=h.D,v=h.ya,E&&v&&lt(L,E,v),lt(L,"VER",h.la),Ps(h,L),L}function Ku(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new rt(new Or({eb:E})):new rt(h.pa),v.Ha(h.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}i=$u.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Na(){}Na.prototype.g=function(h,v){return new pn(h,v)};function pn(h,v){pt.call(this),this.g=new xa(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!F(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new wi(this)}R(pn,pt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Jo(this.g)},pn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=sn(h),h=E);v.i.push(new Nu(v.Ya++,h)),v.G==3&&Oa(v)},pn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,pn.aa.N.call(this)};function Qu(h){Pn.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}R(Qu,Pn);function Yu(){pi.call(this),this.status=1}R(Yu,pi);function wi(h){this.g=h}R(wi,$u),wi.prototype.ua=function(){Qe(this.g,"a")},wi.prototype.ta=function(h){Qe(this.g,new Qu(h))},wi.prototype.sa=function(h){Qe(this.g,new Yu)},wi.prototype.ra=function(){Qe(this.g,"b")},Na.prototype.createWebChannel=Na.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,_T=function(){return new Na},yT=function(){return Jn()},vT=bn,Qp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ir.NO_ERROR=0,Ir.TIMEOUT=8,Ir.HTTP_ERROR=6,lh=Ir,qi.COMPLETE="complete",mT=qi,Rr.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,Xl=Rr,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,gT=rt}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const rE="@firebase/firestore",sE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ko="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new Ag("@firebase/firestore");function uo(){return ua.logLevel}function me(i,...e){if(ua.logLevel<=Ge.DEBUG){const t=e.map(Ig);ua.debug(`Firestore (${ko}): ${i}`,...t)}}function vr(i,...e){if(ua.logLevel<=Ge.ERROR){const t=e.map(Ig);ua.error(`Firestore (${ko}): ${i}`,...t)}}function To(i,...e){if(ua.logLevel<=Ge.WARN){const t=e.map(Ig);ua.warn(`Firestore (${ko}): ${i}`,...t)}}function Ig(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(i="Unexpected state"){const e=`FIRESTORE (${ko}) INTERNAL ASSERTION FAILED: `+i;throw vr(e),new Error(e)}function st(i,e){i||xe()}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Tr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(un.UNAUTHENTICATED))}shutdown(){}}class NL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class PL{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0);let r=this.i;const a=p=>this.i!==r?(r=this.i,t(p)):Promise.resolve();let l=new fs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new fs,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await a(this.currentUser)})},d=p=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new fs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string"),new ET(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new un(e)}}class kL{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=un.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class VL{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new kL(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class UL{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Oi(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){st(this.o===void 0);const r=l=>{l.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,me("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new aE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(st(typeof t.token=="string"),this.R=t.token,new aE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=jL(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function je(i,e){return i<e?-1:i>e?1:0}function Yp(i,e){let t=0;for(;t<i.length&&t<e.length;){const r=i.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return je(r,a);{const l=bT(),c=BL(l.encode(oE(i,t)),l.encode(oE(e,t)));return c!==0?c:je(r,a)}}t+=r>65535?2:1}return je(i.length,e.length)}function oE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function BL(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return je(i[t],e[t]);return je(i.length,e.length)}function So(i,e,t){return i.length===e.length&&i.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=-62135596800,uE=1e6;class Ut{static now(){return Ut.fromMillis(Date.now())}static fromDate(e){return Ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*uE);return new Ut(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<lE)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uE}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-lE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Ut(0,0))}static max(){return new Oe(new Ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__name__";class Mi{constructor(e,t,r){t===void 0?t=0:t>e.length&&xe(),r===void 0?r=e.length-t:r>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=Mi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return je(e.length,t.length)}static compareSegments(e,t){const r=Mi.isNumericId(e),a=Mi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Mi.extractNumericId(e).compare(Mi.extractNumericId(t)):Yp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class gt extends Mi{construct(e,t,r){return new gt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new gt(t)}static emptyPath(){return new gt([])}}const zL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Mi{construct(e,t,r){return new tn(e,t,r)}static isValidIdentifier(e){return zL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new tn([cE])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new _e(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[a+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new _e(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new _e(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tn(t)}static emptyPath(){return new tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(gt.fromString(e))}static fromName(e){return new Ae(gt.fromString(e).popFirst(5))}static empty(){return new Ae(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=-1;function qL(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(r===1e9?new Ut(t+1,0):new Ut(t,r));return new ps(a,Ae.empty(),e)}function HL(i){return new ps(i.readTime,i.key,lu)}class ps{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ps(Oe.min(),Ae.empty(),lu)}static max(){return new ps(Oe.max(),Ae.empty(),lu)}}function FL(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(i.documentKey,e.documentKey),t!==0?t:je(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(i){if(i.code!==ue.FAILED_PRECONDITION||i.message!==GL)throw i;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,r)=>{t(e)})}static reject(e){return new le((t,r)=>{r(e)})}static waitFor(e){return new le((t,r)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},p=>r(p))}),c=!0,l===a&&t()})}static or(e){let t=le.resolve(!1);for(const r of e)t=t.next(a=>a?le.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}static mapArray(e,t){return new le((r,a)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const m=p;t(e[m]).next(_=>{c[m]=_,++d,d===l&&r(c)},_=>a(_))}})}static doWhile(e,t){return new le((r,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):r()};l()})}}function $L(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Uo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ef.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg=-1;function tf(i){return i==null}function bh(i){return i===0&&1/i==-1/0}function QL(i){return typeof i=="number"&&Number.isInteger(i)&&!bh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="";function YL(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=hE(e)),e=ZL(i.get(t),e);return hE(e)}function ZL(i,e){let t=e;const r=i.length;for(let a=0;a<r;a++){const l=i.charAt(a);switch(l){case"\0":t+="";break;case ST:t+="";break;default:t+=l}}return t}function hE(i){return i+ST+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function da(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function wT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){this.comparator=e,this.root=t||en.EMPTY}insert(e,t){return new _t(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,en.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,en.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class en{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??en.RED,this.left=a??en.EMPTY,this.right=l??en.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new en(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return en.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return en.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,en.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,en.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}en.EMPTY=null,en.RED=!0,en.BLACK=!1;en.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,r,a,l){return this}insert(e,t,r){return new en(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dE(this.data.getIterator())}getIteratorFrom(e){return new dE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new jt(this.comparator);return t.data=e,t}}class dE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.fields=e,e.sort(tn.comparator)}static empty(){return new oi([])}unionWith(e){let t=new jt(tn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new oi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return So(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new CT("Invalid base64 string: "+l):l}}(e);return new nn(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const XL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gs(i){if(st(!!i),typeof i=="string"){let e=0;const t=XL.exec(i);if(st(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:At(i.seconds),nanos:At(i.nanos)}}function At(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ms(i){return typeof i=="string"?nn.fromBase64String(i):nn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="server_timestamp",RT="__type__",LT="__previous_value__",IT="__local_write_time__";function Mg(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[RT])===null||t===void 0?void 0:t.stringValue)===AT}function nf(i){const e=i.mapValue.fields[LT];return Mg(e)?nf(e):e}function uu(i){const e=gs(i.mapValue.fields[IT].timestampValue);return new Ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,t,r,a,l,c,d,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=m}}const Th="(default)";class cu{constructor(e,t){this.projectId=e,this.database=t||Th}static empty(){return new cu("","")}get isDefaultDatabase(){return this.database===Th}isEqual(e){return e instanceof cu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="__type__",JL="__max__",Jc={mapValue:{}},MT="__vector__",Sh="value";function vs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Mg(i)?4:tI(i)?9007199254740991:eI(i)?10:11:xe()}function Ui(i,e){if(i===e)return!0;const t=vs(i);if(t!==vs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return uu(i).isEqual(uu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=gs(a.timestampValue),d=gs(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,l){return ms(a.bytesValue).isEqual(ms(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,l){return At(a.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(a.geoPointValue.longitude)===At(l.geoPointValue.longitude)}(i,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return At(a.integerValue)===At(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=At(a.doubleValue),d=At(l.doubleValue);return c===d?bh(c)===bh(d):isNaN(c)&&isNaN(d)}return!1}(i,e);case 9:return So(i.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(fE(c)!==fE(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!Ui(c[p],d[p])))return!1;return!0}(i,e);default:return xe()}}function hu(i,e){return(i.values||[]).find(t=>Ui(t,e))!==void 0}function wo(i,e){if(i===e)return 0;const t=vs(i),r=vs(e);if(t!==r)return je(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return je(i.booleanValue,e.booleanValue);case 2:return function(l,c){const d=At(l.integerValue||l.doubleValue),p=At(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return pE(i.timestampValue,e.timestampValue);case 4:return pE(uu(i),uu(e));case 5:return Yp(i.stringValue,e.stringValue);case 6:return function(l,c){const d=ms(l),p=ms(c);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),p=c.split("/");for(let m=0;m<d.length&&m<p.length;m++){const _=je(d[m],p[m]);if(_!==0)return _}return je(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,c){const d=je(At(l.latitude),At(c.latitude));return d!==0?d:je(At(l.longitude),At(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return gE(i.arrayValue,e.arrayValue);case 10:return function(l,c){var d,p,m,_;const T=l.fields||{},S=c.fields||{},I=(d=T[Sh])===null||d===void 0?void 0:d.arrayValue,R=(p=S[Sh])===null||p===void 0?void 0:p.arrayValue,j=je(((m=I==null?void 0:I.values)===null||m===void 0?void 0:m.length)||0,((_=R==null?void 0:R.values)===null||_===void 0?void 0:_.length)||0);return j!==0?j:gE(I,R)}(i.mapValue,e.mapValue);case 11:return function(l,c){if(l===Jc.mapValue&&c===Jc.mapValue)return 0;if(l===Jc.mapValue)return 1;if(c===Jc.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),m=c.fields||{},_=Object.keys(m);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const S=Yp(p[T],_[T]);if(S!==0)return S;const I=wo(d[p[T]],m[_[T]]);if(I!==0)return I}return je(p.length,_.length)}(i.mapValue,e.mapValue);default:throw xe()}}function pE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return je(i,e);const t=gs(i),r=gs(e),a=je(t.seconds,r.seconds);return a!==0?a:je(t.nanos,r.nanos)}function gE(i,e){const t=i.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=wo(t[a],r[a]);if(l)return l}return je(t.length,r.length)}function Co(i){return Zp(i)}function Zp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const r=gs(t);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ms(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Ae.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=Zp(l);return r+"]"}(i.arrayValue):"mapValue"in i?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Zp(t.fields[c])}`;return a+"}"}(i.mapValue):xe()}function uh(i){switch(vs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nf(i);return e?16+uh(e):16;case 5:return 2*i.stringValue.length;case 6:return ms(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+uh(l),0)}(i.arrayValue);case 10:case 11:return function(r){let a=0;return da(r.fields,(l,c)=>{a+=l.length+uh(c)}),a}(i.mapValue);default:throw xe()}}function mE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Xp(i){return!!i&&"integerValue"in i}function Og(i){return!!i&&"arrayValue"in i}function vE(i){return!!i&&"nullValue"in i}function yE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ch(i){return!!i&&"mapValue"in i}function eI(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[xT])===null||t===void 0?void 0:t.stringValue)===MT}function eu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return da(i.mapValue.fields,(t,r)=>e.mapValue.fields[t]=eu(r)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=eu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function tI(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===JL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this.value=e}static empty(){return new Yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ch(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(t)}setAll(e){let t=tn.emptyPath(),r={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,r,a),r={},a=[],t=d.popLast()}c?r[d.lastSegment()]=eu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());ch(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];ch(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){da(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new Yn(eu(this.value))}}function OT(i){const e=[];return da(i.fields,(t,r)=>{const a=new tn([t]);if(ch(r)){const l=OT(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new oi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,t,r,a,l,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new cn(e,0,Oe.min(),Oe.min(),Oe.min(),Yn.empty(),0)}static newFoundDocument(e,t,r,a){return new cn(e,1,t,Oe.min(),r,a,0)}static newNoDocument(e,t){return new cn(e,2,t,Oe.min(),Oe.min(),Yn.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Oe.min(),Oe.min(),Yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,t){this.position=e,this.inclusive=t}}function _E(i,e,t){let r=0;for(let a=0;a<i.position.length;a++){const l=e[a],c=i.position[a];if(l.field.isKeyField()?r=Ae.comparator(Ae.fromName(c.referenceValue),t.key):r=wo(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function EE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ui(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t="asc"){this.field=e,this.dir=t}}function nI(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{}class Ot extends DT{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new rI(e,t,r):t==="array-contains"?new oI(e,r):t==="in"?new lI(e,r):t==="not-in"?new uI(e,r):t==="array-contains-any"?new cI(e,r):new Ot(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new sI(e,r):new aI(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(wo(t,this.value)):t!==null&&vs(this.value)===vs(t)&&this.matchesComparison(wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends DT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new ui(e,t)}matches(e){return NT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function NT(i){return i.op==="and"}function PT(i){return iI(i)&&NT(i)}function iI(i){for(const e of i.filters)if(e instanceof ui)return!1;return!0}function Wp(i){if(i instanceof Ot)return i.field.canonicalString()+i.op.toString()+Co(i.value);if(PT(i))return i.filters.map(e=>Wp(e)).join(",");{const e=i.filters.map(t=>Wp(t)).join(",");return`${i.op}(${e})`}}function kT(i,e){return i instanceof Ot?function(r,a){return a instanceof Ot&&r.op===a.op&&r.field.isEqual(a.field)&&Ui(r.value,a.value)}(i,e):i instanceof ui?function(r,a){return a instanceof ui&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,d)=>l&&kT(c,a.filters[d]),!0):!1}(i,e):void xe()}function VT(i){return i instanceof Ot?function(t){return`${t.field.canonicalString()} ${t.op} ${Co(t.value)}`}(i):i instanceof ui?function(t){return t.op.toString()+" {"+t.getFilters().map(VT).join(" ,")+"}"}(i):"Filter"}class rI extends Ot{constructor(e,t,r){super(e,t,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class sI extends Ot{constructor(e,t){super(e,"in",t),this.keys=UT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class aI extends Ot{constructor(e,t){super(e,"not-in",t),this.keys=UT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function UT(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class oI extends Ot{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Og(t)&&hu(t.arrayValue,this.value)}}class lI extends Ot{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hu(this.value.arrayValue,t)}}class uI extends Ot{constructor(e,t){super(e,"not-in",t)}matches(e){if(hu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!hu(this.value.arrayValue,t)}}class cI extends Ot{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Og(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,t=null,r=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function bE(i,e=null,t=[],r=[],a=null,l=null,c=null){return new hI(i,e,t,r,a,l,c)}function Dg(i){const e=Ne(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Wp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Co(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Co(r)).join(",")),e.le=t}return e.le}function Ng(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!nI(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!kT(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!EE(i.startAt,e.startAt)&&EE(i.endAt,e.endAt)}function Jp(i){return Ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,t=null,r=[],a=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function fI(i,e,t,r,a,l,c,d){return new jo(i,e,t,r,a,l,c,d)}function jT(i){return new jo(i)}function TE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function BT(i){return i.collectionGroup!==null}function tu(i){const e=Ne(i);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new jt(tn.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new fu(l,r))}),t.has(tn.keyField().canonicalString())||e.he.push(new fu(tn.keyField(),r))}return e.he}function Di(i){const e=Ne(i);return e.Pe||(e.Pe=dI(e,tu(i))),e.Pe}function dI(i,e){if(i.limitType==="F")return bE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new fu(a.field,l)});const t=i.endAt?new wh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new wh(i.startAt.position,i.startAt.inclusive):null;return bE(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function eg(i,e){const t=i.filters.concat([e]);return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function tg(i,e,t){return new jo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function rf(i,e){return Ng(Di(i),Di(e))&&i.limitType===e.limitType}function zT(i){return`${Dg(Di(i))}|lt:${i.limitType}`}function co(i){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>VT(a)).join(", ")}]`),tf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>Co(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>Co(a)).join(",")),`Target(${r})`}(Di(i))}; limitType=${i.limitType})`}function sf(i,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ae.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,e)&&function(r,a){for(const l of tu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(i,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(i,e)&&function(r,a){return!(r.startAt&&!function(c,d,p){const m=_E(c,d,p);return c.inclusive?m<=0:m<0}(r.startAt,tu(r),a)||r.endAt&&!function(c,d,p){const m=_E(c,d,p);return c.inclusive?m>=0:m>0}(r.endAt,tu(r),a))}(i,e)}function pI(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function qT(i){return(e,t)=>{let r=!1;for(const a of tu(i)){const l=gI(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function gI(i,e,t){const r=i.field.isKeyField()?Ae.comparator(e.key,t.key):function(l,c,d){const p=c.data.field(l),m=d.data.field(l);return p!==null&&m!==null?wo(p,m):xe()}(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){da(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return wT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=new _t(Ae.comparator);function yr(){return mI}const HT=new _t(Ae.comparator);function Wl(...i){let e=HT;for(const t of i)e=e.insert(t.key,t);return e}function FT(i){let e=HT;return i.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function na(){return nu()}function GT(){return nu()}function nu(){return new pa(i=>i.toString(),(i,e)=>i.isEqual(e))}const vI=new _t(Ae.comparator),yI=new jt(Ae.comparator);function Ke(...i){let e=yI;for(const t of i)e=e.add(t);return e}const _I=new jt(je);function EI(){return _I}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function KT(i){return{integerValue:""+i}}function bI(i,e){return QL(e)?KT(e):Pg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(){this._=void 0}}function TI(i,e,t){return i instanceof Ch?function(a,l){const c={fields:{[RT]:{stringValue:AT},[IT]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Mg(l)&&(l=nf(l)),l&&(c.fields[LT]=l),{mapValue:c}}(t,e):i instanceof du?QT(i,e):i instanceof pu?YT(i,e):function(a,l){const c=$T(a,l),d=SE(c)+SE(a.Ie);return Xp(c)&&Xp(a.Ie)?KT(d):Pg(a.serializer,d)}(i,e)}function SI(i,e,t){return i instanceof du?QT(i,e):i instanceof pu?YT(i,e):t}function $T(i,e){return i instanceof Ah?function(r){return Xp(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class Ch extends af{}class du extends af{constructor(e){super(),this.elements=e}}function QT(i,e){const t=ZT(e);for(const r of i.elements)t.some(a=>Ui(a,r))||t.push(r);return{arrayValue:{values:t}}}class pu extends af{constructor(e){super(),this.elements=e}}function YT(i,e){let t=ZT(e);for(const r of i.elements)t=t.filter(a=>!Ui(a,r));return{arrayValue:{values:t}}}class Ah extends af{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function SE(i){return At(i.integerValue||i.doubleValue)}function ZT(i){return Og(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function wI(i,e){return i.field.isEqual(e.field)&&function(r,a){return r instanceof du&&a instanceof du||r instanceof pu&&a instanceof pu?So(r.elements,a.elements,Ui):r instanceof Ah&&a instanceof Ah?Ui(r.Ie,a.Ie):r instanceof Ch&&a instanceof Ch}(i.transform,e.transform)}class CI{constructor(e,t){this.version=e,this.transformResults=t}}class pr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new pr}static exists(e){return new pr(void 0,e)}static updateTime(e){return new pr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class of{}function XT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new JT(i.key,pr.none()):new Su(i.key,i.data,pr.none());{const t=i.data,r=Yn.empty();let a=new jt(tn.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new ga(i.key,r,new oi(a.toArray()),pr.none())}}function AI(i,e,t){i instanceof Su?function(a,l,c){const d=a.value.clone(),p=CE(a.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(i,e,t):i instanceof ga?function(a,l,c){if(!hh(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=CE(a.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(WT(a)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(i,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function iu(i,e,t,r){return i instanceof Su?function(l,c,d,p){if(!hh(l.precondition,c))return d;const m=l.value.clone(),_=AE(l.fieldTransforms,p,c);return m.setAll(_),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null}(i,e,t,r):i instanceof ga?function(l,c,d,p){if(!hh(l.precondition,c))return d;const m=AE(l.fieldTransforms,p,c),_=c.data;return _.setAll(WT(l)),_.setAll(m),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(i,e,t,r):function(l,c,d){return hh(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(i,e,t)}function RI(i,e){let t=null;for(const r of i.fieldTransforms){const a=e.data.field(r.field),l=$T(r.transform,a||null);l!=null&&(t===null&&(t=Yn.empty()),t.set(r.field,l))}return t||null}function wE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&So(r,a,(l,c)=>wI(l,c))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Su extends of{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ga extends of{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function WT(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}}),e}function CE(i,e,t){const r=new Map;st(i.length===t.length);for(let a=0;a<t.length;a++){const l=i[a],c=l.transform,d=e.data.field(l.field);r.set(l.field,SI(c,d,t[a]))}return r}function AE(i,e,t){const r=new Map;for(const a of i){const l=a.transform,c=t.data.field(a.field);r.set(a.field,TI(l,c,e))}return r}class JT extends of{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class LI extends of{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&AI(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=iu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=iu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=GT();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const p=XT(c,d);p!==null&&r.set(a.key,p),c.isValidDocument()||c.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ke())}isEqual(e){return this.batchId===e.batchId&&So(this.mutations,e.mutations,(t,r)=>wE(t,r))&&So(this.baseMutations,e.baseMutations,(t,r)=>wE(t,r))}}class kg{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){st(e.mutations.length===r.length);let a=function(){return vI}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new kg(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,We;function OI(i){switch(i){case ue.OK:return xe();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0;default:return xe()}}function eS(i){if(i===void 0)return vr("GRPC error has no .code"),ue.UNKNOWN;switch(i){case Mt.OK:return ue.OK;case Mt.CANCELLED:return ue.CANCELLED;case Mt.UNKNOWN:return ue.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return ue.INTERNAL;case Mt.UNAVAILABLE:return ue.UNAVAILABLE;case Mt.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Mt.NOT_FOUND:return ue.NOT_FOUND;case Mt.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Mt.ABORTED:return ue.ABORTED;case Mt.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Mt.DATA_LOSS:return ue.DATA_LOSS;default:return xe()}}(We=Mt||(Mt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new hs([4294967295,4294967295],0);function RE(i){const e=bT().encode(i),t=new pT;return t.update(e),new Uint8Array(t.digest())}function LE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new hs([t,r],0),new hs([a,l],0)]}class Vg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Jl(`Invalid padding: ${t}`);if(r<0)throw new Jl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Jl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=hs.fromNumber(this.Ee)}Ae(e,t,r){let a=e.add(t.multiply(hs.fromNumber(r)));return a.compare(DI)===1&&(a=new hs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=RE(e),[r,a]=LE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Vg(l,a,t);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=RE(e),[r,a]=LE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new lf(Oe.min(),a,new _t(je),yr(),Ke())}}class wu{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new wu(r,t,Ke(),Ke(),Ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,t,r,a){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=a}}class tS{constructor(e,t){this.targetId=e,this.ge=t}}class nS{constructor(e,t,r=nn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class IE{constructor(){this.pe=0,this.ye=xE(),this.we=nn.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ke(),t=Ke(),r=Ke();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:xe()}}),new wu(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=xE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,st(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class NI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=yr(),this.$e=eh(),this.Ue=eh(),this.Ke=new _t(je)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,r=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(Jp(l))if(r===0){const c=new Ae(l.path);this.ze(t,c,cn.newNoDocument(c,Oe.min()))}else st(r===1);else{const c=this.et(t);if(c!==r){const d=this.tt(e),p=d?this.nt(d,e,c):1;if(p!==0){this.Ye(t);const m=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,m)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=ms(r).toUint8Array()}catch(p){if(p instanceof CT)return To("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Vg(c,a,l)}catch(p){return To(p instanceof Jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let a=0;return r.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&Jp(d.target)){const p=new Ae(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,cn.newNoDocument(p,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let r=Ke();this.Ue.forEach((l,c)=>{let d=!0;c.forEachWhile(p=>{const m=this.Xe(p);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new lf(e,t,this.Ke,this.Qe,r);return this.Qe=yr(),this.$e=eh(),this.Ue=eh(),this.Ke=new _t(je),a}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new IE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new jt(je),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new jt(je),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||me("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new IE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function eh(){return new _t(Ae.comparator)}function xE(){return new _t(Ae.comparator)}const PI={asc:"ASCENDING",desc:"DESCENDING"},kI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},VI={and:"AND",or:"OR"};class UI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ng(i,e){return i.useProto3Json||tf(e)?e:{value:e}}function Rh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function jI(i,e){return Rh(i,e.toTimestamp())}function Ni(i){return st(!!i),Oe.fromTimestamp(function(t){const r=gs(t);return new Ut(r.seconds,r.nanos)}(i))}function Ug(i,e){return ig(i,e).canonicalString()}function ig(i,e){const t=function(a){return new gt(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?t:t.child(e)}function rS(i){const e=gt.fromString(i);return st(uS(e)),e}function rg(i,e){return Ug(i.databaseId,e.path)}function xp(i,e){const t=rS(e);if(t.get(1)!==i.databaseId.projectId)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new _e(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ae(aS(t))}function sS(i,e){return Ug(i.databaseId,e)}function BI(i){const e=rS(i);return e.length===4?gt.emptyPath():aS(e)}function sg(i){return new gt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function aS(i){return st(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function ME(i,e,t){return{name:rg(i,e),fields:t.value.mapValue.fields}}function zI(i,e){let t;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,_){return m.useProto3Json?(st(_===void 0||typeof _=="string"),nn.fromBase64String(_||"")):(st(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),nn.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(m){const _=m.code===void 0?ue.UNKNOWN:eS(m.code);return new _e(_,m.message||"")}(c);t=new nS(r,a,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=xp(i,r.document.name),l=Ni(r.document.updateTime),c=r.document.createTime?Ni(r.document.createTime):Oe.min(),d=new Yn({mapValue:{fields:r.document.fields}}),p=cn.newFoundDocument(a,l,c,d),m=r.targetIds||[],_=r.removedTargetIds||[];t=new fh(m,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=xp(i,r.document),l=r.readTime?Ni(r.readTime):Oe.min(),c=cn.newNoDocument(a,l),d=r.removedTargetIds||[];t=new fh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=xp(i,r.document),l=r.removedTargetIds||[];t=new fh([],l,a,null)}else{if(!("filter"in e))return xe();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new MI(a,l),d=r.targetId;t=new tS(d,c)}}return t}function qI(i,e){let t;if(e instanceof Su)t={update:ME(i,e.key,e.value)};else if(e instanceof JT)t={delete:rg(i,e.key)};else if(e instanceof ga)t={update:ME(i,e.key,e.data),updateMask:XI(e.fieldMask)};else{if(!(e instanceof LI))return xe();t={verify:rg(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const d=c.transform;if(d instanceof Ch)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof du)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof pu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Ah)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw xe()}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:jI(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:xe()}(i,e.precondition)),t}function HI(i,e){return i&&i.length>0?(st(e!==void 0),i.map(t=>function(a,l){let c=a.updateTime?Ni(a.updateTime):Ni(l);return c.isEqual(Oe.min())&&(c=Ni(l)),new CI(c,a.transformResults||[])}(t,e))):[]}function FI(i,e){return{documents:[sS(i,e.path)]}}function GI(i,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=sS(i,a);const l=function(m){if(m.length!==0)return lS(ui.create(m,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(m){if(m.length!==0)return m.map(_=>function(S){return{field:ho(S.field),direction:QI(S.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=ng(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{ht:t,parent:a}}function KI(i){let e=BI(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){st(r===1);const _=t.from[0];_.allDescendants?a=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const S=oS(T);return S instanceof ui&&PT(S)?S.getFilters():[S]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(S=>function(R){return new fu(fo(R.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(S))}(t.orderBy));let d=null;t.limit&&(d=function(T){let S;return S=typeof T=="object"?T.value:T,tf(S)?null:S}(t.limit));let p=null;t.startAt&&(p=function(T){const S=!!T.before,I=T.values||[];return new wh(I,S)}(t.startAt));let m=null;return t.endAt&&(m=function(T){const S=!T.before,I=T.values||[];return new wh(I,S)}(t.endAt)),fI(e,a,c,l,d,"F",p,m)}function $I(i,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function oS(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=fo(t.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=fo(t.unaryFilter.field);return Ot.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=fo(t.unaryFilter.field);return Ot.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=fo(t.unaryFilter.field);return Ot.create(c,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(i):i.fieldFilter!==void 0?function(t){return Ot.create(fo(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ui.create(t.compositeFilter.filters.map(r=>oS(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return xe()}}(t.compositeFilter.op))}(i):xe()}function QI(i){return PI[i]}function YI(i){return kI[i]}function ZI(i){return VI[i]}function ho(i){return{fieldPath:i.canonicalString()}}function fo(i){return tn.fromServerFormat(i.fieldPath)}function lS(i){return i instanceof Ot?function(t){if(t.op==="=="){if(yE(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NAN"}};if(vE(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(yE(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NOT_NAN"}};if(vE(t.value))return{unaryFilter:{field:ho(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(t.field),op:YI(t.op),value:t.value}}}(i):i instanceof ui?function(t){const r=t.getFilters().map(a=>lS(a));return r.length===1?r[0]:{compositeFilter:{op:ZI(t.op),filters:r}}}(i):xe()}function XI(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,t,r,a,l=Oe.min(),c=Oe.min(),d=nn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.Tt=e}}function JI(i){const e=KI({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?tg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.Tn=new tx}addToCollectionParentIndex(e,t){return this.Tn.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(ps.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(ps.min())}updateCollectionGroup(e,t,r){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class tx{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new jt(gt.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new jt(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cS=41943040;class _n{static withCacheSize(e){return new _n(e,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(cS,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Ao(0)}static Kn(){return new Ao(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="LruGarbageCollector",nx=1048576;function NE([i,e],[t,r]){const a=je(i,t);return a===0?je(e,r):a}class ix{constructor(e){this.Hn=e,this.buffer=new jt(NE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();NE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rx{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(DE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Uo(t)?me(DE,"Ignoring IndexedDB error during garbage collection: ",t):await Vo(t)}await this.er(3e5)})}}class sx{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return le.resolve(ef.ae);const r=new ix(t);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),le.resolve(OE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,a,l,c,d,p,m;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(r=T,d=Date.now(),this.removeTargets(e,r,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,r))).next(T=>(m=Date.now(),uo()<=Ge.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(m-p)+`ms
Total Duration: ${m-_}ms`),le.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function ax(i,e){return new sx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.changes=new pa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?le.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&iu(r.mutation,a,oi.empty(),Ut.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ke()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ke()){const a=na();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(l=>{let c=Wl();return l.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=na();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ke()))}populateOverlays(e,t,r){const a=[];return r.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,r,a){let l=yr();const c=nu(),d=function(){return nu()}();return t.forEach((p,m)=>{const _=r.get(m.key);a.has(m.key)&&(_===void 0||_.mutation instanceof ga)?l=l.insert(m.key,m):_!==void 0?(c.set(m.key,_.mutation.getFieldMask()),iu(_.mutation,m,_.mutation.getFieldMask(),Ut.now())):c.set(m.key,oi.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((m,_)=>c.set(m,_)),t.forEach((m,_)=>{var T;return d.set(m,new lx(_,(T=c.get(m))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const r=nu();let a=new _t((c,d)=>c-d),l=Ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const m=t.get(p);if(m===null)return;let _=r.get(p)||oi.empty();_=d.applyToLocalView(m,_),r.set(p,_);const T=(a.get(d.batchId)||Ke()).add(p);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),m=p.key,_=p.value,T=GT();_.forEach(S=>{if(!l.has(S)){const I=XT(t.get(S),r.get(S));I!==null&&T.set(S,I),l=l.add(S)}}),c.push(this.documentOverlayCache.saveOverlays(e,m,T))}return le.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):BT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):le.resolve(na());let d=lu,p=l;return c.next(m=>le.forEach(m,(_,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(_)?le.resolve():this.remoteDocumentCache.getEntry(e,_).next(S=>{p=p.insert(_,S)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,p,m,Ke())).next(_=>({batchId:d,changes:FT(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(r=>{let a=Wl();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=Wl();return this.indexManager.getCollectionParents(e,l).next(d=>le.forEach(d,p=>{const m=function(T,S){return new jo(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next(_=>{_.forEach((T,S)=>{c=c.insert(T,S)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a))).next(c=>{l.forEach((p,m)=>{const _=m.getKey();c.get(_)===null&&(c=c.insert(_,cn.newInvalidDocument(_)))});let d=Wl();return c.forEach((p,m)=>{const _=l.get(p);_!==void 0&&iu(_.mutation,m,oi.empty(),Ut.now()),sf(t,m)&&(d=d.insert(p,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return le.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ni(a.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:JI(a.bundledQuery),readTime:Ni(a.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(){this.overlays=new _t(Ae.comparator),this.Rr=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const r=na();return le.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,l)=>{this.Et(e,t,l)}),le.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),le.resolve()}getOverlaysForCollection(e,t,r){const a=na(),l=t.length+1,c=new Ae(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,m=p.getKey();if(!t.isPrefixOf(m.path))break;m.path.length===l&&p.largestBatchId>r&&a.set(p.getKey(),p)}return le.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new _t((m,_)=>m-_);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===t&&m.largestBatchId>r){let _=l.get(m.largestBatchId);_===null&&(_=na(),l=l.insert(m.largestBatchId,_)),_.set(m.getKey(),m)}}const d=na(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((m,_)=>d.set(m,_)),!(d.size()>=a)););return le.resolve(d)}Et(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new xI(t,r));let l=this.Rr.get(t);l===void 0&&(l=Ke(),this.Rr.set(t,l)),this.Rr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(){this.Vr=new jt(Kt.mr),this.gr=new jt(Kt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new Kt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new Kt(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new Ae(new gt([])),r=new Kt(t,e),a=new Kt(t,e+1),l=[];return this.gr.forEachInRange([r,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ae(new gt([])),r=new Kt(t,e),a=new Kt(t,e+1);let l=Ke();return this.gr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Kt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Kt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ae.comparator(e.key,t.key)||je(e.Cr,t.Cr)}static pr(e,t){return je(e.Cr,t.Cr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new jt(Kt.mr)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new II(l,t,r,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new Kt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return le.resolve(c)}lookupMutationBatch(e,t){return le.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Nr(r),l=a<0?0:a;return le.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?xg:this.Fr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Kt(t,0),a=new Kt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,a],c=>{const d=this.Or(c.Cr);l.push(d)}),le.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new jt(je);return t.forEach(a=>{const l=new Kt(a,0),c=new Kt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{r=r.add(d.Cr)})}),le.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Ae.isDocumentKey(l)||(l=l.child(""));const c=new Kt(new Ae(l),0);let d=new jt(je);return this.Mr.forEachWhile(p=>{const m=p.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(d=d.add(p.Cr)),!0)},c),le.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){st(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return le.forEach(t.mutations,a=>{const l=new Kt(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new Kt(t,0),a=this.Mr.firstAfterOrEqual(r);return le.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.kr=e,this.docs=function(){return new _t(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return le.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let r=yr();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():cn.newInvalidDocument(a))}),le.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=yr();const c=t.path,d=new Ae(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:m,value:{document:_}}=p.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||FL(HL(_),r)<=0||(a.has(_.key)||sf(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return le.resolve(l)}getAllFromCollectionGroup(e,t,r,a){xe()}qr(e,t){return le.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new gx(this)}getSize(e){return le.resolve(this.size)}}class gx extends ox{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),le.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.persistence=e,this.Qr=new pa(t=>Dg(t),Ng),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new jg,this.targetCount=0,this.Kr=Ao.Un()}forEachTarget(e,t){return this.Qr.forEach((r,a)=>t(a)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),le.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Ao(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.zn(t),le.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),le.waitFor(l).next(()=>a)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return le.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),le.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),le.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),le.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return le.resolve(r)}containsKey(e,t){return le.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ef(0),this.zr=!1,this.zr=!0,this.jr=new fx,this.referenceDelegate=e(this),this.Hr=new mx(this),this.indexManager=new ex,this.remoteDocumentCache=function(a){return new px(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new WI(t),this.Yr=new cx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new dx(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){me("MemoryPersistence","Starting transaction:",e);const a=new vx(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return le.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class vx extends KL{constructor(e){super(),this.currentSequenceNumber=e}}class Bg{constructor(e){this.persistence=e,this.ti=new jg,this.ni=null}static ri(e){return new Bg(e)}get ii(){if(this.ni)return this.ni;throw xe()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),le.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),le.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.ii,r=>{const a=Ae.fromPath(r);return this.si(e,a).next(l=>{l||t.removeEntry(a,Oe.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return le.or([()=>le.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Lh{constructor(e,t){this.persistence=e,this.oi=new pa(r=>YL(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=ax(this,t)}static ri(e,t){return new Lh(e,t)}Zr(){}Xr(e){return le.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return le.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(l=>l?le.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(d=>{d||(r++,l.removeEntry(c,Oe.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),le.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),le.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),le.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=uh(e.data.value)),t}ar(e,t,r){return le.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return le.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=a}static Yi(e,t){let r=Ke(),a=Ke();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new zg(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return gR()?8:$L(hn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new yx;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,r,a){return r.documentReadCount<this.es?(uo()<=Ge.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",co(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),le.resolve()):(uo()<=Ge.DEBUG&&me("QueryEngine","Query:",co(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(uo()<=Ge.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",co(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Di(t))):le.resolve())}rs(e,t){if(TE(t))return le.resolve(null);let r=Di(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=tg(t,null,"F"),r=Di(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Ke(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(p=>{const m=this.cs(t,d);return this.ls(t,m,c,p.readTime)?this.rs(e,tg(t,null,"F")):this.hs(e,m,t,p)}))})))}ss(e,t,r,a){return TE(t)||a.isEqual(Oe.min())?le.resolve(null):this.ns.getDocuments(e,r).next(l=>{const c=this.cs(t,l);return this.ls(t,c,r,a)?le.resolve(null):(uo()<=Ge.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),co(t)),this.hs(e,c,t,qL(a,lu)).next(d=>d))})}cs(e,t){let r=new jt(qT(e));return t.forEach((a,l)=>{sf(e,l)&&(r=r.add(l))}),r}ls(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,r){return uo()<=Ge.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",co(t)),this.ns.getDocumentsMatchingQuery(e,t,ps.min(),r)}hs(e,t,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="LocalStore",Ex=3e8;class bx{constructor(e,t,r,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new _t(je),this.Is=new pa(l=>Dg(l),Ng),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ux(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function Tx(i,e,t,r){return new bx(i,e,t,r)}async function fS(i,e){const t=Ne(i);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],d=[];let p=Ke();for(const m of a){c.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}for(const m of l){d.push(m.batchId);for(const _ of m.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(r,p).next(m=>({Rs:m,removedBatchIds:c,addedBatchIds:d}))})})}function Sx(i,e){const t=Ne(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,m,_){const T=m.batch,S=T.keys();let I=le.resolve();return S.forEach(R=>{I=I.next(()=>_.getEntry(p,R)).next(j=>{const k=m.docVersions.get(R);st(k!==null),j.version.compareTo(k)<0&&(T.applyToRemoteDocument(j,m),j.isValidDocument()&&(j.setReadTime(m.commitVersion),_.addEntry(j)))})}),I.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let p=Ke();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(p=p.add(d.batch.mutations[m].key));return p}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function dS(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function wx(i,e){const t=Ne(i),r=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const d=[];e.targetChanges.forEach((_,T)=>{const S=a.get(T);if(!S)return;d.push(t.Hr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,_.addedDocuments,T)));let I=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?I=I.withResumeToken(nn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):_.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(_.resumeToken,r)),a=a.insert(T,I),function(j,k,z){return j.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=Ex?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0}(S,I,_)&&d.push(t.Hr.updateTargetData(l,I))});let p=yr(),m=Ke();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),d.push(Cx(l,c,e.documentUpdates).next(_=>{p=_.Vs,m=_.fs})),!r.isEqual(Oe.min())){const _=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(_)}return le.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,m)).next(()=>p)}).then(l=>(t.Ts=a,l))}function Cx(i,e,t){let r=Ke(),a=Ke();return t.forEach(l=>r=r.add(l)),e.getEntries(i,r).next(l=>{let c=yr();return t.forEach((d,p)=>{const m=l.get(d);p.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(d)),p.isNoDocument()&&p.version.isEqual(Oe.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!m.isValidDocument()||p.version.compareTo(m.version)>0||p.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):me(qg,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",p.version)}),{Vs:c,fs:a}})}function Ax(i,e){const t=Ne(i);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=xg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Rx(i,e){const t=Ne(i);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Hr.getTargetData(r,e).next(l=>l?(a=l,le.resolve(a)):t.Hr.allocateTargetId(r).next(c=>(a=new os(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function ag(i,e,t){const r=Ne(i),a=r.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Uo(c))throw c;me(qg,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function PE(i,e,t){const r=Ne(i);let a=Oe.min(),l=Ke();return r.persistence.runTransaction("Execute query","readwrite",c=>function(p,m,_){const T=Ne(p),S=T.Is.get(_);return S!==void 0?le.resolve(T.Ts.get(S)):T.Hr.getTargetData(m,_)}(r,c,Di(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{l=p})}).next(()=>r.Ps.getDocumentsMatchingQuery(c,e,t?a:Oe.min(),t?l:Ke())).next(d=>(Lx(r,pI(e),d),{documents:d,gs:l})))}function Lx(i,e,t){let r=i.Es.get(e)||Oe.min();t.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),i.Es.set(e,r)}class kE{constructor(){this.activeTargetIds=EI()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Ix{constructor(){this.ho=new kE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new kE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE="ConnectivityMonitor";class UE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(VE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(VE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function og(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp="RestConnection",Mx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ox{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===Th?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(e,t,r,a,l){const c=og(),d=this.bo(e,t.toUriEncodedString());me(Mp,`Sending RPC '${e}' ${c}:`,d,r);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,a,l),this.vo(e,d,p,r).then(m=>(me(Mp,`Received RPC '${e}' ${c}: `,m),m),m=>{throw To(Mp,`RPC '${e}' ${c} failed with error: `,m,"url: ",d,"request:",r),m})}Co(e,t,r,a,l,c){return this.So(e,t,r,a,l)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ko}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const r=Mx[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class Nx extends Ox{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,a){const l=og();return new Promise((c,d)=>{const p=new gT;p.setWithCredentials(!0),p.listenOnce(mT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case lh.NO_ERROR:const _=p.getResponseJson();me(ln,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case lh.TIMEOUT:me(ln,`RPC '${e}' ${l} timed out`),d(new _e(ue.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const T=p.getStatus();if(me(ln,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const I=S==null?void 0:S.error;if(I&&I.status&&I.message){const R=function(k){const z=k.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(z)>=0?z:ue.UNKNOWN}(I.status);d(new _e(R,I.message))}else d(new _e(ue.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new _e(ue.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{me(ln,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(a);me(ln,`RPC '${e}' ${l} sending request:`,a),p.send(t,"POST",m,r,15)})}Wo(e,t,r){const a=og(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=_T(),d=yT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(p.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,r),p.encodeInitMessageHeaders=!0;const _=l.join("");me(ln,`Creating RPC '${e}' stream ${a}: ${_}`,p);const T=c.createWebChannel(_,p);let S=!1,I=!1;const R=new Dx({Fo:k=>{I?me(ln,`Not sending because RPC '${e}' stream ${a} is closed:`,k):(S||(me(ln,`Opening RPC '${e}' stream ${a} transport.`),T.open(),S=!0),me(ln,`RPC '${e}' stream ${a} sending:`,k),T.send(k))},Mo:()=>T.close()}),j=(k,z,F)=>{k.listen(z,X=>{try{F(X)}catch(Y){setTimeout(()=>{throw Y},0)}})};return j(T,Xl.EventType.OPEN,()=>{I||(me(ln,`RPC '${e}' stream ${a} transport opened.`),R.Qo())}),j(T,Xl.EventType.CLOSE,()=>{I||(I=!0,me(ln,`RPC '${e}' stream ${a} transport closed`),R.Uo())}),j(T,Xl.EventType.ERROR,k=>{I||(I=!0,To(ln,`RPC '${e}' stream ${a} transport errored:`,k),R.Uo(new _e(ue.UNAVAILABLE,"The operation could not be completed")))}),j(T,Xl.EventType.MESSAGE,k=>{var z;if(!I){const F=k.data[0];st(!!F);const X=F,Y=(X==null?void 0:X.error)||((z=X[0])===null||z===void 0?void 0:z.error);if(Y){me(ln,`RPC '${e}' stream ${a} received error:`,Y);const H=Y.status;let ee=function(A){const D=Mt[A];if(D!==void 0)return eS(D)}(H),M=Y.message;ee===void 0&&(ee=ue.INTERNAL,M="Unknown error status: "+H+" with message "+Y.message),I=!0,R.Uo(new _e(ee,M)),T.close()}else me(ln,`RPC '${e}' stream ${a} received:`,F),R.Ko(F)}}),j(d,vT.STAT_EVENT,k=>{k.stat===Qp.PROXY?me(ln,`RPC '${e}' stream ${a} detected buffering proxy`):k.stat===Qp.NOPROXY&&me(ln,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function Op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uf(i){return new UI(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-r);a>0&&me("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="PersistentStream";class gS{constructor(e,t,r,a,l,c,d,p){this.Ti=e,this.n_=r,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new pS(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(vr(t.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===ue.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===t&&this.V_(r,a)},r=>{e(()=>{const a=new _e(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(jE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(me(jE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Px extends gS{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=zI(this.serializer,e),r=function(l){if(!("targetChange"in l))return Oe.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Oe.min():c.readTime?Ni(c.readTime):Oe.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=sg(this.serializer),t.addTarget=function(l,c){let d;const p=c.target;if(d=Jp(p)?{documents:FI(l,p)}:{query:GI(l,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=iS(l,c.resumeToken);const m=ng(l,c.expectedCount);m!==null&&(d.expectedCount=m)}else if(c.snapshotVersion.compareTo(Oe.min())>0){d.readTime=Rh(l,c.snapshotVersion.toTimestamp());const m=ng(l,c.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=$I(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=sg(this.serializer),t.removeTarget=e,this.I_(t)}}class kx extends gS{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=HI(e.writeResults,e.commitTime),r=Ni(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=sg(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>qI(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{}class Ux extends Vx{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,ig(t,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(ue.UNKNOWN,l.toString())})}Co(e,t,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,ig(t,r),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new _e(ue.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class jx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vr(t),this.N_=!1):me("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class Bx{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{r.enqueueAndForget(async()=>{ma(this)&&(me(ca,"Restarting streams for network reachability change."),await async function(p){const m=Ne(p);m.W_.add(4),await Cu(m),m.j_.set("Unknown"),m.W_.delete(4),await cf(m)}(this))})}),this.j_=new jx(r,a)}}async function cf(i){if(ma(i))for(const e of i.G_)await e(!0)}async function Cu(i){for(const e of i.G_)await e(!1)}function mS(i,e){const t=Ne(i);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Kg(t)?Gg(t):Bo(t).c_()&&Fg(t,e))}function Hg(i,e){const t=Ne(i),r=Bo(t);t.K_.delete(e),r.c_()&&vS(t,e),t.K_.size===0&&(r.c_()?r.P_():ma(t)&&t.j_.set("Unknown"))}function Fg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Bo(i).y_(e)}function vS(i,e){i.H_.Ne(e),Bo(i).w_(e)}function Gg(i){i.H_=new NI({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Bo(i).start(),i.j_.B_()}function Kg(i){return ma(i)&&!Bo(i).u_()&&i.K_.size>0}function ma(i){return Ne(i).W_.size===0}function yS(i){i.H_=void 0}async function zx(i){i.j_.set("Online")}async function qx(i){i.K_.forEach((e,t)=>{Fg(i,e)})}async function Hx(i,e){yS(i),Kg(i)?(i.j_.q_(e),Gg(i)):i.j_.set("Unknown")}async function Fx(i,e,t){if(i.j_.set("Online"),e instanceof nS&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.K_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.K_.delete(d),a.H_.removeTarget(d))}(i,e)}catch(r){me(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ih(i,r)}else if(e instanceof fh?i.H_.We(e):e instanceof tS?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Oe.min()))try{const r=await dS(i.localStore);t.compareTo(r)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((p,m)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.K_.get(m);_&&l.K_.set(m,_.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,m)=>{const _=l.K_.get(p);if(!_)return;l.K_.set(p,_.withResumeToken(nn.EMPTY_BYTE_STRING,_.snapshotVersion)),vS(l,p);const T=new os(_.target,p,m,_.sequenceNumber);Fg(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(r){me(ca,"Failed to raise snapshot:",r),await Ih(i,r)}}async function Ih(i,e,t){if(!Uo(e))throw e;i.W_.add(1),await Cu(i),i.j_.set("Offline"),t||(t=()=>dS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{me(ca,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await cf(i)})}function _S(i,e){return e().catch(t=>Ih(i,t,e))}async function hf(i){const e=Ne(i),t=ys(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:xg;for(;Gx(e);)try{const a=await Ax(e.localStore,r);if(a===null){e.U_.length===0&&t.P_();break}r=a.batchId,Kx(e,a)}catch(a){await Ih(e,a)}ES(e)&&bS(e)}function Gx(i){return ma(i)&&i.U_.length<10}function Kx(i,e){i.U_.push(e);const t=ys(i);t.c_()&&t.S_&&t.b_(e.mutations)}function ES(i){return ma(i)&&!ys(i).u_()&&i.U_.length>0}function bS(i){ys(i).start()}async function $x(i){ys(i).C_()}async function Qx(i){const e=ys(i);for(const t of i.U_)e.b_(t.mutations)}async function Yx(i,e,t){const r=i.U_.shift(),a=kg.from(r,e,t);await _S(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await hf(i)}async function Zx(i,e){e&&ys(i).S_&&await async function(r,a){if(function(c){return OI(c)&&c!==ue.ABORTED}(a.code)){const l=r.U_.shift();ys(r).h_(),await _S(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await hf(r)}}(i,e),ES(i)&&bS(i)}async function BE(i,e){const t=Ne(i);t.asyncQueue.verifyOperationInProgress(),me(ca,"RemoteStore received new credentials");const r=ma(t);t.W_.add(3),await Cu(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await cf(t)}async function Xx(i,e){const t=Ne(i);e?(t.W_.delete(2),await cf(t)):e||(t.W_.add(2),await Cu(t),t.j_.set("Unknown"))}function Bo(i){return i.J_||(i.J_=function(t,r,a){const l=Ne(t);return l.M_(),new Px(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(i.datastore,i.asyncQueue,{xo:zx.bind(null,i),No:qx.bind(null,i),Lo:Hx.bind(null,i),p_:Fx.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Kg(i)?Gg(i):i.j_.set("Unknown")):(await i.J_.stop(),yS(i))})),i.J_}function ys(i){return i.Y_||(i.Y_=function(t,r,a){const l=Ne(t);return l.M_(),new kx(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:$x.bind(null,i),Lo:Zx.bind(null,i),D_:Qx.bind(null,i),v_:Yx.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await hf(i)):(await i.Y_.stop(),i.U_.length>0&&(me(ca,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,d=new $g(e,t,c,a,l);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qg(i,e){if(vr("AsyncQueue",`${e}: ${i}`),Uo(i))return new _e(ue.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ae.comparator(t.key,r.key):(t,r)=>Ae.comparator(t.key,r.key),this.keyedMap=Wl(),this.sortedSet=new _t(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.Z_=new _t(Ae.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):xe():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ro{constructor(e,t,r,a,l,c,d,p,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=m}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Ro(e,t,go.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Jx{constructor(){this.queries=qE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const a=Ne(t),l=a.queries;a.queries=qE(),l.forEach((c,d)=>{for(const p of d.ta)p.onError(r)})})(this,new _e(ue.ABORTED,"Firestore shutting down"))}}function qE(){return new pa(i=>zT(i),rf)}async function eM(i,e){const t=Ne(i);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(r=2):(l=new Wx,r=e.ra()?0:1);try{switch(r){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Qg(c,`Initialization of query '${co(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Yg(t)}async function tM(i,e){const t=Ne(i),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function nM(i,e){const t=Ne(i);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(r=!0);c.ea=a}}r&&Yg(t)}function iM(i,e,t){const r=Ne(i),a=r.queries.get(e);if(a)for(const l of a.ta)l.onError(t);r.queries.delete(e)}function Yg(i){i.ia.forEach(e=>{e.next()})}var lg,HE;(HE=lg||(lg={}))._a="default",HE.Cache="cache";class rM{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new Ro(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==lg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.key=e}}class SS{constructor(e){this.key=e}}class sM{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ke(),this.mutatedKeys=Ke(),this.ya=qT(e),this.wa=new go(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new zE,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const p=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((_,T)=>{const S=a.get(_),I=sf(this.query,T)?T:null,R=!!S&&this.mutatedKeys.has(S.key),j=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;S&&I?S.data.isEqual(I.data)?R!==j&&(r.track({type:3,doc:I}),k=!0):this.va(S,I)||(r.track({type:2,doc:I}),k=!0,(p&&this.ya(I,p)>0||m&&this.ya(I,m)<0)&&(d=!0)):!S&&I?(r.track({type:0,doc:I}),k=!0):S&&!I&&(r.track({type:1,doc:S}),k=!0,(p||m)&&(d=!0)),k&&(I?(c=c.add(I),l=j?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),r.track({type:1,doc:_})}return{wa:c,Da:r,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((_,T)=>function(I,R){const j=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return j(I)-j(R)}(_.type,T.type)||this.ya(_.doc,T.doc)),this.Ca(r),a=a!=null&&a;const d=t&&!a?this.Fa():[],p=this.pa.size===0&&this.current&&!a?1:0,m=p!==this.ga;return this.ga=p,c.length!==0||m?{snapshot:new Ro(this.query,e.wa,l,c,e.mutatedKeys,p===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new zE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ke(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new SS(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new TS(r))}),t}Oa(e){this.fa=e.gs,this.pa=Ke();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Ro.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Zg="SyncEngine";class aM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class oM{constructor(e){this.key=e,this.Ba=!1}}class lM{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new pa(d=>zT(d),rf),this.qa=new Map,this.Qa=new Set,this.$a=new _t(Ae.comparator),this.Ua=new Map,this.Ka=new jg,this.Wa={},this.Ga=new Map,this.za=Ao.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function uM(i,e,t=!0){const r=IS(i);let a;const l=r.ka.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await wS(r,e,t,!0),a}async function cM(i,e){const t=IS(i);await wS(t,e,!0,!1)}async function wS(i,e,t,r){const a=await Rx(i.localStore,Di(e)),l=a.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let d;return r&&(d=await hM(i,e,l,c==="current",a.resumeToken)),i.isPrimaryClient&&t&&mS(i.remoteStore,a),d}async function hM(i,e,t,r,a){i.Ha=(T,S,I)=>async function(j,k,z,F){let X=k.view.ba(z);X.ls&&(X=await PE(j.localStore,k.query,!1).then(({documents:M})=>k.view.ba(M,X)));const Y=F&&F.targetChanges.get(k.targetId),H=F&&F.targetMismatches.get(k.targetId)!=null,ee=k.view.applyChanges(X,j.isPrimaryClient,Y,H);return GE(j,k.targetId,ee.Ma),ee.snapshot}(i,T,S,I);const l=await PE(i.localStore,e,!0),c=new sM(e,l.gs),d=c.ba(l.documents),p=wu.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",a),m=c.applyChanges(d,i.isPrimaryClient,p);GE(i,t,m.Ma);const _=new aM(e,t,c);return i.ka.set(e,_),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),m.snapshot}async function fM(i,e,t){const r=Ne(i),a=r.ka.get(e),l=r.qa.get(a.targetId);if(l.length>1)return r.qa.set(a.targetId,l.filter(c=>!rf(c,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await ag(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&Hg(r.remoteStore,a.targetId),ug(r,a.targetId)}).catch(Vo)):(ug(r,a.targetId),await ag(r.localStore,a.targetId,!0))}async function dM(i,e){const t=Ne(i),r=t.ka.get(e),a=t.qa.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Hg(t.remoteStore,r.targetId))}async function pM(i,e,t){const r=bM(i);try{const a=await function(c,d){const p=Ne(c),m=Ut.now(),_=d.reduce((I,R)=>I.add(R.key),Ke());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",I=>{let R=yr(),j=Ke();return p.ds.getEntries(I,_).next(k=>{R=k,R.forEach((z,F)=>{F.isValidDocument()||(j=j.add(z))})}).next(()=>p.localDocuments.getOverlayedDocuments(I,R)).next(k=>{T=k;const z=[];for(const F of d){const X=RI(F,T.get(F.key).overlayedDocument);X!=null&&z.push(new ga(F.key,X,OT(X.value.mapValue),pr.exists(!0)))}return p.mutationQueue.addMutationBatch(I,m,z,d)}).next(k=>{S=k;const z=k.applyToLocalDocumentSet(T,j);return p.documentOverlayCache.saveOverlays(I,k.batchId,z)})}).then(()=>({batchId:S.batchId,changes:FT(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,p){let m=c.Wa[c.currentUser.toKey()];m||(m=new _t(je)),m=m.insert(d,p),c.Wa[c.currentUser.toKey()]=m}(r,a.batchId,t),await Au(r,a.changes),await hf(r.remoteStore)}catch(a){const l=Qg(a,"Failed to persist write");t.reject(l)}}async function CS(i,e){const t=Ne(i);try{const r=await wx(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ua.get(l);c&&(st(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?st(c.Ba):a.removedDocuments.size>0&&(st(c.Ba),c.Ba=!1))}),await Au(t,r,e)}catch(r){await Vo(r)}}function FE(i,e,t){const r=Ne(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const p=Ne(c);p.onlineState=d;let m=!1;p.queries.forEach((_,T)=>{for(const S of T.ta)S.sa(d)&&(m=!0)}),m&&Yg(p)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gM(i,e,t){const r=Ne(i);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Ua.get(e),l=a&&a.key;if(l){let c=new _t(Ae.comparator);c=c.insert(l,cn.newNoDocument(l,Oe.min()));const d=Ke().add(l),p=new lf(Oe.min(),new Map,new _t(je),c,d);await CS(r,p),r.$a=r.$a.remove(l),r.Ua.delete(e),Xg(r)}else await ag(r.localStore,e,!1).then(()=>ug(r,e,t)).catch(Vo)}async function mM(i,e){const t=Ne(i),r=e.batch.batchId;try{const a=await Sx(t.localStore,e);RS(t,r,null),AS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Au(t,a)}catch(a){await Vo(a)}}async function vM(i,e,t){const r=Ne(i);try{const a=await function(c,d){const p=Ne(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let _;return p.mutationQueue.lookupMutationBatch(m,d).next(T=>(st(T!==null),_=T.keys(),p.mutationQueue.removeMutationBatch(m,T))).next(()=>p.mutationQueue.performConsistencyCheck(m)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(m,_,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,_)).next(()=>p.localDocuments.getDocuments(m,_))})}(r.localStore,e);RS(r,e,t),AS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Au(r,a)}catch(a){await Vo(a)}}function AS(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function RS(i,e,t){const r=Ne(i);let a=r.Wa[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function ug(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.qa.get(e))i.ka.delete(r),t&&i.La.Ja(r,t);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(r=>{i.Ka.containsKey(r)||LS(i,r)})}function LS(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(Hg(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ua.delete(t),Xg(i))}function GE(i,e,t){for(const r of t)r instanceof TS?(i.Ka.addReference(r.key,e),yM(i,r)):r instanceof SS?(me(Zg,"Document no longer in limbo: "+r.key),i.Ka.removeReference(r.key,e),i.Ka.containsKey(r.key)||LS(i,r.key)):xe()}function yM(i,e){const t=e.key,r=t.path.canonicalString();i.$a.get(t)||i.Qa.has(r)||(me(Zg,"New document in limbo: "+t),i.Qa.add(r),Xg(i))}function Xg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new Ae(gt.fromString(e)),r=i.za.next();i.Ua.set(r,new oM(t)),i.$a=i.$a.insert(t,r),mS(i.remoteStore,new os(Di(jT(t.path)),r,"TargetPurposeLimboResolution",ef.ae))}}async function Au(i,e,t){const r=Ne(i),a=[],l=[],c=[];r.ka.isEmpty()||(r.ka.forEach((d,p)=>{c.push(r.Ha(p,e,t).then(m=>{var _;if((m||t)&&r.isPrimaryClient){const T=m?!m.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(m){a.push(m);const T=zg.Yi(p.targetId,m);l.push(T)}}))}),await Promise.all(c),r.La.p_(a),await async function(p,m){const _=Ne(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>le.forEach(m,S=>le.forEach(S.Hi,I=>_.persistence.referenceDelegate.addReference(T,S.targetId,I)).next(()=>le.forEach(S.Ji,I=>_.persistence.referenceDelegate.removeReference(T,S.targetId,I)))))}catch(T){if(!Uo(T))throw T;me(qg,"Failed to update sequence numbers: "+T)}for(const T of m){const S=T.targetId;if(!T.fromCache){const I=_.Ts.get(S),R=I.snapshotVersion,j=I.withLastLimboFreeSnapshotVersion(R);_.Ts=_.Ts.insert(S,j)}}}(r.localStore,l))}async function _M(i,e){const t=Ne(i);if(!t.currentUser.isEqual(e)){me(Zg,"User change. New user:",e.toKey());const r=await fS(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(p=>{p.reject(new _e(ue.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Au(t,r.Rs)}}function EM(i,e){const t=Ne(i),r=t.Ua.get(e);if(r&&r.Ba)return Ke().add(r.key);{let a=Ke();const l=t.qa.get(e);if(!l)return a;for(const c of l){const d=t.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}function IS(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=CS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gM.bind(null,e),e.La.p_=nM.bind(null,e.eventManager),e.La.Ja=iM.bind(null,e.eventManager),e}function bM(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vM.bind(null,e),e}class xh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Tx(this.persistence,new _x,e.initialUser,this.serializer)}Xa(e){return new hS(Bg.ri,this.serializer)}Za(e){return new Ix}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xh.provider={build:()=>new xh};class TM extends xh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){st(this.persistence.referenceDelegate instanceof Lh);const r=this.persistence.referenceDelegate.garbageCollector;return new rx(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new hS(r=>Lh.ri(r,t),this.serializer)}}class cg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>FE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_M.bind(null,this.syncEngine),await Xx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Jx}()}createDatastore(e){const t=uf(e.databaseInfo.databaseId),r=function(l){return new Nx(l)}(e.databaseInfo);return function(l,c,d,p){return new Ux(l,c,d,p)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,l,c,d){return new Bx(r,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>FE(this.syncEngine,t,0),function(){return UE.D()?new UE:new xx}())}createSyncEngine(e,t){return function(a,l,c,d,p,m,_){const T=new lM(a,l,c,d,p,m);return _&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ne(a);me(ca,"RemoteStore shutting down."),l.W_.add(5),await Cu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}cg.provider={build:()=>new cg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):vr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="FirestoreClient";class wM{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=un.UNAUTHENTICATED,this.clientId=TT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{me(_s,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(me(_s,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Qg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dp(i,e){i.asyncQueue.verifyOperationInProgress(),me(_s,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener(async a=>{r.isEqual(a)||(await fS(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function KE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await CM(i);me(_s,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(r=>BE(e.remoteStore,r)),i.setAppCheckTokenChangeListener((r,a)=>BE(e.remoteStore,a)),i._onlineComponents=e}async function CM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){me(_s,"Using user provided OfflineComponentProvider");try{await Dp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===ue.FAILED_PRECONDITION||a.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;To("Error using user provided cache. Falling back to memory cache: "+t),await Dp(i,new xh)}}else me(_s,"Using default OfflineComponentProvider"),await Dp(i,new TM(void 0));return i._offlineComponents}async function xS(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(me(_s,"Using user provided OnlineComponentProvider"),await KE(i,i._uninitializedComponentsProvider._online)):(me(_s,"Using default OnlineComponentProvider"),await KE(i,new cg))),i._onlineComponents}function AM(i){return xS(i).then(e=>e.syncEngine)}async function RM(i){const e=await xS(i),t=e.eventManager;return t.onListen=uM.bind(null,e.syncEngine),t.onUnlisten=fM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dM.bind(null,e.syncEngine),t}function LM(i,e,t={}){const r=new fs;return i.asyncQueue.enqueueAndForget(async()=>function(l,c,d,p,m){const _=new SM({next:S=>{_.su(),c.enqueueAndForget(()=>tM(l,T)),S.fromCache&&p.source==="server"?m.reject(new _e(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),T=new rM(d,_,{includeMetadataChanges:!0,Ta:!0});return eM(l,T)}(await RM(i),i.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MS(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(i,e,t){if(!t)throw new _e(ue.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function IM(i,e,t,r){if(e===!0&&r===!0)throw new _e(ue.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function QE(i){if(!Ae.isDocumentKey(i))throw new _e(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function YE(i){if(Ae.isDocumentKey(i))throw new _e(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function ff(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":xe()}function Mh(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new _e(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=ff(i);throw new _e(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firestore.googleapis.com",ZE=!0;class XE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DS,this.ssl=ZE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:ZE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<nx)throw new _e(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=MS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class df{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new DL;switch(r.type){case"firstParty":return new VL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=$E.get(t);r&&(me("ComponentProvider","Removing Datastore"),$E.delete(t),r.terminate())}(this),Promise.resolve()}}function xM(i,e,t,r={}){var a;const l=(i=Mh(i,df))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==DS&&l.host!==d&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:r});if(!oa(p,c)&&(i._setSettings(p),r.mockUserToken)){let m,_;if(typeof r.mockUserToken=="string")m=r.mockUserToken,_=un.MOCK_USER;else{m=lR(r.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new _e(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new un(T)}i._authCredentials=new NL(new ET(m,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new va(this.firestore,e,this._query)}}class Zn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ds(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class ds extends va{constructor(e,t,r){super(e,t,jT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new Ae(e))}withConverter(e){return new ds(this.firestore,e,this._path)}}function Lo(i,e,...t){if(i=Xn(i),OS("collection","path",e),i instanceof df){const r=gt.fromString(e,...t);return YE(r),new ds(i,null,r)}{if(!(i instanceof Zn||i instanceof ds))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(gt.fromString(e,...t));return YE(r),new ds(i.firestore,null,r)}}function MM(i,e,...t){if(i=Xn(i),arguments.length===1&&(e=TT.newId()),OS("doc","path",e),i instanceof df){const r=gt.fromString(e,...t);return QE(r),new Zn(i,null,new Ae(r))}{if(!(i instanceof Zn||i instanceof ds))throw new _e(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(gt.fromString(e,...t));return QE(r),new Zn(i.firestore,i instanceof ds?i.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="AsyncQueue";class JE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new pS(this,"async_queue_retry"),this.Su=()=>{const r=Op();r&&me(WE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Op();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Op();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new fs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Uo(e))throw e;me(WE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(r);throw vr("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=$g.createAndSchedule(this,e,t,r,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&xe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class Wg extends df{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new JE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JE(e),this._firestoreClient=void 0,await e}}}function OM(i,e){const t=typeof i=="object"?i:hT(),r=typeof i=="string"?i:Th,a=Lg(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=aR("firestore");l&&xM(a,...l)}return a}function NS(i){if(i._terminated)throw new _e(ue.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||DM(i),i._firestoreClient}function DM(i){var e,t,r;const a=i._freezeSettings(),l=function(d,p,m,_){return new WL(d,p,m,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,MS(_.experimentalLongPollingOptions),_.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new wM(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Io(nn.fromBase64String(e))}catch(t){throw new _e(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Io(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new _e(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=/^__.*__$/;class PM{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,t,this.fieldTransforms):new Su(e,this.data,t,this.fieldTransforms)}}function kS(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class nm{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new nm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Oh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(kS(this.Lu)&&NM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class kM{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||uf(e)}ju(e,t,r,a=!1){return new nm({Lu:e,methodName:t,zu:r,path:tn.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function VS(i){const e=i._freezeSettings(),t=uf(i._databaseId);return new kM(i._databaseId,!!e.ignoreUndefinedProperties,t)}function VM(i,e,t,r,a,l={}){const c=i.ju(l.merge||l.mergeFields?2:0,e,t,a);BS("Data must be an object, but it was:",c,r);const d=US(r,c);let p,m;if(l.merge)p=new oi(c.fieldMask),m=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const S=jM(e,T,t);if(!c.contains(S))throw new _e(ue.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);zM(_,S)||_.push(S)}p=new oi(_),m=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,m=c.fieldTransforms;return new PM(new Yn(d),p,m)}function UM(i,e,t,r=!1){return im(t,i.ju(r?4:3,e))}function im(i,e){if(jS(i=Xn(i)))return BS("Unsupported field value:",e,i),US(i,e);if(i instanceof PS)return function(r,a){if(!kS(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const d of r){let p=im(d,a.Ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(i,e)}return function(r,a){if((r=Xn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bI(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Ut.fromDate(r);return{timestampValue:Rh(a.serializer,l)}}if(r instanceof Ut){const l=new Ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rh(a.serializer,l)}}if(r instanceof em)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Io)return{bytesValue:iS(a.serializer,r._byteString)};if(r instanceof Zn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Ug(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof tm)return function(c,d){return{mapValue:{fields:{[xT]:{stringValue:MT},[Sh]:{arrayValue:{values:c.toArray().map(m=>{if(typeof m!="number")throw d.Wu("VectorValues must only contain numeric values.");return Pg(d.serializer,m)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${ff(r)}`)}(i,e)}function US(i,e){const t={};return wT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):da(i,(r,a)=>{const l=im(a,e.qu(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function jS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ut||i instanceof em||i instanceof Io||i instanceof Zn||i instanceof PS||i instanceof tm)}function BS(i,e,t){if(!jS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=ff(t);throw r==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+r)}}function jM(i,e,t){if((e=Xn(e))instanceof Jg)return e._internalPath;if(typeof e=="string")return zS(i,e);throw Oh("Field path arguments must be of type string or ",i,!1,void 0,t)}const BM=new RegExp("[~\\*/\\[\\]]");function zS(i,e,t){if(e.search(BM)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Jg(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Oh(i,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${r}`),c&&(p+=` in document ${a}`),p+=")"),new _e(ue.INVALID_ARGUMENT,d+i+p)}function zM(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class qM extends qS{data(){return super.data()}}function pf(i,e){return typeof e=="string"?zS(i,e):e instanceof Jg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new _e(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rm{}class HS extends rm{}function gf(i,e,...t){let r=[];e instanceof rm&&r.push(e),r=r.concat(t),function(l){const c=l.filter(p=>p instanceof sm).length,d=l.filter(p=>p instanceof mf).length;if(c>1||c>0&&d>0)throw new _e(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)i=a._apply(i);return i}class mf extends HS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new mf(e,t,r)}_apply(e){const t=this._parse(e);return FS(e._query,t),new va(e.firestore,e.converter,eg(e._query,t))}_parse(e){const t=VS(e.firestore);return function(l,c,d,p,m,_,T){let S;if(m.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){t0(T,_);const R=[];for(const j of T)R.push(e0(p,l,j));S={arrayValue:{values:R}}}else S=e0(p,l,T)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||t0(T,_),S=UM(d,c,T,_==="in"||_==="not-in");return Ot.create(m,_,S)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function mo(i,e,t){const r=e,a=pf("where",i);return mf._create(a,r,t)}class sm extends rm{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new sm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:ui.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const p of d)FS(c,p),c=eg(c,p)}(e._query,t),new va(e.firestore,e.converter,eg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class am extends HS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new am(e,t)}_apply(e){const t=function(a,l,c){if(a.startAt!==null)throw new _e(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new _e(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new fu(l,c)}(e._query,this._field,this._direction);return new va(e.firestore,e.converter,function(a,l){const c=a.explicitOrderBy.concat([l]);return new jo(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function FM(i,e="asc"){const t=e,r=pf("orderBy",i);return am._create(r,t)}function e0(i,e,t){if(typeof(t=Xn(t))=="string"){if(t==="")throw new _e(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!BT(e)&&t.indexOf("/")!==-1)throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(gt.fromString(t));if(!Ae.isDocumentKey(r))throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return mE(i,new Ae(r))}if(t instanceof Zn)return mE(i,t._key);throw new _e(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ff(t)}.`)}function t0(i,e){if(!Array.isArray(i)||i.length===0)throw new _e(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function FS(i,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ue.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class GM{convertValue(e,t="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return da(e,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,a;const l=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[Sh].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>At(c.doubleValue));return new tm(l)}convertGeoPoint(e){return new em(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=nf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){const t=gs(e);return new Ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=gt.fromString(e);st(uS(r));const a=new cu(r.get(1),r.get(3)),l=new Ae(r.popFirst(5));return a.isEqual(t)||vr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(i,e,t){let r;return r=i?i.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $M extends qS{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class dh extends $M{data(e={}){return super.data(e)}}class QM{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new nh(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new dh(this._firestore,this._userDataWriter,r.key,r,new nh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const p=new dh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new nh(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const p=new dh(a._firestore,a._userDataWriter,d.doc.key,d.doc,new nh(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,_=-1;return d.type!==0&&(m=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),_=c.indexOf(d.doc.key)),{type:YM(d.type),doc:p,oldIndex:m,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function YM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}class ZM extends GM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Io(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}function vf(i){i=Mh(i,va);const e=Mh(i.firestore,Wg),t=NS(e),r=new ZM(e);return HM(i._query),LM(t,i._query).then(a=>new QM(e,r,i,a))}function GS(i,e){const t=Mh(i.firestore,Wg),r=MM(i),a=KM(i.converter,e);return XM(t,[VM(VS(i.firestore),"addDoc",r._key,a,i.converter!==null,{}).toMutation(r._key,pr.exists(!1))]).then(()=>r)}function XM(i,e){return function(r,a){const l=new fs;return r.asyncQueue.enqueueAndForget(async()=>pM(await AM(r),a,l)),l.promise}(NS(i),e)}(function(e,t=!0){(function(a){ko=a})(Po),bo(new la("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new Wg(new PL(r.getProvider("auth-internal")),new UL(c,r.getProvider("app-check-internal")),function(m,_){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new _e(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cu(m.options.projectId,_)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),cs(rE,sE,e),cs(rE,sE,"esm2017")})();var WM="firebase",JM="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs(WM,JM,"app");function om(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(i);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(i,r[a])&&(t[r[a]]=i[r[a]]);return t}function KS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eO=KS,$S=new bu("auth","Firebase",KS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh=new Ag("@firebase/auth");function tO(i,...e){Dh.logLevel<=Ge.WARN&&Dh.warn(`Auth (${Po}): ${i}`,...e)}function ph(i,...e){Dh.logLevel<=Ge.ERROR&&Dh.error(`Auth (${Po}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _r(i,...e){throw lm(i,...e)}function Pi(i,...e){return lm(i,...e)}function QS(i,e,t){const r=Object.assign(Object.assign({},eO()),{[e]:t});return new bu("auth","Firebase",r).create(e,{appName:i.name})}function sa(i){return QS(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function lm(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return $S.create(i,...e)}function Me(i,e,...t){if(!i)throw lm(e,...t)}function hr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ph(e),new Error(e)}function Er(i,e){i||hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function nO(){return n0()==="http:"||n0()==="https:"}function n0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nO()||fR()||"connection"in navigator)?navigator.onLine:!0}function rO(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t){this.shortDelay=e,this.longDelay=t,Er(t>e,"Short delay should be less than long delay!"),this.isMobile=uR()||dR()}get(){return iO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function um(i,e){Er(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oO=new Ru(3e4,6e4);function cm(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function zo(i,e,t,r,a={}){return ZS(i,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=Tu(Object.assign({key:i.config.apiKey},c)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const m=Object.assign({method:e,headers:p},l);return hR()||(m.referrerPolicy="no-referrer"),YS.fetch()(await XS(i,i.config.apiHost,t,d),m)})}async function ZS(i,e,t){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},sO),e);try{const a=new uO(i),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw ih(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,m]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(i,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw ih(i,"email-already-in-use",c);if(p==="USER_DISABLED")throw ih(i,"user-disabled",c);const _=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw QS(i,_,m);_r(i,_)}}catch(a){if(a instanceof Tr)throw a;_r(i,"network-request-failed",{message:String(a)})}}async function lO(i,e,t,r,a={}){const l=await zo(i,e,t,r,a);return"mfaPendingCredential"in l&&_r(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function XS(i,e,t,r){const a=`${e}${t}?${r}`,l=i,c=l.config.emulator?um(i.config,a):`${i.config.apiScheme}://${a}`;return aO.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class uO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),oO.get())})}}function ih(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=Pi(i,e,r);return a.customData._tokenResponse=t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(i,e){return zo(i,"POST","/v1/accounts:delete",e)}async function Nh(i,e){return zo(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hO(i,e=!1){const t=Xn(i),r=await t.getIdToken(e),a=hm(r);Me(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:ru(Np(a.auth_time)),issuedAtTime:ru(Np(a.iat)),expirationTime:ru(Np(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Np(i){return Number(i)*1e3}function hm(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return ph("JWT malformed, contained fewer than 3 sections"),null;try{const a=rT(t);return a?JSON.parse(a):(ph("Failed to decode base64 JWT payload"),null)}catch(a){return ph("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function i0(i){const e=hm(i);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Tr&&fO(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function fO({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(i){var e;const t=i.auth,r=await i.getIdToken(),a=await gu(i,Nh(t,{idToken:r}));Me(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?WS(l.providerUserInfo):[],d=gO(i.providerData,c),p=i.isAnonymous,m=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),_=p?m:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new fg(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(i,T)}async function pO(i){const e=Xn(i);await Ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gO(i,e){return[...i.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function WS(i){return i.map(e=>{var{providerId:t}=e,r=om(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(i,e){const t=await ZS(i,{},async()=>{const r=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=i.config,c=await XS(i,a,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",YS.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function vO(i,e){return zo(i,"POST","/v2/accounts:revokeToken",cm(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):i0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const t=i0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await mO(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new vo;return r&&(Me(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Me(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Me(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vo,this.toJSON())}_performRefresh(){return hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(i,e){Me(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class li{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,l=om(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fg(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await gu(this,this.stsTokenManager.getToken(this.auth,e));return Me(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return hO(this,e)}reload(){return pO(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new li(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Oi(this.auth.app))return Promise.reject(sa(this.auth));const e=await this.getIdToken();return await gu(this,cO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,l,c,d,p,m,_;const T=(r=t.displayName)!==null&&r!==void 0?r:void 0,S=(a=t.email)!==null&&a!==void 0?a:void 0,I=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,R=(c=t.photoURL)!==null&&c!==void 0?c:void 0,j=(d=t.tenantId)!==null&&d!==void 0?d:void 0,k=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,z=(m=t.createdAt)!==null&&m!==void 0?m:void 0,F=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:X,emailVerified:Y,isAnonymous:H,providerData:ee,stsTokenManager:M}=t;Me(X&&M,e,"internal-error");const x=vo.fromJSON(this.name,M);Me(typeof X=="string",e,"internal-error"),es(T,e.name),es(S,e.name),Me(typeof Y=="boolean",e,"internal-error"),Me(typeof H=="boolean",e,"internal-error"),es(I,e.name),es(R,e.name),es(j,e.name),es(k,e.name),es(z,e.name),es(F,e.name);const A=new li({uid:X,auth:e,email:S,emailVerified:Y,displayName:T,isAnonymous:H,photoURL:R,phoneNumber:I,tenantId:j,stsTokenManager:x,createdAt:z,lastLoginAt:F});return ee&&Array.isArray(ee)&&(A.providerData=ee.map(D=>Object.assign({},D))),k&&(A._redirectEventId=k),A}static async _fromIdTokenResponse(e,t,r=!1){const a=new vo;a.updateFromServerResponse(t);const l=new li({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Ph(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Me(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?WS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new vo;d.updateFromIdToken(r);const p=new li({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new fg(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,m),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=new Map;function fr(i){Er(i instanceof Function,"Expected a class definition");let e=r0.get(i);return e?(Er(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,r0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}JS.type="NONE";const s0=JS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gh(i,e,t){return`firebase:${i}:${e}:${t}`}class yo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=gh(this.userKey,a.apiKey,l),this.fullPersistenceKey=gh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Nh(this.auth,{idToken:e}).catch(()=>{});return t?li._fromGetAccountInfoResponse(this.auth,t,e):null}return li._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new yo(fr(s0),e,r);const a=(await Promise.all(t.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||fr(s0);const c=gh(r,e.config.apiKey,e.name);let d=null;for(const m of t)try{const _=await m._get(c);if(_){let T;if(typeof _=="string"){const S=await Nh(e,{idToken:_}).catch(()=>{});if(!S)break;T=await li._fromGetAccountInfoResponse(e,S,_)}else T=li._fromJSON(e,_);m!==l&&(d=T),l=m;break}}catch{}const p=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new yo(l,e,r):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async m=>{if(m!==l)try{await m._remove(c)}catch{}})),new yo(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ew(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sw(e))return"Blackberry";if(aw(e))return"Webos";if(tw(e))return"Safari";if((e.includes("chrome/")||nw(e))&&!e.includes("edge/"))return"Chrome";if(rw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function ew(i=hn()){return/firefox\//i.test(i)}function tw(i=hn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nw(i=hn()){return/crios\//i.test(i)}function iw(i=hn()){return/iemobile/i.test(i)}function rw(i=hn()){return/android/i.test(i)}function sw(i=hn()){return/blackberry/i.test(i)}function aw(i=hn()){return/webos/i.test(i)}function fm(i=hn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function yO(i=hn()){var e;return fm(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function _O(){return pR()&&document.documentMode===10}function ow(i=hn()){return fm(i)||rw(i)||aw(i)||sw(i)||/windows phone/i.test(i)||iw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(i,e=[]){let t;switch(i){case"Browser":t=a0(hn());break;case"Worker":t=`${a0(hn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Po}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bO(i,e={}){return zo(i,"GET","/v2/passwordPolicy",cm(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=6;class SO{constructor(e){var t,r,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:TO,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,l,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(r=p.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),p.isValid&&(p.isValid=(a=p.containsLowercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o0(this),this.idTokenSubscription=new o0(this),this.beforeStateQueue=new EO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$S,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fr(t)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Nh(this,{idToken:e}),r=await li._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Oi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ph(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Oi(this.app))return Promise.reject(sa(this));const t=e?Xn(e):null;return t&&Me(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Oi(this.app)?Promise.reject(sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Oi(this.app)?Promise.reject(sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bO(this),t=new SO(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new bu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await vO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fr(e)||this._popupRedirectResolver;Me(t,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,r,a);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Oi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&tO(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function dm(i){return Xn(i)}class o0{constructor(e){this.auth=e,this.observer=null,this.addObserver=TR(t=>this.observer=t)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CO(i){pm=i}function AO(i){return pm.loadJS(i)}function RO(){return pm.gapiScript}function LO(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(i,e){const t=Lg(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(oa(l,e??{}))return a;_r(a,"already-initialized")}return t.initialize({options:e})}function xO(i,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(fr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function MO(i,e,t){const r=dm(i);Me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=uw(e),{host:c,port:d}=OO(e),p=d===null?"":`:${d}`,m={url:`${l}//${c}${p}/`},_=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Me(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Me(oa(m,r.config.emulator)&&oa(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,DO()}function uw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function OO(i){const e=uw(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:l0(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:l0(c)}}}function l0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function DO(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,t){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(i,e){return lO(i,"POST","/v1/accounts:signInWithIdp",cm(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="http://localhost";class ha extends cw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):_r("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,l=om(t,["providerId","signInMethod"]);if(!r||!a)return null;const c=new ha(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return _o(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,_o(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,_o(e,t)}buildRequest(){const e={requestUri:NO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Tu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lu extends hw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Lu{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.FACEBOOK_SIGN_IN_METHOD="facebook.com";is.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ha._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return rs.credential(t,r)}catch{return null}}}rs.GOOGLE_SIGN_IN_METHOD="google.com";rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Lu{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.GITHUB_SIGN_IN_METHOD="github.com";ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Lu{constructor(){super("twitter.com")}static credential(e,t){return ha._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return as.credential(t,r)}catch{return null}}}as.TWITTER_SIGN_IN_METHOD="twitter.com";as.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await li._fromIdTokenResponse(e,r,a),c=u0(r);return new xo({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=u0(r);return new xo({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function u0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends Tr{constructor(e,t,r,a){var l;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new kh(e,t,r,a)}}function fw(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(i,l,e,r):l})}async function PO(i,e,t=!1){const r=await gu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return xo._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(i,e,t=!1){const{auth:r}=i;if(Oi(r.app))return Promise.reject(sa(r));const a="reauthenticate";try{const l=await gu(i,fw(r,a,e,i),t);Me(l.idToken,r,"internal-error");const c=hm(l.idToken);Me(c,r,"internal-error");const{sub:d}=c;return Me(i.uid===d,r,"user-mismatch"),xo._forOperation(i,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&_r(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VO(i,e,t=!1){if(Oi(i.app))return Promise.reject(sa(i));const r="signIn",a=await fw(i,r,e),l=await xo._fromIdTokenResponse(i,r,a);return t||await i._updateCurrentUser(l.user),l}function UO(i,e,t,r){return Xn(i).onIdTokenChanged(e,t,r)}function jO(i,e,t){return Xn(i).beforeAuthStateChanged(e,t)}const Vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vh,"1"),this.storage.removeItem(Vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=1e3,zO=10;class pw extends dw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ow(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);_O()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,zO):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},BO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}pw.type="LOCAL";const qO=pw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw extends dw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}gw.type="SESSION";const mw=gw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new yf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async m=>m(t.origin,l)),p=await HO(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const m=gm("",20);a.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(T){const S=T;if(S.data.eventId===m)switch(S.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:m,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(){return window}function GO(i){ki().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function KO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $O(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function QO(){return vw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="firebaseLocalStorageDb",YO=1,Uh="firebaseLocalStorage",_w="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _f(i,e){return i.transaction([Uh],e?"readwrite":"readonly").objectStore(Uh)}function ZO(){const i=indexedDB.deleteDatabase(yw);return new Iu(i).toPromise()}function dg(){const i=indexedDB.open(yw,YO);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Uh,{keyPath:_w})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Uh)?e(r):(r.close(),await ZO(),e(await dg()))})})}async function c0(i,e,t){const r=_f(i,!0).put({[_w]:e,value:t});return new Iu(r).toPromise()}async function XO(i,e){const t=_f(i,!1).get(e),r=await new Iu(t).toPromise();return r===void 0?null:r.value}function h0(i,e){const t=_f(i,!0).delete(e);return new Iu(t).toPromise()}const WO=800,JO=3;class Ew{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>JO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return vw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yf._getInstance(QO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await KO(),!this.activeServiceWorker)return;this.sender=new FO(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$O()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dg();return await c0(e,Vh,"1"),await h0(e,Vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>c0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>XO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>h0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=_f(a,!1).getAll();return new Iu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),WO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ew.type="LOCAL";const e2=Ew;new Ru(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(i,e){return e?fr(e):(Me(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm extends cw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return _o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function n2(i){return VO(i.auth,new mm(i),i.bypassAuthState)}function i2(i){const{auth:e,user:t}=i;return Me(t,e,"internal-error"),kO(t,new mm(i),i.bypassAuthState)}async function r2(i){const{auth:e,user:t}=i;return Me(t,e,"internal-error"),PO(t,new mm(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return n2;case"linkViaPopup":case"linkViaRedirect":return r2;case"reauthViaPopup":case"reauthViaRedirect":return i2;default:_r(this.auth,"internal-error")}}resolve(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=new Ru(2e3,1e4);class po extends bw{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){Er(this.filter.length===1,"Popup operations only handle one event");const e=gm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s2.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="pendingRedirect",mh=new Map;class o2 extends bw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const r=await l2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function l2(i,e){const t=h2(e),r=c2(i);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function u2(i,e){mh.set(i._key(),e)}function c2(i){return fr(i._redirectPersistence)}function h2(i){return gh(a2,i.config.apiKey,i.name)}async function f2(i,e,t=!1){if(Oi(i.app))return Promise.reject(sa(i));const r=dm(i),a=t2(r,e),c=await new o2(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=10*60*1e3;class p2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!g2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Tw(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Pi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d2&&this.cachedEventUids.clear(),this.cachedEventUids.has(f0(e))}saveEventToCache(e){this.cachedEventUids.add(f0(e)),this.lastProcessedEventTime=Date.now()}}function f0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Tw({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function g2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m2(i,e={}){return zo(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y2=/^https?/;async function _2(i){if(i.config.emulator)return;const{authorizedDomains:e}=await m2(i);for(const t of e)try{if(E2(t))return}catch{}_r(i,"unauthorized-domain")}function E2(i){const e=hg(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!y2.test(t))return!1;if(v2.test(i))return r===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new Ru(3e4,6e4);function d0(){const i=ki().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function T2(i){return new Promise((e,t)=>{var r,a,l;function c(){d0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{d0(),t(Pi(i,"network-request-failed"))},timeout:b2.get()})}if(!((a=(r=ki().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ki().gapi)===null||l===void 0)&&l.load)c();else{const d=LO("iframefcb");return ki()[d]=()=>{gapi.load?c():t(Pi(i,"network-request-failed"))},AO(`${RO()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw vh=null,e})}let vh=null;function S2(i){return vh=vh||T2(i),vh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=new Ru(5e3,15e3),C2="__/auth/iframe",A2="emulator/auth/iframe",R2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function I2(i){const e=i.config;Me(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?um(e,A2):`https://${i.config.authDomain}/${C2}`,r={apiKey:e.apiKey,appName:i.name,v:Po},a=L2.get(i.config.apiHost);a&&(r.eid=a);const l=i._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${Tu(r).slice(1)}`}async function x2(i){const e=await S2(i),t=ki().gapi;return Me(t,i,"internal-error"),e.open({where:document.body,url:I2(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:R2,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=Pi(i,"network-request-failed"),d=ki().setTimeout(()=>{l(c)},w2.get());function p(){ki().clearTimeout(d),a(r)}r.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},O2=500,D2=600,N2="_blank",P2="http://localhost";class p0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function k2(i,e,t,r=O2,a=D2){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const p=Object.assign(Object.assign({},M2),{width:r.toString(),height:a.toString(),top:l,left:c}),m=hn().toLowerCase();t&&(d=nw(m)?N2:t),ew(m)&&(e=e||P2,p.scrollbars="yes");const _=Object.entries(p).reduce((S,[I,R])=>`${S}${I}=${R},`,"");if(yO(m)&&d!=="_self")return V2(e||"",d),new p0(null);const T=window.open(e||"",d,_);Me(T,i,"popup-blocked");try{T.focus()}catch{}return new p0(T)}function V2(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2="__/auth/handler",j2="emulator/auth/handler",B2=encodeURIComponent("fac");async function g0(i,e,t,r,a,l){Me(i.config.authDomain,i,"auth-domain-config-required"),Me(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:Po,eventId:a};if(e instanceof hw){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",bR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof Lu){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}i.tenantId&&(c.tid=i.tenantId);const d=c;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const p=await i._getAppCheckToken(),m=p?`#${B2}=${encodeURIComponent(p)}`:"";return`${z2(i)}?${Tu(d).slice(1)}${m}`}function z2({config:i}){return i.emulator?um(i,j2):`https://${i.authDomain}/${U2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pp="webStorageSupport";class q2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mw,this._completeRedirectFn=f2,this._overrideRedirectResult=u2}async _openPopup(e,t,r,a){var l;Er((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await g0(e,t,r,hg(),a);return k2(e,c,gm())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await g0(e,t,r,hg(),a);return GO(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Er(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await x2(e),r=new p2(e);return t.register("authEvent",a=>(Me(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Pp,{type:Pp},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Pp];c!==void 0&&t(!!c),_r(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=_2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ow()||tw()||fm()}}const H2=q2;var m0="@firebase/auth",v0="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G2(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function K2(i){bo(new la("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Me(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lw(i)},m=new wO(r,a,l,p);return xO(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),bo(new la("auth-internal",e=>{const t=dm(e.getProvider("auth").getImmediate());return(r=>new F2(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),cs(m0,v0,G2(i)),cs(m0,v0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2=5*60,Q2=oT("authIdTokenMaxAge")||$2;let y0=null;const Y2=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Q2)return;const a=t==null?void 0:t.token;y0!==a&&(y0=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function Z2(i=hT()){const e=Lg(i,"auth");if(e.isInitialized())return e.getImmediate();const t=IO(i,{popupRedirectResolver:H2,persistence:[e2,qO,mw]}),r=oT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=Y2(l.toString());jO(t,c,()=>c(t.currentUser)),UO(t,d=>c(d))}}const a=sT("auth");return a&&MO(t,`http://${a}`),t}function X2(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}CO({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=a=>{const l=Pi("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",X2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});K2("Browser");const W2={apiKey:"AIzaSyA2GcpE0jM6a6EWw4YlVH6gFiWgRSlWbP0",authDomain:"blood-donation-23556.firebaseapp.com",projectId:"blood-donation-23556",storageBucket:"blood-donation-23556.appspot.com",messagingSenderId:"444827597662",appId:"1:444827597662:web:3e14ee6d79a4752ac0adcf"},Sw=cT(W2),Mo=OM(Sw);Z2(Sw);var ww={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},_0=ra.createContext&&ra.createContext(ww),J2=["attr","size","title"];function eD(i,e){if(i==null)return{};var t=tD(i,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(t[r]=i[r])}return t}function tD(i,e){if(i==null)return{};var t={};for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;t[r]=i[r]}return t}function jh(){return jh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},jh.apply(this,arguments)}function E0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Bh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?E0(Object(t),!0).forEach(function(r){nD(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):E0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function nD(i,e,t){return e=iD(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function iD(i){var e=rD(i,"string");return typeof e=="symbol"?e:e+""}function rD(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function Cw(i){return i&&i.map((e,t)=>ra.createElement(e.tag,Bh({key:t},e.attr),Cw(e.child)))}function Sr(i){return e=>ra.createElement(sD,jh({attr:Bh({},i.attr)},e),Cw(i.child))}function sD(i){var e=t=>{var{attr:r,size:a,title:l}=i,c=eD(i,J2),d=a||t.size||"1em",p;return t.className&&(p=t.className),i.className&&(p=(p?p+" ":"")+i.className),ra.createElement("svg",jh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:p,style:Bh(Bh({color:i.color||t.color},t.style),i.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&ra.createElement("title",null,l),i.children)};return _0!==void 0?ra.createElement(_0.Consumer,null,t=>e(t)):e(ww)}function aD(i){return Sr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM96 424c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm0-96c-13.3 0-24-10.7-24-24s10.7-24 24-24 24 10.7 24 24-10.7 24-24 24zm96-192c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm128 368c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H168c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16z"},child:[]}]})(i)}function oD(i){return Sr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(i)}function Aw(i){return Sr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(i)}function Rw(i){return Sr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 492v20H0v-20c0-6.627 5.373-12 12-12h20V120c0-13.255 10.745-24 24-24h88V24c0-13.255 10.745-24 24-24h112c13.255 0 24 10.745 24 24v72h88c13.255 0 24 10.745 24 24v360h20c6.627 0 12 5.373 12 12zM308 192h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-168 64h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12zm104 128h-40c-6.627 0-12 5.373-12 12v84h64v-84c0-6.627-5.373-12-12-12zm64-96h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12zm-116 12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h40c6.627 0 12-5.373 12-12v-40zM182 96h26v26a6 6 0 0 0 6 6h20a6 6 0 0 0 6-6V96h26a6 6 0 0 0 6-6V70a6 6 0 0 0-6-6h-26V38a6 6 0 0 0-6-6h-20a6 6 0 0 0-6 6v26h-26a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6z"},child:[]}]})(i)}function pg(i){return Sr({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(i)}function zh(i){return Sr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(i)}function lD(i){return Sr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(i)}function aa(i){return Sr({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M205.22 22.09c-7.94-28.78-49.44-30.12-58.44 0C100.01 179.85 0 222.72 0 333.91 0 432.35 78.72 512 176 512s176-79.65 176-178.09c0-111.75-99.79-153.34-146.78-311.82zM176 448c-61.75 0-112-50.25-112-112 0-8.84 7.16-16 16-16s16 7.16 16 16c0 44.11 35.89 80 80 80 8.84 0 16 7.16 16 16s-7.16 16-16 16z"},child:[]}]})(i)}function vm(i){return Sr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(i)}const uD=()=>{const i=bg(),[e,t]=y.useState(!1),[r,a]=y.useState(""),[l,c]=y.useState(""),[d,p]=y.useState({name:"",age:"",bloodGroup:"",location:"",email:"",contact:"",lastDonationDate:"",availability:"Yes",healthConditions:"",weight:"",gender:"",address:"",pincode:""}),m=S=>{const{name:I,value:R}=S.target;p({...d,[I]:R}),I==="email"&&l&&c("")},_=async S=>{try{const I=Lo(Mo,"donors"),R=gf(I,mo("email","==",S));return!(await vf(R)).empty}catch(I){return console.error("Error checking donor:",I),!1}},T=async S=>{S.preventDefault(),t(!0),a(""),c("");try{if(!d.name||!d.email||!d.bloodGroup||!d.location)throw new Error("Please fill all required fields");if(await _(d.email)){c("This email is already registered as a donor");return}await GS(Lo(Mo,"donors"),{...d,createdAt:new Date,lastUpdated:new Date,status:"active"}),alert("Thank you for registering as a donor!"),i("/profile")}catch(I){console.error("Registration error:",I),a(I.message)}finally{t(!1)}};return w.jsx("div",{className:"register-container",children:w.jsxs("div",{className:"register-card",children:[w.jsxs("div",{className:"register-header",children:[w.jsx("h1",{children:"Become a Blood Donor"}),w.jsx("p",{children:"Your donation can save up to 3 lives. Join our community of lifesavers."})]}),r&&w.jsx("div",{className:"alert alert-danger",children:r}),w.jsxs("form",{onSubmit:T,className:"register-form",children:[w.jsxs("div",{className:"form-grid",children:[w.jsxs("div",{className:"form-section",children:[w.jsx("h3",{children:"Personal Information"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Full Name*"}),w.jsx("input",{type:"text",name:"name",value:d.name,onChange:m,required:!0,placeholder:"John Doe"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Age*"}),w.jsx("input",{type:"number",name:"age",value:d.age,onChange:m,required:!0,min:"18",max:"65",placeholder:"18-65"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Gender*"}),w.jsxs("select",{name:"gender",value:d.gender,onChange:m,required:!0,children:[w.jsx("option",{value:"",children:"Select Gender"}),w.jsx("option",{value:"Male",children:"Male"}),w.jsx("option",{value:"Female",children:"Female"}),w.jsx("option",{value:"Other",children:"Other"}),w.jsx("option",{value:"Prefer not to say",children:"Prefer not to say"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Weight (kg)*"}),w.jsx("input",{type:"number",name:"weight",value:d.weight,onChange:m,required:!0,min:"50",placeholder:"Minimum 50kg"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Location (City/District)*"}),w.jsx("input",{type:"text",name:"location",value:d.location,onChange:m,required:!0,placeholder:"Your city or district"})]})]}),w.jsxs("div",{className:"form-section",children:[w.jsx("h3",{children:"Contact Information"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Email*"}),w.jsx("input",{type:"email",name:"email",value:d.email,onChange:m,required:!0,placeholder:"your@email.com"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Phone Number*"}),w.jsx("input",{type:"tel",name:"contact",value:d.contact,onChange:m,required:!0,pattern:"[0-9]{10}",placeholder:"10-digit number"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Address*"}),w.jsx("textarea",{name:"address",value:d.address,onChange:m,required:!0,placeholder:"Full address",rows:"3"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Pincode*"}),w.jsx("input",{type:"text",name:"pincode",value:d.pincode,onChange:m,required:!0,pattern:"[0-9]{6}",placeholder:"6-digit pincode"})]})]}),w.jsxs("div",{className:"form-section",children:[w.jsx("h3",{children:"Donation Information"}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Blood Group*"}),w.jsxs("select",{name:"bloodGroup",value:d.bloodGroup,onChange:m,required:!0,children:[w.jsx("option",{value:"",children:"Select Blood Group"}),w.jsx("option",{value:"A+",children:"A+"}),w.jsx("option",{value:"A−",children:"A−"}),w.jsx("option",{value:"B+",children:"B+"}),w.jsx("option",{value:"B−",children:"B−"}),w.jsx("option",{value:"AB+",children:"AB+"}),w.jsx("option",{value:"AB−",children:"AB−"}),w.jsx("option",{value:"O+",children:"O+"}),w.jsx("option",{value:"O−",children:"O−"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Last Donation Date"}),w.jsx("input",{type:"date",name:"lastDonationDate",value:d.lastDonationDate,onChange:m,max:new Date().toISOString().split("T")[0]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Currently Available to Donate?*"}),w.jsxs("select",{name:"availability",value:d.availability,onChange:m,required:!0,children:[w.jsx("option",{value:"Yes",children:"Yes, I'm available"}),w.jsx("option",{value:"No",children:"Not currently available"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{children:"Any Health Conditions?"}),w.jsx("textarea",{name:"healthConditions",value:d.healthConditions,onChange:m,placeholder:"Diabetes, hypertension, etc.",rows:"2"})]})]})]}),l&&w.jsxs("div",{className:"email-error-message",children:[w.jsx(Aw,{className:"error-icon"}),w.jsx("span",{children:l})]}),w.jsxs("div",{className:"form-footer",children:[w.jsx("p",{className:"disclaimer",children:"By registering, you agree to our terms and confirm that all information provided is accurate."}),w.jsx("button",{type:"submit",className:"submit-btn",disabled:e,children:e?w.jsxs(w.Fragment,{children:[w.jsx("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Registering..."]}):"Register as Donor"})]})]})]})})},cD=()=>{const[i,e]=y.useState(""),[t,r]=y.useState(""),[a,l]=y.useState([]),[c,d]=y.useState(!1),[p,m]=y.useState(""),_=async()=>{if(!i||!t){m("Please select blood group and enter location");return}d(!0),m("");try{const T=Lo(Mo,"donors"),S=gf(T,mo("bloodGroup","==",i),mo("location","==",t),mo("availability","==","Yes")),R=(await vf(S)).docs.map(j=>({id:j.id,...j.data()}));l(R),R.length===0&&m("No donors found matching your criteria")}catch(T){console.error("Error searching donors: ",T),m("Failed to search donors. Please try again.")}finally{d(!1)}};return w.jsxs("div",{className:"find-donors-container",children:[w.jsxs("div",{className:"search-section",children:[w.jsxs("h1",{className:"page-title",children:[w.jsx(aa,{className:"blood-icon"})," Find Blood Donors"]}),w.jsx("p",{className:"page-subtitle",children:"Search for available donors in your area and save lives"}),w.jsxs("div",{className:"search-box",children:[w.jsxs("div",{className:"search-input-group",children:[w.jsxs("label",{htmlFor:"bloodGroup",children:[w.jsx(aa,{})," Blood Group"]}),w.jsxs("select",{id:"bloodGroup",value:i,onChange:T=>e(T.target.value),className:"search-select",children:[w.jsx("option",{value:"",children:"Select Blood Group"}),w.jsx("option",{value:"A+",children:"A+"}),w.jsx("option",{value:"A−",children:"A−"}),w.jsx("option",{value:"B+",children:"B+"}),w.jsx("option",{value:"B−",children:"B−"}),w.jsx("option",{value:"AB+",children:"AB+"}),w.jsx("option",{value:"AB−",children:"AB−"}),w.jsx("option",{value:"O+",children:"O+"}),w.jsx("option",{value:"O−",children:"O−"})]})]}),w.jsxs("div",{className:"search-input-group",children:[w.jsxs("label",{htmlFor:"location",children:[w.jsx(pg,{})," Location"]}),w.jsx("input",{type:"text",id:"location",className:"search-input",placeholder:"Enter city or district",value:t,onChange:T=>r(T.target.value)})]}),w.jsx("button",{className:"search-button",onClick:_,disabled:c,children:c?"Searching...":w.jsxs(w.Fragment,{children:[w.jsx(lD,{})," Search Donors"]})})]}),p&&w.jsx("div",{className:"error-message",children:p})]}),a.length>0&&w.jsxs("div",{className:"results-section",children:[w.jsxs("h2",{className:"results-title",children:["Available Donors (",a.length,")"]}),w.jsx("div",{className:"donors-grid",children:a.map(T=>w.jsxs("div",{className:"donor-card",children:[w.jsx("div",{className:"donor-avatar",children:w.jsx(vm,{})}),w.jsxs("div",{className:"donor-info",children:[w.jsx("h3",{className:"donor-name",children:T.name}),w.jsxs("div",{className:"donor-details",children:[w.jsxs("div",{className:"detail-item",children:[w.jsx(aa,{className:"detail-icon"}),w.jsx("span",{children:T.bloodGroup})]}),w.jsxs("div",{className:"detail-item",children:[w.jsx(pg,{className:"detail-icon"}),w.jsx("span",{children:T.location})]}),w.jsxs("div",{className:"detail-item",children:[w.jsx(zh,{className:"detail-icon"}),w.jsx("a",{href:`tel:${T.contact}`,children:T.contact})]})]}),T.lastDonationDate&&w.jsxs("div",{className:"last-donation",children:["Last donated: ",new Date(T.lastDonationDate).toLocaleDateString()]})]})]},T.id))})]})]})},mu={_origin:"https://api.emailjs.com"},hD=(i,e="https://api.emailjs.com")=>{mu._userID=i,mu._origin=e},Lw=(i,e,t)=>{if(!i)throw"The user ID is required. Visit https://dashboard.emailjs.com/admin/integration";if(!e)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0};class b0{constructor(e){this.status=e.status,this.text=e.responseText}}const Iw=(i,e,t={})=>new Promise((r,a)=>{const l=new XMLHttpRequest;l.addEventListener("load",({target:c})=>{const d=new b0(c);d.status===200||d.text==="OK"?r(d):a(d)}),l.addEventListener("error",({target:c})=>{a(new b0(c))}),l.open("POST",mu._origin+i,!0),Object.keys(t).forEach(c=>{l.setRequestHeader(c,t[c])}),l.send(e)}),fD=(i,e,t,r)=>{const a=r||mu._userID;return Lw(a,i,e),Iw("/api/v1.0/email/send",JSON.stringify({lib_version:"3.2.0",user_id:a,service_id:i,template_id:e,template_params:t}),{"Content-type":"application/json"})},dD=i=>{let e;if(typeof i=="string"?e=document.querySelector(i):e=i,!e||e.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return e},pD=(i,e,t,r)=>{const a=r||mu._userID,l=dD(t);Lw(a,i,e);const c=new FormData(l);return c.append("lib_version","3.2.0"),c.append("service_id",i),c.append("template_id",e),c.append("user_id",a),Iw("/api/v1.0/email/send-form",c)},gD={init:hD,send:fD,sendForm:pD},mD=()=>{const[i,e]=y.useState({patientName:"",bloodGroup:"",hospital:"",urgency:"Normal",contact:"",unitsRequired:"1",requiredDate:"",patientCondition:"",doctorName:"",hospitalAddress:""}),[t,r]=y.useState(!1),[a,l]=y.useState(""),c=p=>{e({...i,[p.target.name]:p.target.value})},d=async p=>{p.preventDefault(),r(!0),l("");try{const m=new Date;await GS(Lo(Mo,"requests"),{...i,timestamp:m,status:"Pending"});const _=Lo(Mo,"donors"),T=gf(_,mo("bloodGroup","==",i.bloodGroup),mo("availability","==","Yes")),I=(await vf(T)).docs.map(j=>j.data()),R=m.toLocaleString();I.forEach(j=>{gD.send("service_p82us47","template_71rsyde",{to_email:j.email,to_name:j.name,patient:i.patientName,hospital:i.hospital,urgency:i.urgency,contact:i.contact,date_time:R,blood_group:i.bloodGroup,units_required:i.unitsRequired,required_date:i.requiredDate,hospital_address:i.hospitalAddress},"pDyLC2yaQD3chb6Uf").catch(k=>{console.error("Email sending failed:",k)})}),l(`Request submitted successfully! Notifications sent to ${I.length} potential donors.`),e({patientName:"",bloodGroup:"",hospital:"",urgency:"Normal",contact:"",unitsRequired:"1",requiredDate:"",patientCondition:"",doctorName:"",hospitalAddress:""})}catch(m){console.error("Error submitting request:",m),l("Failed to submit request. Please try again.")}finally{r(!1)}};return w.jsxs("div",{className:"request-container",children:[w.jsxs("div",{className:"request-header",children:[w.jsxs("h1",{children:[w.jsx(aa,{})," Blood Request Form"]}),w.jsx("p",{children:"Fill out this form to request blood donations for your patient"})]}),w.jsxs("form",{onSubmit:d,className:"request-form",children:[w.jsxs("div",{className:"form-section",children:[w.jsxs("h2",{children:[w.jsx(vm,{})," Patient Details"]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"patientName",children:"Patient Full Name*"}),w.jsx("input",{type:"text",id:"patientName",name:"patientName",value:i.patientName,onChange:c,placeholder:"Enter patient's full name",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"patientCondition",children:"Patient Condition"}),w.jsx("textarea",{id:"patientCondition",name:"patientCondition",value:i.patientCondition,onChange:c,placeholder:"Brief description of patient's condition",rows:"3"})]})]}),w.jsxs("div",{className:"form-section",children:[w.jsxs("h2",{children:[w.jsx(aa,{})," Blood Requirements"]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"bloodGroup",children:"Blood Group*"}),w.jsxs("select",{id:"bloodGroup",name:"bloodGroup",value:i.bloodGroup,onChange:c,required:!0,children:[w.jsx("option",{value:"",children:"Select Blood Group"}),w.jsx("option",{value:"A+",children:"A+"}),w.jsx("option",{value:"A−",children:"A−"}),w.jsx("option",{value:"B+",children:"B+"}),w.jsx("option",{value:"B−",children:"B−"}),w.jsx("option",{value:"AB+",children:"AB+"}),w.jsx("option",{value:"AB−",children:"AB−"}),w.jsx("option",{value:"O+",children:"O+"}),w.jsx("option",{value:"O−",children:"O−"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"unitsRequired",children:"Units Required*"}),w.jsxs("select",{id:"unitsRequired",name:"unitsRequired",value:i.unitsRequired,onChange:c,required:!0,children:[w.jsx("option",{value:"1",children:"1 Unit"}),w.jsx("option",{value:"2",children:"2 Units"}),w.jsx("option",{value:"3",children:"3 Units"}),w.jsx("option",{value:"4+",children:"4+ Units"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"requiredDate",children:"Required By Date"}),w.jsx("input",{type:"date",id:"requiredDate",name:"requiredDate",value:i.requiredDate,onChange:c,min:new Date().toISOString().split("T")[0]})]})]})]}),w.jsxs("div",{className:"form-section",children:[w.jsxs("h2",{children:[w.jsx(Rw,{})," Hospital Information"]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"hospital",children:"Hospital Name*"}),w.jsx("input",{type:"text",id:"hospital",name:"hospital",value:i.hospital,onChange:c,placeholder:"Name of hospital",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"hospitalAddress",children:"Hospital Address*"}),w.jsx("textarea",{id:"hospitalAddress",name:"hospitalAddress",value:i.hospitalAddress,onChange:c,placeholder:"Full hospital address",rows:"3",required:!0})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"doctorName",children:"Attending Doctor"}),w.jsx("input",{type:"text",id:"doctorName",name:"doctorName",value:i.doctorName,onChange:c,placeholder:"Doctor's name"})]})]}),w.jsxs("div",{className:"form-section",children:[w.jsxs("h2",{children:[w.jsx(zh,{})," Contact & Urgency"]}),w.jsxs("div",{className:"form-row",children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"urgency",children:"Urgency Level*"}),w.jsxs("select",{id:"urgency",name:"urgency",value:i.urgency,onChange:c,required:!0,children:[w.jsx("option",{value:"Normal",children:"Normal (Within 48 hours)"}),w.jsx("option",{value:"Urgent",children:"Urgent (Within 24 hours)"}),w.jsx("option",{value:"Emergency",children:"Emergency (Immediate)"})]})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"contact",children:"Your Contact*"}),w.jsx("input",{type:"text",id:"contact",name:"contact",value:i.contact,onChange:c,placeholder:"Phone or email",required:!0})]})]})]}),w.jsxs("div",{className:"form-footer",children:[a&&w.jsx("div",{className:"success-message",children:a}),w.jsx("button",{type:"submit",className:"submit-button",disabled:t,children:t?"Submitting...":"Submit Blood Request"})]})]})]})},vD=()=>{const[i,e]=y.useState([]),[t,r]=y.useState(!0),[a,l]=y.useState("");y.useEffect(()=>{(async()=>{try{const m=gf(Lo(Mo,"requests"),FM("timestamp","desc")),T=(await vf(m)).docs.map(S=>{var I;return{id:S.id,...S.data(),timestamp:((I=S.data().timestamp)==null?void 0:I.toDate())||new Date}});e(T)}catch(m){console.error("Error fetching requests:",m),l("Failed to load requests. Please try again later.")}finally{r(!1)}})()},[]);const c=p=>{switch(p){case"Emergency":return"#dc3545";case"Urgent":return"#fd7e14";case"Normal":return"#28a745";default:return"#6c757d"}},d=p=>new Date(p).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"});return w.jsxs("div",{className:"requests-container",children:[w.jsxs("div",{className:"requests-header",children:[w.jsxs("h1",{children:[w.jsx(aa,{})," Recent Blood Requests"]}),w.jsx("p",{children:"View and respond to recent blood donation requests in your area"})]}),t?w.jsx("div",{className:"loading-spinner",children:w.jsx("div",{className:"spinner-border text-danger",role:"status",children:w.jsx("span",{className:"visually-hidden",children:"Loading..."})})}):a?w.jsx("div",{className:"error-alert",children:w.jsx("div",{className:"alert alert-danger",role:"alert",children:a})}):i.length===0?w.jsx("div",{className:"no-requests",children:w.jsx("div",{className:"alert alert-info",role:"alert",children:"No blood requests found. Check back later."})}):w.jsx("div",{className:"requests-grid",children:i.map(p=>w.jsxs("div",{className:"request-card",children:[w.jsxs("div",{className:"card-header",children:[w.jsxs("div",{className:"patient-info",children:[w.jsx(vm,{className:"icon"}),w.jsx("h3",{children:p.patientName})]}),w.jsxs("div",{className:"urgency-badge",style:{backgroundColor:c(p.urgency)},children:[w.jsx(Aw,{className:"icon"}),w.jsx("span",{children:p.urgency})]})]}),w.jsxs("div",{className:"card-body",children:[w.jsxs("div",{className:"detail-row",children:[w.jsx(aa,{className:"icon"}),w.jsxs("div",{children:[w.jsx("span",{className:"detail-label",children:"Blood Group:"}),w.jsx("span",{className:"detail-value",children:p.bloodGroup})]})]}),w.jsxs("div",{className:"detail-row",children:[w.jsx(Rw,{className:"icon"}),w.jsxs("div",{children:[w.jsx("span",{className:"detail-label",children:"Hospital:"}),w.jsx("span",{className:"detail-value",children:p.hospital})]})]}),p.hospitalAddress&&w.jsxs("div",{className:"detail-row",children:[w.jsx(pg,{className:"icon"}),w.jsxs("div",{children:[w.jsx("span",{className:"detail-label",children:"Address:"}),w.jsx("span",{className:"detail-value",children:p.hospitalAddress})]})]}),w.jsxs("div",{className:"detail-row",children:[w.jsx(zh,{className:"icon"}),w.jsxs("div",{children:[w.jsx("span",{className:"detail-label",children:"Contact:"}),w.jsx("a",{href:`tel:${p.contact}`,className:"detail-value",children:p.contact})]})]}),p.unitsRequired&&w.jsxs("div",{className:"detail-row",children:[w.jsx(aD,{className:"icon"}),w.jsxs("div",{children:[w.jsx("span",{className:"detail-label",children:"Units Needed:"}),w.jsx("span",{className:"detail-value",children:p.unitsRequired})]})]}),w.jsxs("div",{className:"detail-row",children:[w.jsx(oD,{className:"icon"}),w.jsxs("div",{children:[w.jsx("span",{className:"detail-label",children:"Requested:"}),w.jsx("span",{className:"detail-value",children:d(p.timestamp)})]})]})]}),w.jsx("div",{className:"card-footer",children:w.jsxs("button",{className:"respond-btn",children:[w.jsx(zh,{})," Respond to Request"]})})]},p.id))})]})};function vu(i){"@babel/helpers - typeof";return vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vu(i)}function yD(i,e){if(vu(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e);if(vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function _D(i){var e=yD(i,"string");return vu(e)=="symbol"?e:e+""}function re(i,e,t){return(e=_D(e))in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function xw(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var kp,T0;function ED(){if(T0)return kp;T0=1;var i=function(t,r,a,l,c,d,p,m){if(!t){var _;if(r===void 0)_=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var T=[a,l,c,d,p,m],S=0;_=new Error(r.replace(/%s/g,function(){return T[S++]})),_.name="Invariant Violation"}throw _.framesToPop=1,_}};return kp=i,kp}var bD=ED(),Bt=xw(bD),Ve=y.createContext(null);function TD(){Bt(!!y.useContext,"useGoogleMap is React hook and requires React version 16.8+");var i=y.useContext(Ve);return Bt(!!i,"useGoogleMap needs a GoogleMap available up in the tree"),i}function SD(i,e,t){return Object.keys(i).reduce(function(a,l){return e(a,i[l],l)},t)}function wD(i,e){Object.keys(i).forEach(t=>e(i[t],t))}function CD(i,e,t,r){var a={},l=(c,d)=>{var p=t[d];p!==e[d]&&(a[d]=p,c(r,p))};return wD(i,l),a}function AD(i,e,t){var r=SD(t,function(l,c,d){return typeof i[d]=="function"&&l.push(google.maps.event.addListener(e,c,i[d])),l},[]);return r}function RD(i){google.maps.event.removeListener(i)}function Fe(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];i.forEach(RD)}function ze(i){var{updaterMap:e,eventMap:t,prevProps:r,nextProps:a,instance:l}=i,c=AD(a,l,t);return CD(e,r,a,l),c}var S0={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},w0={extraMapTypes(i,e){e.forEach(function(r,a){i.mapTypes.set(String(a),r)})},center(i,e){i.setCenter(e)},clickableIcons(i,e){i.setClickableIcons(e)},heading(i,e){i.setHeading(e)},mapTypeId(i,e){i.setMapTypeId(e)},options(i,e){i.setOptions(e)},streetView(i,e){i.setStreetView(e)},tilt(i,e){i.setTilt(e)},zoom(i,e){i.setZoom(e)}};function LD(i){var{children:e,options:t,id:r,mapContainerStyle:a,mapContainerClassName:l,center:c,onClick:d,onDblClick:p,onDrag:m,onDragEnd:_,onDragStart:T,onMouseMove:S,onMouseOut:I,onMouseOver:R,onMouseDown:j,onMouseUp:k,onRightClick:z,onCenterChanged:F,onLoad:X,onUnmount:Y}=i,[H,ee]=y.useState(null),M=y.useRef(null),[x,A]=y.useState(null),[D,N]=y.useState(null),[U,O]=y.useState(null),[Se,ye]=y.useState(null),[Q,ce]=y.useState(null),[fe,Te]=y.useState(null),[P,ie]=y.useState(null),[he,ne]=y.useState(null),[pe,J]=y.useState(null),[ge,De]=y.useState(null),[ve,tt]=y.useState(null),[we,Pe]=y.useState(null);return y.useEffect(()=>{t&&H!==null&&H.setOptions(t)},[H,t]),y.useEffect(()=>{H!==null&&typeof c<"u"&&H.setCenter(c)},[H,c]),y.useEffect(()=>{H&&p&&(D!==null&&google.maps.event.removeListener(D),N(google.maps.event.addListener(H,"dblclick",p)))},[p]),y.useEffect(()=>{H&&_&&(U!==null&&google.maps.event.removeListener(U),O(google.maps.event.addListener(H,"dragend",_)))},[_]),y.useEffect(()=>{H&&T&&(Se!==null&&google.maps.event.removeListener(Se),ye(google.maps.event.addListener(H,"dragstart",T)))},[T]),y.useEffect(()=>{H&&j&&(Q!==null&&google.maps.event.removeListener(Q),ce(google.maps.event.addListener(H,"mousedown",j)))},[j]),y.useEffect(()=>{H&&S&&(fe!==null&&google.maps.event.removeListener(fe),Te(google.maps.event.addListener(H,"mousemove",S)))},[S]),y.useEffect(()=>{H&&I&&(P!==null&&google.maps.event.removeListener(P),ie(google.maps.event.addListener(H,"mouseout",I)))},[I]),y.useEffect(()=>{H&&R&&(he!==null&&google.maps.event.removeListener(he),ne(google.maps.event.addListener(H,"mouseover",R)))},[R]),y.useEffect(()=>{H&&k&&(pe!==null&&google.maps.event.removeListener(pe),J(google.maps.event.addListener(H,"mouseup",k)))},[k]),y.useEffect(()=>{H&&z&&(ge!==null&&google.maps.event.removeListener(ge),De(google.maps.event.addListener(H,"rightclick",z)))},[z]),y.useEffect(()=>{H&&d&&(ve!==null&&google.maps.event.removeListener(ve),tt(google.maps.event.addListener(H,"click",d)))},[d]),y.useEffect(()=>{H&&m&&(we!==null&&google.maps.event.removeListener(we),Pe(google.maps.event.addListener(H,"drag",m)))},[m]),y.useEffect(()=>{H&&F&&(x!==null&&google.maps.event.removeListener(x),A(google.maps.event.addListener(H,"center_changed",F)))},[d]),y.useEffect(()=>{var Dt=M.current===null?null:new google.maps.Map(M.current,t);return ee(Dt),Dt!==null&&X&&X(Dt),()=>{Dt!==null&&Y&&Y(Dt)}},[]),w.jsx("div",{id:r,ref:M,style:a,className:l,children:w.jsx(Ve.Provider,{value:H,children:H!==null?e:null})})}y.memo(LD);class ID extends y.PureComponent{constructor(){super(...arguments),re(this,"state",{map:null}),re(this,"registeredEvents",[]),re(this,"mapRef",null),re(this,"getInstance",()=>this.mapRef===null?null:new google.maps.Map(this.mapRef,this.props.options)),re(this,"panTo",e=>{var t=this.getInstance();t&&t.panTo(e)}),re(this,"setMapCallback",()=>{this.state.map!==null&&this.props.onLoad&&this.props.onLoad(this.state.map)}),re(this,"getRef",e=>{this.mapRef=e})}componentDidMount(){var e=this.getInstance();this.registeredEvents=ze({updaterMap:w0,eventMap:S0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{map:e}},this.setMapCallback)}componentDidUpdate(e){this.state.map!==null&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:w0,eventMap:S0,prevProps:e,nextProps:this.props,instance:this.state.map}))}componentWillUnmount(){this.state.map!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),Fe(this.registeredEvents))}render(){return w.jsx("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:w.jsx(Ve.Provider,{value:this.state.map,children:this.state.map!==null?this.props.children:null})})}}function C0(i,e,t,r,a,l,c){try{var d=i[l](c),p=d.value}catch(m){return void t(m)}d.done?e(p):Promise.resolve(p).then(r,a)}function Mw(i){return function(){var e=this,t=arguments;return new Promise(function(r,a){var l=i.apply(e,t);function c(p){C0(l,r,a,c,d,"next",p)}function d(p){C0(l,r,a,c,d,"throw",p)}c(void 0)})}}function Ow(i){var{googleMapsApiKey:e,googleMapsClientId:t,version:r="weekly",language:a,region:l,libraries:c,channel:d,mapIds:p,authReferrerPolicy:m}=i,_=[];return Bt(e&&t||!(e&&t),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?_.push("key=".concat(e)):t&&_.push("client=".concat(t)),r&&_.push("v=".concat(r)),a&&_.push("language=".concat(a)),l&&_.push("region=".concat(l)),c&&c.length&&_.push("libraries=".concat(c.sort().join(","))),d&&_.push("channel=".concat(d)),p&&p.length&&_.push("map_ids=".concat(p.join(","))),m&&_.push("auth_referrer_policy=".concat(m)),_.push("loading=async"),_.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(_.join("&"))}var ia=typeof document<"u";function Dw(i){var{url:e,id:t,nonce:r}=i;return ia?new Promise(function(l,c){var d=document.getElementById(t),p=window;if(d){var m=d.getAttribute("data-state");if(d.src===e&&m!=="error"){if(m==="ready")return l(t);var _=p.initMap,T=d.onerror;p.initMap=function(){_&&_(),l(t)},d.onerror=function(I){T&&T(I),c(I)};return}else d.remove()}var S=document.createElement("script");S.type="text/javascript",S.src=e,S.id=t,S.async=!0,S.nonce=r||"",S.onerror=function(R){S.setAttribute("data-state","error"),c(R)},p.initMap=function(){S.setAttribute("data-state","ready"),l(t)},document.head.appendChild(S)}).catch(a=>{throw console.error("injectScript error: ",a),a}):Promise.reject(new Error("document is undefined"))}function A0(i){var e=i.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:i.tagName.toLowerCase()==="style"&&i.styleSheet&&i.styleSheet.cssText&&i.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(i.styleSheet.cssText="",!0):i.tagName.toLowerCase()==="style"&&i.innerHTML&&i.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(i.innerHTML="",!0):i.tagName.toLowerCase()==="style"&&!i.styleSheet&&!i.innerHTML}function Nw(){var i=document.getElementsByTagName("head")[0];if(i){var e=i.insertBefore.bind(i);i.insertBefore=function(a,l){return A0(a)||Reflect.apply(e,i,[a,l]),a};var t=i.appendChild.bind(i);i.appendChild=function(a){return A0(a)||Reflect.apply(t,i,[a]),a}}}var $l=!1;function Pw(){return w.jsx("div",{children:"Loading..."})}var gg={id:"script-loader",version:"weekly"};class kw extends y.PureComponent{constructor(){super(...arguments),re(this,"check",null),re(this,"state",{loaded:!1}),re(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),re(this,"isCleaningUp",Mw(function*(){function e(t){if(!$l)t();else if(ia)var r=window.setInterval(function(){$l||(window.clearInterval(r),t())},1)}return new Promise(e)})),re(this,"cleanup",()=>{$l=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(r){return typeof r.src=="string"&&r.src.includes("maps.googleapis")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(r){return r.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(r){return r.innerText!==void 0&&r.innerText.length>0&&r.innerText.includes(".gm-")}).forEach(function(r){r.parentNode&&r.parentNode.removeChild(r)})}),re(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&Nw(),Bt(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:Ow(this.props)};Dw(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(t=>{this.props.onError&&this.props.onError(t),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),re(this,"getRef",e=>{this.check=e})}componentDidMount(){if(ia){if(window.google&&window.google.maps&&!$l){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(t){console.error("Error at injecting script after cleaning up: ",t)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),ia&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(ia){this.cleanup();var e=()=>{this.check||(delete window.google,$l=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return w.jsxs(w.Fragment,{children:[w.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||w.jsx(Pw,{})]})}}re(kw,"defaultProps",gg);function xD(i,e){if(i==null)return{};var t={};for(var r in i)if({}.hasOwnProperty.call(i,r)){if(e.includes(r))continue;t[r]=i[r]}return t}function ym(i,e){if(i==null)return{};var t,r,a=xD(i,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(r=0;r<l.length;r++)t=l[r],e.includes(t)||{}.propertyIsEnumerable.call(i,t)&&(a[t]=i[t])}return a}var R0;function MD(i){var{id:e=gg.id,version:t=gg.version,nonce:r,googleMapsApiKey:a,googleMapsClientId:l,language:c,region:d,libraries:p,preventGoogleFontsLoading:m,channel:_,mapIds:T,authReferrerPolicy:S}=i,I=y.useRef(!1),[R,j]=y.useState(!1),[k,z]=y.useState(void 0);y.useEffect(function(){return I.current=!0,()=>{I.current=!1}},[]),y.useEffect(function(){ia&&m&&Nw()},[m]),y.useEffect(function(){R&&Bt(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[R]);var F=Ow({version:t,googleMapsApiKey:a,googleMapsClientId:l,language:c,region:d,libraries:p,channel:_,mapIds:T,authReferrerPolicy:S});y.useEffect(function(){if(!ia)return;function H(){I.current&&(j(!0),R0=F)}if(window.google&&window.google.maps&&R0===F){H();return}Dw({id:e,url:F,nonce:r}).then(H).catch(function(M){I.current&&z(M),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(a||"-",") or Client ID (").concat(l||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(M)})},[e,F,r]);var X=y.useRef(void 0);return y.useEffect(function(){X.current&&p!==X.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),X.current=p},[p]),{isLoaded:R,loadError:k,url:F}}var OD=["loadingElement","onLoad","onError","onUnmount","children"],DD=w.jsx(Pw,{});function ND(i){var{loadingElement:e,onLoad:t,onError:r,onUnmount:a,children:l}=i,c=ym(i,OD),{isLoaded:d,loadError:p}=MD(c);return y.useEffect(function(){d&&typeof t=="function"&&t()},[d,t]),y.useEffect(function(){p&&typeof r=="function"&&r(p)},[p,r]),y.useEffect(function(){return()=>{a&&a()}},[a]),d?l:e||DD}y.memo(ND);var L0;(function(i){i[i.INITIALIZED=0]="INITIALIZED",i[i.LOADING=1]="LOADING",i[i.SUCCESS=2]="SUCCESS",i[i.FAILURE=3]="FAILURE"})(L0||(L0={}));function I0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function qh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?I0(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):I0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var x0={},M0={options(i,e){i.setOptions(e)}};function PD(i){var{options:e,onLoad:t,onUnmount:r}=i,a=y.useContext(Ve),[l,c]=y.useState(null);return y.useEffect(()=>{l!==null&&l.setMap(a)},[a]),y.useEffect(()=>{e&&l!==null&&l.setOptions(e)},[l,e]),y.useEffect(()=>{var d=new google.maps.TrafficLayer(qh(qh({},e),{},{map:a}));return c(d),t&&t(d),()=>{l!==null&&(r&&r(l),l.setMap(null))}},[]),null}y.memo(PD);class kD extends y.PureComponent{constructor(){super(...arguments),re(this,"state",{trafficLayer:null}),re(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),re(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(qh(qh({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:M0,eventMap:x0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:M0,eventMap:x0,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),Fe(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}re(kD,"contextType",Ve);function VD(i){var{onLoad:e,onUnmount:t}=i,r=y.useContext(Ve),[a,l]=y.useState(null);return y.useEffect(()=>{a!==null&&a.setMap(r)},[r]),y.useEffect(()=>{var c=new google.maps.BicyclingLayer;return l(c),c.setMap(r),e&&e(c),()=>{c!==null&&(t&&t(c),c.setMap(null))}},[]),null}y.memo(VD);class UD extends y.PureComponent{constructor(){super(...arguments),re(this,"state",{bicyclingLayer:null}),re(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}re(UD,"contextType",Ve);function jD(i){var{onLoad:e,onUnmount:t}=i,r=y.useContext(Ve),[a,l]=y.useState(null);return y.useEffect(()=>{a!==null&&a.setMap(r)},[r]),y.useEffect(()=>{var c=new google.maps.TransitLayer;return l(c),c.setMap(r),e&&e(c),()=>{a!==null&&(t&&t(a),a.setMap(null))}},[]),null}y.memo(jD);class BD extends y.PureComponent{constructor(){super(...arguments),re(this,"state",{transitLayer:null}),re(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}re(BD,"contextType",Ve);function O0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Hh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O0(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):O0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var D0={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},N0={drawingMode(i,e){i.setDrawingMode(e)},options(i,e){i.setOptions(e)}};function zD(i){var{options:e,drawingMode:t,onCircleComplete:r,onMarkerComplete:a,onOverlayComplete:l,onPolygonComplete:c,onPolylineComplete:d,onRectangleComplete:p,onLoad:m,onUnmount:_}=i,T=y.useContext(Ve),[S,I]=y.useState(null),[R,j]=y.useState(null),[k,z]=y.useState(null),[F,X]=y.useState(null),[Y,H]=y.useState(null),[ee,M]=y.useState(null),[x,A]=y.useState(null);return y.useEffect(()=>{S!==null&&S.setMap(T)},[T]),y.useEffect(()=>{e&&S!==null&&S.setOptions(e)},[S,e]),y.useEffect(()=>{S!==null&&S.setDrawingMode(t??null)},[S,t]),y.useEffect(()=>{S&&r&&(R!==null&&google.maps.event.removeListener(R),j(google.maps.event.addListener(S,"circlecomplete",r)))},[S,r]),y.useEffect(()=>{S&&a&&(k!==null&&google.maps.event.removeListener(k),z(google.maps.event.addListener(S,"markercomplete",a)))},[S,a]),y.useEffect(()=>{S&&l&&(F!==null&&google.maps.event.removeListener(F),X(google.maps.event.addListener(S,"overlaycomplete",l)))},[S,l]),y.useEffect(()=>{S&&c&&(Y!==null&&google.maps.event.removeListener(Y),H(google.maps.event.addListener(S,"polygoncomplete",c)))},[S,c]),y.useEffect(()=>{S&&d&&(ee!==null&&google.maps.event.removeListener(ee),M(google.maps.event.addListener(S,"polylinecomplete",d)))},[S,d]),y.useEffect(()=>{S&&p&&(x!==null&&google.maps.event.removeListener(x),A(google.maps.event.addListener(S,"rectanglecomplete",p)))},[S,p]),y.useEffect(()=>{Bt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var D=new google.maps.drawing.DrawingManager(Hh(Hh({},e),{},{map:T}));return t&&D.setDrawingMode(t),r&&j(google.maps.event.addListener(D,"circlecomplete",r)),a&&z(google.maps.event.addListener(D,"markercomplete",a)),l&&X(google.maps.event.addListener(D,"overlaycomplete",l)),c&&H(google.maps.event.addListener(D,"polygoncomplete",c)),d&&M(google.maps.event.addListener(D,"polylinecomplete",d)),p&&A(google.maps.event.addListener(D,"rectanglecomplete",p)),I(D),m&&m(D),()=>{S!==null&&(R&&google.maps.event.removeListener(R),k&&google.maps.event.removeListener(k),F&&google.maps.event.removeListener(F),Y&&google.maps.event.removeListener(Y),ee&&google.maps.event.removeListener(ee),x&&google.maps.event.removeListener(x),_&&_(S),S.setMap(null))}},[]),null}y.memo(zD);class qD extends y.PureComponent{constructor(e){super(e),re(this,"registeredEvents",[]),re(this,"state",{drawingManager:null}),re(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),Bt(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Hh(Hh({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:N0,eventMap:D0,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:N0,eventMap:D0,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),Fe(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}re(qD,"contextType",Ve);function P0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Eo(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P0(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):P0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var k0={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},V0={animation(i,e){i.setAnimation(e)},clickable(i,e){i.setClickable(e)},cursor(i,e){i.setCursor(e)},draggable(i,e){i.setDraggable(e)},icon(i,e){i.setIcon(e)},label(i,e){i.setLabel(e)},map(i,e){i.setMap(e)},opacity(i,e){i.setOpacity(e)},options(i,e){i.setOptions(e)},position(i,e){i.setPosition(e)},shape(i,e){i.setShape(e)},title(i,e){i.setTitle(e)},visible(i,e){i.setVisible(e)},zIndex(i,e){i.setZIndex(e)}},Fh={};function HD(i){var{position:e,options:t,clusterer:r,noClustererRedraw:a,children:l,draggable:c,visible:d,animation:p,clickable:m,cursor:_,icon:T,label:S,opacity:I,shape:R,title:j,zIndex:k,onClick:z,onDblClick:F,onDrag:X,onDragEnd:Y,onDragStart:H,onMouseOut:ee,onMouseOver:M,onMouseUp:x,onMouseDown:A,onRightClick:D,onClickableChanged:N,onCursorChanged:U,onAnimationChanged:O,onDraggableChanged:Se,onFlatChanged:ye,onIconChanged:Q,onPositionChanged:ce,onShapeChanged:fe,onTitleChanged:Te,onVisibleChanged:P,onZindexChanged:ie,onLoad:he,onUnmount:ne}=i,pe=y.useContext(Ve),[J,ge]=y.useState(null),[De,ve]=y.useState(null),[tt,we]=y.useState(null),[Pe,Dt]=y.useState(null),[$t,En]=y.useState(null),[$e,Es]=y.useState(null),[Qt,ya]=y.useState(null),[ci,Bi]=y.useState(null),[Mn,_a]=y.useState(null),[Wn,wr]=y.useState(null),[bs,pt]=y.useState(null),[Qe,rn]=y.useState(null),[Tt,Ts]=y.useState(null),[Cr,hi]=y.useState(null),[On,fi]=y.useState(null),[sn,zi]=y.useState(null),[Dn,Ar]=y.useState(null),[di,Rr]=y.useState(null),[Nn,Pn]=y.useState(null),[pi,bn]=y.useState(null),[gi,Jn]=y.useState(null),[ei,ti]=y.useState(null);y.useEffect(()=>{J!==null&&J.setMap(pe)},[pe]),y.useEffect(()=>{typeof t<"u"&&J!==null&&J.setOptions(t)},[J,t]),y.useEffect(()=>{typeof c<"u"&&J!==null&&J.setDraggable(c)},[J,c]),y.useEffect(()=>{e&&J!==null&&J.setPosition(e)},[J,e]),y.useEffect(()=>{typeof d<"u"&&J!==null&&J.setVisible(d)},[J,d]),y.useEffect(()=>{J==null||J.setAnimation(p)},[J,p]),y.useEffect(()=>{J&&m!==void 0&&J.setClickable(m)},[J,m]),y.useEffect(()=>{J&&_!==void 0&&J.setCursor(_)},[J,_]),y.useEffect(()=>{J&&T!==void 0&&J.setIcon(T)},[J,T]),y.useEffect(()=>{J&&S!==void 0&&J.setLabel(S)},[J,S]),y.useEffect(()=>{J&&I!==void 0&&J.setOpacity(I)},[J,I]),y.useEffect(()=>{J&&R!==void 0&&J.setShape(R)},[J,R]),y.useEffect(()=>{J&&j!==void 0&&J.setTitle(j)},[J,j]),y.useEffect(()=>{J&&k!==void 0&&J.setZIndex(k)},[J,k]),y.useEffect(()=>{J&&F&&(De!==null&&google.maps.event.removeListener(De),ve(google.maps.event.addListener(J,"dblclick",F)))},[F]),y.useEffect(()=>{J&&Y&&(tt!==null&&google.maps.event.removeListener(tt),we(google.maps.event.addListener(J,"dragend",Y)))},[Y]),y.useEffect(()=>{J&&H&&(Pe!==null&&google.maps.event.removeListener(Pe),Dt(google.maps.event.addListener(J,"dragstart",H)))},[H]),y.useEffect(()=>{J&&A&&($t!==null&&google.maps.event.removeListener($t),En(google.maps.event.addListener(J,"mousedown",A)))},[A]),y.useEffect(()=>{J&&ee&&($e!==null&&google.maps.event.removeListener($e),Es(google.maps.event.addListener(J,"mouseout",ee)))},[ee]),y.useEffect(()=>{J&&M&&(Qt!==null&&google.maps.event.removeListener(Qt),ya(google.maps.event.addListener(J,"mouseover",M)))},[M]),y.useEffect(()=>{J&&x&&(ci!==null&&google.maps.event.removeListener(ci),Bi(google.maps.event.addListener(J,"mouseup",x)))},[x]),y.useEffect(()=>{J&&D&&(Mn!==null&&google.maps.event.removeListener(Mn),_a(google.maps.event.addListener(J,"rightclick",D)))},[D]),y.useEffect(()=>{J&&z&&(Wn!==null&&google.maps.event.removeListener(Wn),wr(google.maps.event.addListener(J,"click",z)))},[z]),y.useEffect(()=>{J&&X&&(bs!==null&&google.maps.event.removeListener(bs),pt(google.maps.event.addListener(J,"drag",X)))},[X]),y.useEffect(()=>{J&&N&&(Qe!==null&&google.maps.event.removeListener(Qe),rn(google.maps.event.addListener(J,"clickable_changed",N)))},[N]),y.useEffect(()=>{J&&U&&(Tt!==null&&google.maps.event.removeListener(Tt),Ts(google.maps.event.addListener(J,"cursor_changed",U)))},[U]),y.useEffect(()=>{J&&O&&(Cr!==null&&google.maps.event.removeListener(Cr),hi(google.maps.event.addListener(J,"animation_changed",O)))},[O]),y.useEffect(()=>{J&&Se&&(On!==null&&google.maps.event.removeListener(On),fi(google.maps.event.addListener(J,"draggable_changed",Se)))},[Se]),y.useEffect(()=>{J&&ye&&(sn!==null&&google.maps.event.removeListener(sn),zi(google.maps.event.addListener(J,"flat_changed",ye)))},[ye]),y.useEffect(()=>{J&&Q&&(Dn!==null&&google.maps.event.removeListener(Dn),Ar(google.maps.event.addListener(J,"icon_changed",Q)))},[Q]),y.useEffect(()=>{J&&ce&&(di!==null&&google.maps.event.removeListener(di),Rr(google.maps.event.addListener(J,"position_changed",ce)))},[ce]),y.useEffect(()=>{J&&fe&&(Nn!==null&&google.maps.event.removeListener(Nn),Pn(google.maps.event.addListener(J,"shape_changed",fe)))},[fe]),y.useEffect(()=>{J&&Te&&(pi!==null&&google.maps.event.removeListener(pi),bn(google.maps.event.addListener(J,"title_changed",Te)))},[Te]),y.useEffect(()=>{J&&P&&(gi!==null&&google.maps.event.removeListener(gi),Jn(google.maps.event.addListener(J,"visible_changed",P)))},[P]),y.useEffect(()=>{J&&ie&&(ei!==null&&google.maps.event.removeListener(ei),ti(google.maps.event.addListener(J,"zindex_changed",ie)))},[ie]),y.useEffect(()=>{var it=Eo(Eo(Eo({},t||Fh),r?Fh:{map:pe}),{},{position:e}),be=new google.maps.Marker(it);return r?r.addMarker(be,!!a):be.setMap(pe),e&&be.setPosition(e),typeof d<"u"&&be.setVisible(d),typeof c<"u"&&be.setDraggable(c),typeof m<"u"&&be.setClickable(m),typeof _=="string"&&be.setCursor(_),T&&be.setIcon(T),typeof S<"u"&&be.setLabel(S),typeof I<"u"&&be.setOpacity(I),R&&be.setShape(R),typeof j=="string"&&be.setTitle(j),typeof k=="number"&&be.setZIndex(k),F&&ve(google.maps.event.addListener(be,"dblclick",F)),Y&&we(google.maps.event.addListener(be,"dragend",Y)),H&&Dt(google.maps.event.addListener(be,"dragstart",H)),A&&En(google.maps.event.addListener(be,"mousedown",A)),ee&&Es(google.maps.event.addListener(be,"mouseout",ee)),M&&ya(google.maps.event.addListener(be,"mouseover",M)),x&&Bi(google.maps.event.addListener(be,"mouseup",x)),D&&_a(google.maps.event.addListener(be,"rightclick",D)),z&&wr(google.maps.event.addListener(be,"click",z)),X&&pt(google.maps.event.addListener(be,"drag",X)),N&&rn(google.maps.event.addListener(be,"clickable_changed",N)),U&&Ts(google.maps.event.addListener(be,"cursor_changed",U)),O&&hi(google.maps.event.addListener(be,"animation_changed",O)),Se&&fi(google.maps.event.addListener(be,"draggable_changed",Se)),ye&&zi(google.maps.event.addListener(be,"flat_changed",ye)),Q&&Ar(google.maps.event.addListener(be,"icon_changed",Q)),ce&&Rr(google.maps.event.addListener(be,"position_changed",ce)),fe&&Pn(google.maps.event.addListener(be,"shape_changed",fe)),Te&&bn(google.maps.event.addListener(be,"title_changed",Te)),P&&Jn(google.maps.event.addListener(be,"visible_changed",P)),ie&&ti(google.maps.event.addListener(be,"zindex_changed",ie)),ge(be),he&&he(be),()=>{De!==null&&google.maps.event.removeListener(De),tt!==null&&google.maps.event.removeListener(tt),Pe!==null&&google.maps.event.removeListener(Pe),$t!==null&&google.maps.event.removeListener($t),$e!==null&&google.maps.event.removeListener($e),Qt!==null&&google.maps.event.removeListener(Qt),ci!==null&&google.maps.event.removeListener(ci),Mn!==null&&google.maps.event.removeListener(Mn),Wn!==null&&google.maps.event.removeListener(Wn),Qe!==null&&google.maps.event.removeListener(Qe),Tt!==null&&google.maps.event.removeListener(Tt),Cr!==null&&google.maps.event.removeListener(Cr),On!==null&&google.maps.event.removeListener(On),sn!==null&&google.maps.event.removeListener(sn),Dn!==null&&google.maps.event.removeListener(Dn),di!==null&&google.maps.event.removeListener(di),pi!==null&&google.maps.event.removeListener(pi),gi!==null&&google.maps.event.removeListener(gi),ei!==null&&google.maps.event.removeListener(ei),ne&&ne(be),r?r.removeMarker(be,!!a):be&&be.setMap(null)}},[]);var Ea=y.useMemo(()=>l?y.Children.map(l,it=>{if(!y.isValidElement(it))return it;var be=it;return y.cloneElement(be,{anchor:J})}):null,[l,J]);return w.jsx(w.Fragment,{children:Ea})||null}y.memo(HD);class mg extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[])}componentDidMount(){var e=this;return Mw(function*(){var t=Eo(Eo(Eo({},e.props.options||Fh),e.props.clusterer?Fh:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(t),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=ze({updaterMap:V0,eventMap:k0,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:V0,eventMap:k0,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),Fe(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?y.Children.map(this.props.children,t=>{if(!y.isValidElement(t))return t;var r=t;return y.cloneElement(r,{anchor:this.marker})}):null;return e||null}}re(mg,"contextType",Ve);var FD=function(){function i(e,t){e.getClusterer().extend(i,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=t,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return i.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},i.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},i.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var r=t.getMaxZoom(),a=this.cluster.getBounds(),l=t.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(a),this.timeOut=window.setTimeout(function(){var c=t.getMap();if(c!==null){"fitBounds"in c&&c.fitBounds(a);var d=c.getZoom()||0;r!==null&&d>r&&c.setZoom(r+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},i.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},i.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},i.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();t!==null&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},i.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},i.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},i.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},i.prototype.show=function(){var e,t,r,a,l,c;if(this.div&&this.center){var d=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,p=this.backgroundPosition.split(" "),m=parseInt(((e=p[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),_=parseInt(((t=p[1])===null||t===void 0?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),T=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(T!==null?"".concat(T.y,"px"):"0","; left: ").concat(T!==null?"".concat(T.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var S=document.createElement("img");S.alt=d,S.src=this.url,S.width=this.width,S.height=this.height,S.setAttribute("style","position: absolute; top: ".concat(_,"px; left: ").concat(m,"px")),this.cluster.getClusterer().enableRetinaIcons||(S.style.clip="rect(-".concat(_,"px, -").concat(m+this.width,"px, -").concat(_+this.height,", -").concat(m,")"));var I=document.createElement("div");I.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((r=this.sums)===null||r===void 0)&&r.text&&(I.innerText="".concat((a=this.sums)===null||a===void 0?void 0:a.text)),!((l=this.sums)===null||l===void 0)&&l.html&&(I.innerHTML="".concat((c=this.sums)===null||c===void 0?void 0:c.html)),this.div.innerHTML="",this.div.appendChild(S),this.div.appendChild(I),this.div.title=d,this.div.style.display=""}this.visible=!0},i.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),r=t[Math.min(t.length-1,Math.max(0,e.index-1))];r&&(this.url=r.url,this.height=r.height,this.width=r.width,r.className&&(this.className="".concat(this.clusterClassName," ").concat(r.className)),this.anchorText=r.anchorText||[0,0],this.anchorIcon=r.anchorIcon||[this.height/2,this.width/2],this.textColor=r.textColor||"black",this.textSize=r.textSize||11,this.textDecoration=r.textDecoration||"none",this.fontWeight=r.fontWeight||"bold",this.fontStyle=r.fontStyle||"normal",this.fontFamily=r.fontFamily||"Arial,sans-serif",this.backgroundPosition=r.backgroundPosition||"0 0")},i.prototype.setCenter=function(e){this.center=e},i.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t!==null&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},i}(),GD=function(){function i(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new FD(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return i.prototype.getSize=function(){return this.markers.length},i.prototype.getMarkers=function(){return this.markers},i.prototype.getCenter=function(){return this.center},i.prototype.getMap=function(){return this.map},i.prototype.getClusterer=function(){return this.markerClusterer},i.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=this.getMarkers(),r=0,a=t;r<a.length;r++){var l=a[r],c=l.getPosition();c&&e.extend(c)}return e},i.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},i.prototype.addMarker=function(e){var t;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var r=e.getPosition();if(r){var a=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(a-1)+r.lat())/a,(this.center.lng()*(a-1)+r.lng())/a),this.calculateBounds()}}}else{var r=e.getPosition();r&&(this.center=r,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var l=this.markers.length,c=this.markerClusterer.getMaxZoom(),d=(t=this.map)===null||t===void 0?void 0:t.getZoom();if(c!==null&&typeof d<"u"&&d>c)e.getMap()!==this.map&&e.setMap(this.map);else if(l<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(l===this.minClusterSize)for(var p=0,m=this.markers;p<m.length;p++){var _=m[p];_.setMap(null)}else e.setMap(null);return!0},i.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},i.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},i.prototype.updateIcon=function(){var e,t=this.markers.length,r=this.markerClusterer.getMaxZoom(),a=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(r!==null&&typeof a<"u"&&a>r){this.clusterIcon.hide();return}if(t<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},i.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},i}();function KD(i,e){var t=i.length,r=t.toString().length,a=Math.min(r,e);return{text:t.toString(),index:a,title:""}}var $D=2e3,QD=500,YD="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",ZD="png",XD=[53,56,66,78,90],WD="cluster",Vw=function(){function i(e,t,r){t===void 0&&(t=[]),r===void 0&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(i,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,r.zoomOnClick!==void 0&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,r.averageCenter!==void 0&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,r.ignoreHidden!==void 0&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,r.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||YD,this.imageExtension=r.imageExtension||ZD,this.imageSizes=r.imageSizes||XD,this.calculator=r.calculator||KD,this.batchSize=r.batchSize||$D,this.batchSizeIE=r.batchSizeIE||QD,this.clusterClass=r.clusterClass||WD,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(t,!0),this.setMap(e)}return i.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((t=this.getMap())===null||t===void 0?void 0:t.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},i.prototype.onIdle=function(){this.redraw()},i.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},i.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var r=t[e];r.getMap()!==this.activeMap&&r.setMap(this.activeMap)}for(var a=0,l=this.clusters;a<l.length;a++){var c=l[a];c.remove()}this.clusters=[];for(var d=0,p=this.listeners;d<p.length;d++){var m=p[d];google.maps.event.removeListener(m)}this.listeners=[],this.activeMap=null,this.ready=!1},i.prototype.draw=function(){},i.prototype.getMap=function(){return null},i.prototype.getPanes=function(){return null},i.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},i.prototype.setMap=function(){},i.prototype.addListener=function(){return{remove:function(){}}},i.prototype.bindTo=function(){},i.prototype.get=function(){},i.prototype.notify=function(){},i.prototype.set=function(){},i.prototype.setValues=function(){},i.prototype.unbind=function(){},i.prototype.unbindAll=function(){},i.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},i.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,r=0,a=e;r<a.length;r++){var l=a[r],c=l.getPosition();c&&t.extend(c)}var d=this.getMap();d!==null&&"fitBounds"in d&&d.fitBounds(t)},i.prototype.getGridSize=function(){return this.gridSize},i.prototype.setGridSize=function(e){this.gridSize=e},i.prototype.getMinimumClusterSize=function(){return this.minClusterSize},i.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},i.prototype.getMaxZoom=function(){return this.maxZoom},i.prototype.setMaxZoom=function(e){this.maxZoom=e},i.prototype.getStyles=function(){return this.styles},i.prototype.setStyles=function(e){this.styles=e},i.prototype.getTitle=function(){return this.title},i.prototype.setTitle=function(e){this.title=e},i.prototype.getZoomOnClick=function(){return this.zoomOnClick},i.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},i.prototype.getAverageCenter=function(){return this.averageCenter},i.prototype.setAverageCenter=function(e){this.averageCenter=e},i.prototype.getIgnoreHidden=function(){return this.ignoreHidden},i.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},i.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},i.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},i.prototype.getImageExtension=function(){return this.imageExtension},i.prototype.setImageExtension=function(e){this.imageExtension=e},i.prototype.getImagePath=function(){return this.imagePath},i.prototype.setImagePath=function(e){this.imagePath=e},i.prototype.getImageSizes=function(){return this.imageSizes},i.prototype.setImageSizes=function(e){this.imageSizes=e},i.prototype.getCalculator=function(){return this.calculator},i.prototype.setCalculator=function(e){this.calculator=e},i.prototype.getBatchSizeIE=function(){return this.batchSizeIE},i.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},i.prototype.getClusterClass=function(){return this.clusterClass},i.prototype.setClusterClass=function(e){this.clusterClass=e},i.prototype.getMarkers=function(){return this.markers},i.prototype.getTotalMarkers=function(){return this.markers.length},i.prototype.getClusters=function(){return this.clusters},i.prototype.getTotalClusters=function(){return this.clusters.length},i.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},i.prototype.addMarkers=function(e,t){for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=e[r];a&&this.pushMarkerTo(a)}t||this.redraw()},i.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){t.ready&&(e.isAdded=!1,t.repaint())}),e.isAdded=!1,this.markers.push(e)},i.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var r=0;r<this.markers.length;r++)if(e===this.markers[r]){t=r;break}return t===-1?!1:(e.setMap(null),this.markers.splice(t,1),!0)},i.prototype.removeMarker=function(e,t){var r=this.removeMarker_(e);return!t&&r&&this.repaint(),r},i.prototype.removeMarkers=function(e,t){for(var r=!1,a=0,l=e;a<l.length;a++){var c=l[a];r=r||this.removeMarker_(c)}return!t&&r&&this.repaint(),r},i.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},i.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var r=0,a=e;r<a.length;r++){var l=a[r];l.remove()}},0)},i.prototype.getExtendedBounds=function(e){var t=this.getProjection(),r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));r!==null&&(r.x+=this.gridSize,r.y-=this.gridSize);var a=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(a!==null&&(a.x-=this.gridSize,a.y+=this.gridSize),r!==null){var l=t.fromDivPixelToLatLng(r);l!==null&&e.extend(l)}if(a!==null){var c=t.fromDivPixelToLatLng(a);c!==null&&e.extend(c)}return e},i.prototype.redraw=function(){this.createClusters(0)},i.prototype.resetViewport=function(e){for(var t=0,r=this.clusters;t<r.length;t++){var a=r[t];a.remove()}this.clusters=[];for(var l=0,c=this.markers;l<c.length;l++){var d=c[l];d.isAdded=!1,e&&d.setMap(null)}},i.prototype.distanceBetweenPoints=function(e,t){var r=6371,a=(t.lat()-e.lat())*Math.PI/180,l=(t.lng()-e.lng())*Math.PI/180,c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(l/2)*Math.sin(l/2);return r*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},i.prototype.isMarkerInBounds=function(e,t){var r=e.getPosition();return r?t.contains(r):!1},i.prototype.addToClosestCluster=function(e){for(var t,r=4e4,a=null,l=0,c=this.clusters;l<c.length;l++){var d=c[l];t=d;var p=t.getCenter(),m=e.getPosition();if(p&&m){var _=this.distanceBetweenPoints(p,m);_<r&&(r=_,a=t)}}a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):(t=new GD(this),t.addMarker(e),this.clusters.push(t))},i.prototype.createClusters=function(e){var t=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var r=this.getMap(),a=r!==null&&("getBounds"in r)?r.getBounds():null,l=(r==null?void 0:r.getZoom())||0,c=l>3?new google.maps.LatLngBounds(a==null?void 0:a.getSouthWest(),a==null?void 0:a.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),d=this.getExtendedBounds(c),p=Math.min(e+this.batchSize,this.markers.length),m=e;m<p;m++){var _=this.markers[m];_&&!_.isAdded&&this.isMarkerInBounds(_,d)&&(!this.ignoreHidden||this.ignoreHidden&&_.getVisible())&&this.addToClosestCluster(_)}if(p<this.markers.length)this.timerRefStatic=window.setTimeout(function(){t.createClusters(p)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var T=0,S=this.clusters;T<S.length;T++){var I=S[T];I.updateIcon()}}}},i.prototype.extend=function(e,t){return(function(a){for(var l in a.prototype){var c=l;this.prototype[c]=a.prototype[c]}return this}).apply(e,[t])},i}();function U0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function JD(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?U0(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):U0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Qn={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},et={averageCenter(i,e){i.setAverageCenter(e)},batchSizeIE(i,e){i.setBatchSizeIE(e)},calculator(i,e){i.setCalculator(e)},clusterClass(i,e){i.setClusterClass(e)},enableRetinaIcons(i,e){i.setEnableRetinaIcons(e)},gridSize(i,e){i.setGridSize(e)},ignoreHidden(i,e){i.setIgnoreHidden(e)},imageExtension(i,e){i.setImageExtension(e)},imagePath(i,e){i.setImagePath(e)},imageSizes(i,e){i.setImageSizes(e)},maxZoom(i,e){i.setMaxZoom(e)},minimumClusterSize(i,e){i.setMinimumClusterSize(e)},styles(i,e){i.setStyles(e)},title(i,e){i.setTitle(e)},zoomOnClick(i,e){i.setZoomOnClick(e)}},eN={};function tN(i){var{children:e,options:t,averageCenter:r,batchSizeIE:a,calculator:l,clusterClass:c,enableRetinaIcons:d,gridSize:p,ignoreHidden:m,imageExtension:_,imagePath:T,imageSizes:S,maxZoom:I,minimumClusterSize:R,styles:j,title:k,zoomOnClick:z,onClick:F,onClusteringBegin:X,onClusteringEnd:Y,onMouseOver:H,onMouseOut:ee,onLoad:M,onUnmount:x}=i,[A,D]=y.useState(null),N=y.useContext(Ve),[U,O]=y.useState(null),[Se,ye]=y.useState(null),[Q,ce]=y.useState(null),[fe,Te]=y.useState(null),[P,ie]=y.useState(null);return y.useEffect(()=>{A&&ee&&(fe!==null&&google.maps.event.removeListener(fe),Te(google.maps.event.addListener(A,Qn.onMouseOut,ee)))},[ee]),y.useEffect(()=>{A&&H&&(P!==null&&google.maps.event.removeListener(P),ie(google.maps.event.addListener(A,Qn.onMouseOver,H)))},[H]),y.useEffect(()=>{A&&F&&(U!==null&&google.maps.event.removeListener(U),O(google.maps.event.addListener(A,Qn.onClick,F)))},[F]),y.useEffect(()=>{A&&X&&(Se!==null&&google.maps.event.removeListener(Se),ye(google.maps.event.addListener(A,Qn.onClusteringBegin,X)))},[X]),y.useEffect(()=>{A&&Y&&(Q!==null&&google.maps.event.removeListener(Q),ye(google.maps.event.addListener(A,Qn.onClusteringEnd,Y)))},[Y]),y.useEffect(()=>{typeof r<"u"&&A!==null&&et.averageCenter(A,r)},[A,r]),y.useEffect(()=>{typeof a<"u"&&A!==null&&et.batchSizeIE(A,a)},[A,a]),y.useEffect(()=>{typeof l<"u"&&A!==null&&et.calculator(A,l)},[A,l]),y.useEffect(()=>{typeof c<"u"&&A!==null&&et.clusterClass(A,c)},[A,c]),y.useEffect(()=>{typeof d<"u"&&A!==null&&et.enableRetinaIcons(A,d)},[A,d]),y.useEffect(()=>{typeof p<"u"&&A!==null&&et.gridSize(A,p)},[A,p]),y.useEffect(()=>{typeof m<"u"&&A!==null&&et.ignoreHidden(A,m)},[A,m]),y.useEffect(()=>{typeof _<"u"&&A!==null&&et.imageExtension(A,_)},[A,_]),y.useEffect(()=>{typeof T<"u"&&A!==null&&et.imagePath(A,T)},[A,T]),y.useEffect(()=>{typeof S<"u"&&A!==null&&et.imageSizes(A,S)},[A,S]),y.useEffect(()=>{typeof I<"u"&&A!==null&&et.maxZoom(A,I)},[A,I]),y.useEffect(()=>{typeof R<"u"&&A!==null&&et.minimumClusterSize(A,R)},[A,R]),y.useEffect(()=>{typeof j<"u"&&A!==null&&et.styles(A,j)},[A,j]),y.useEffect(()=>{typeof k<"u"&&A!==null&&et.title(A,k)},[A,k]),y.useEffect(()=>{typeof z<"u"&&A!==null&&et.zoomOnClick(A,z)},[A,z]),y.useEffect(()=>{if(N){var he=JD({},t||eN),ne=new Vw(N,[],he);return r&&et.averageCenter(ne,r),a&&et.batchSizeIE(ne,a),l&&et.calculator(ne,l),c&&et.clusterClass(ne,c),d&&et.enableRetinaIcons(ne,d),p&&et.gridSize(ne,p),m&&et.ignoreHidden(ne,m),_&&et.imageExtension(ne,_),T&&et.imagePath(ne,T),S&&et.imageSizes(ne,S),I&&et.maxZoom(ne,I),R&&et.minimumClusterSize(ne,R),j&&et.styles(ne,j),k&&et.title(ne,k),z&&et.zoomOnClick(ne,z),ee&&Te(google.maps.event.addListener(ne,Qn.onMouseOut,ee)),H&&ie(google.maps.event.addListener(ne,Qn.onMouseOver,H)),F&&O(google.maps.event.addListener(ne,Qn.onClick,F)),X&&ye(google.maps.event.addListener(ne,Qn.onClusteringBegin,X)),Y&&ce(google.maps.event.addListener(ne,Qn.onClusteringEnd,Y)),D(ne),M&&M(ne),()=>{fe!==null&&google.maps.event.removeListener(fe),P!==null&&google.maps.event.removeListener(P),U!==null&&google.maps.event.removeListener(U),Se!==null&&google.maps.event.removeListener(Se),Q!==null&&google.maps.event.removeListener(Q),x&&x(ne)}}},[]),A!==null&&e(A)||null}y.memo(tN);class nN extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{markerClusterer:null}),re(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new Vw(this.context,[],this.props.options);this.registeredEvents=ze({updaterMap:et,eventMap:Qn,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:et,eventMap:Qn,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),Fe(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}re(nN,"contextType",Ve);function j0(i){i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation()}var Uw=function(){function i(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(i,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return i.prototype.createInfoBoxDiv=function(){var e=this,t=function(_){_.returnValue=!1,_.preventDefault&&_.preventDefault(),e.enableEventPropagation||j0(_)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var r=this.getPanes();if(r!==null&&r[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var a=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-a.left-a.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var l=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],c=0,d=l;c<d.length;c++){var p=d[c];this.eventListeners.push(google.maps.event.addListener(this.div,p,j0))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",t),google.maps.event.trigger(this,"domready")}},i.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},i.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},i.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},i.prototype.getCloseClickHandler=function(){return this.closeClickHandler},i.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var r=0,a=0,l=t.getBounds();l&&!l.contains(this.position)&&t.setCenter(this.position);var c=t.getDiv(),d=c.offsetWidth,p=c.offsetHeight,m=this.pixelOffset.width,_=this.pixelOffset.height,T=this.div.offsetWidth,S=this.div.offsetHeight,I=this.infoBoxClearance.width,R=this.infoBoxClearance.height,j=this.getProjection(),k=j.fromLatLngToContainerPixel(this.position);k!==null&&(k.x<-m+I?r=k.x+m-I:k.x+T+m+I>d&&(r=k.x+T+m+I-d),this.alignBottom?k.y<-_+R+S?a=k.y+_-R-S:k.y+_+R>p&&(a=k.y+_+R-p):k.y<-_+R?a=k.y+_-R:k.y+S+_+R>p&&(a=k.y+S+_+R-p)),r===0&&a===0||t.panBy(r,a)}}},i.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var r=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+r*100+')"',this.div.style.filter="alpha(opacity="+r*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},i.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,r=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var a=this.div.currentStyle;a&&(e.top=parseInt(a.borderTopWidth||"",10)||0,e.bottom=parseInt(a.borderBottomWidth||"",10)||0,e.left=parseInt(a.borderLeftWidth||"",10)||0,e.right=parseInt(a.borderRightWidth||"",10)||0)}return e},i.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},i.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),t=e.fromLatLngToDivPixel(this.position);t!==null&&(this.div.style.left=t.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(t.y+this.pixelOffset.height)+"px":this.div.style.top=t.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},i.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},i.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},i.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},i.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},i.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},i.prototype.getContent=function(){return this.content},i.prototype.getPosition=function(){return this.position},i.prototype.getZIndex=function(){return this.zIndex},i.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},i.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},i.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},i.prototype.open=function(e,t){var r=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",function(){var a=t.getPosition();r.setPosition(a)}),this.mapListener=google.maps.event.addListener(t,"map_changed",function(){r.setMap(t.map)})),this.setMap(e),this.div&&this.panBox()},i.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var r=t[e];google.maps.event.removeListener(r)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},i.prototype.extend=function(e,t){return(function(a){for(var l in a.prototype)Object.prototype.hasOwnProperty.call(this,l)||(this.prototype[l]=a.prototype[l]);return this}).apply(e,[t])},i}(),iN=["position"],rN=["position"];function B0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Gh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B0(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):B0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var z0={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},q0={options(i,e){i.setOptions(e)},position(i,e){e instanceof google.maps.LatLng?i.setPosition(e):i.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(i,e){i.setVisible(e)},zIndex(i,e){i.setZIndex(e)}},sN={};function aN(i){var{children:e,anchor:t,options:r,position:a,zIndex:l,onCloseClick:c,onDomReady:d,onContentChanged:p,onPositionChanged:m,onZindexChanged:_,onLoad:T,onUnmount:S}=i,I=y.useContext(Ve),[R,j]=y.useState(null),[k,z]=y.useState(null),[F,X]=y.useState(null),[Y,H]=y.useState(null),[ee,M]=y.useState(null),[x,A]=y.useState(null),D=y.useRef(null);return y.useEffect(()=>{I&&R!==null&&(R.close(),t?R.open(I,t):R.getPosition()&&R.open(I))},[I,R,t]),y.useEffect(()=>{r&&R!==null&&R.setOptions(r)},[R,r]),y.useEffect(()=>{if(a&&R!==null){var N=a instanceof google.maps.LatLng?a:new google.maps.LatLng(a.lat,a.lng);R.setPosition(N)}},[a]),y.useEffect(()=>{typeof l=="number"&&R!==null&&R.setZIndex(l)},[l]),y.useEffect(()=>{R&&c&&(k!==null&&google.maps.event.removeListener(k),z(google.maps.event.addListener(R,"closeclick",c)))},[c]),y.useEffect(()=>{R&&d&&(F!==null&&google.maps.event.removeListener(F),X(google.maps.event.addListener(R,"domready",d)))},[d]),y.useEffect(()=>{R&&p&&(Y!==null&&google.maps.event.removeListener(Y),H(google.maps.event.addListener(R,"content_changed",p)))},[p]),y.useEffect(()=>{R&&m&&(ee!==null&&google.maps.event.removeListener(ee),M(google.maps.event.addListener(R,"position_changed",m)))},[m]),y.useEffect(()=>{R&&_&&(x!==null&&google.maps.event.removeListener(x),A(google.maps.event.addListener(R,"zindex_changed",_)))},[_]),y.useEffect(()=>{if(I){var N=r||sN,{position:U}=N,O=ym(N,iN),Se;U&&!(U instanceof google.maps.LatLng)&&(Se=new google.maps.LatLng(U.lat,U.lng));var ye=new Uw(Gh(Gh({},O),Se?{position:Se}:{}));D.current=document.createElement("div"),j(ye),c&&z(google.maps.event.addListener(ye,"closeclick",c)),d&&X(google.maps.event.addListener(ye,"domready",d)),p&&H(google.maps.event.addListener(ye,"content_changed",p)),m&&M(google.maps.event.addListener(ye,"position_changed",m)),_&&A(google.maps.event.addListener(ye,"zindex_changed",_)),ye.setContent(D.current),t?ye.open(I,t):ye.getPosition()?ye.open(I):Bt(!1,"You must provide either an anchor or a position prop for <InfoBox>."),T&&T(ye)}return()=>{R!==null&&(k&&google.maps.event.removeListener(k),Y&&google.maps.event.removeListener(Y),F&&google.maps.event.removeListener(F),ee&&google.maps.event.removeListener(ee),x&&google.maps.event.removeListener(x),S&&S(R),R.close())}},[]),D.current?No.createPortal(y.Children.only(e),D.current):null}y.memo(aN);class oN extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",null),re(this,"state",{infoBox:null}),re(this,"open",(e,t)=>{t?this.context!==null&&e.open(this.context,t):e.getPosition()?this.context!==null&&e.open(this.context):Bt(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),re(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:t}=e,r=ym(e,rN),a;t&&!(t instanceof google.maps.LatLng)&&(a=new google.maps.LatLng(t.lat,t.lng));var l=new Uw(Gh(Gh({},r),a?{position:a}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=ze({updaterMap:q0,eventMap:z0,prevProps:{},nextProps:this.props,instance:l}),this.setState({infoBox:l},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:t}=this.state;t!==null&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:q0,eventMap:z0,prevProps:e,nextProps:this.props,instance:t}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:t}=this.state;t!==null&&(e&&e(t),Fe(this.registeredEvents),t.close())}render(){return this.containerElement?No.createPortal(y.Children.only(this.props.children),this.containerElement):null}}re(oN,"contextType",Ve);var Vp,H0;function lN(){return H0||(H0=1,Vp=function i(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var r,a,l;if(Array.isArray(e)){if(r=e.length,r!=t.length)return!1;for(a=r;a--!==0;)if(!i(e[a],t[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(l=Object.keys(e),r=l.length,r!==Object.keys(t).length)return!1;for(a=r;a--!==0;)if(!Object.prototype.hasOwnProperty.call(t,l[a]))return!1;for(a=r;a--!==0;){var c=l[a];if(!i(e[c],t[c]))return!1}return!0}return e!==e&&t!==t}),Vp}var uN=lN(),F0=xw(uN),G0=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],Up=1,Ql=8;class _m{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[t,r]=new Uint8Array(e,0,2);if(t!==219)throw new Error("Data does not appear to be in a KDBush format.");var a=r>>4;if(a!==Up)throw new Error("Got v".concat(a," data when expected v").concat(Up,"."));var l=G0[r&15];if(!l)throw new Error("Unrecognized array type.");var[c]=new Uint16Array(e,2,1),[d]=new Uint32Array(e,4,1);return new _m(d,c,l,e)}constructor(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,a=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=r,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var l=G0.indexOf(this.ArrayType),c=e*2*this.ArrayType.BYTES_PER_ELEMENT,d=e*this.IndexArrayType.BYTES_PER_ELEMENT,p=(8-d%8)%8;if(l<0)throw new Error("Unexpected typed array class: ".concat(r,"."));a&&a instanceof ArrayBuffer?(this.data=a,this.ids=new this.IndexArrayType(this.data,Ql,e),this.coords=new this.ArrayType(this.data,Ql+d+p,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(Ql+c+d+p),this.ids=new this.IndexArrayType(this.data,Ql,e),this.coords=new this.ArrayType(this.data,Ql+d+p,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(Up<<4)+l]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){var r=this._pos>>1;return this.ids[r]=r,this.coords[this._pos++]=e,this.coords[this._pos++]=t,r}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return vg(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,r,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:l,coords:c,nodeSize:d}=this,p=[0,l.length-1,0],m=[];p.length;){var _=p.pop()||0,T=p.pop()||0,S=p.pop()||0;if(T-S<=d){for(var I=S;I<=T;I++){var R=c[2*I],j=c[2*I+1];R>=e&&R<=r&&j>=t&&j<=a&&m.push(l[I])}continue}var k=S+T>>1,z=c[2*k],F=c[2*k+1];z>=e&&z<=r&&F>=t&&F<=a&&m.push(l[k]),(_===0?e<=z:t<=F)&&(p.push(S),p.push(k-1),p.push(1-_)),(_===0?r>=z:a>=F)&&(p.push(k+1),p.push(T),p.push(1-_))}return m}within(e,t,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:l,nodeSize:c}=this,d=[0,a.length-1,0],p=[],m=r*r;d.length;){var _=d.pop()||0,T=d.pop()||0,S=d.pop()||0;if(T-S<=c){for(var I=S;I<=T;I++)K0(l[2*I],l[2*I+1],e,t)<=m&&p.push(a[I]);continue}var R=S+T>>1,j=l[2*R],k=l[2*R+1];K0(j,k,e,t)<=m&&p.push(a[R]),(_===0?e-r<=j:t-r<=k)&&(d.push(S),d.push(R-1),d.push(1-_)),(_===0?e+r>=j:t+r>=k)&&(d.push(R+1),d.push(T),d.push(1-_))}return p}}function vg(i,e,t,r,a,l){if(!(a-r<=t)){var c=r+a>>1;jw(i,e,c,r,a,l),vg(i,e,t,r,c-1,1-l),vg(i,e,t,c+1,a,1-l)}}function jw(i,e,t,r,a,l){for(;a>r;){if(a-r>600){var c=a-r+1,d=t-r+1,p=Math.log(c),m=.5*Math.exp(2*p/3),_=.5*Math.sqrt(p*m*(c-m)/c)*(d-c/2<0?-1:1),T=Math.max(r,Math.floor(t-d*m/c+_)),S=Math.min(a,Math.floor(t+(c-d)*m/c+_));jw(i,e,t,T,S,l)}var I=e[2*t+l],R=r,j=a;for(Yl(i,e,r,t),e[2*a+l]>I&&Yl(i,e,r,a);R<j;){for(Yl(i,e,R,j),R++,j--;e[2*R+l]<I;)R++;for(;e[2*j+l]>I;)j--}e[2*r+l]===I?Yl(i,e,r,j):(j++,Yl(i,e,j,a)),j<=t&&(r=j+1),t<=j&&(a=j-1)}}function Yl(i,e,t,r){jp(i,t,r),jp(e,2*t,2*r),jp(e,2*t+1,2*r+1)}function jp(i,e,t){var r=i[e];i[e]=i[t],i[t]=r}function K0(i,e,t,r){var a=i-t,l=e-r;return a*a+l*l}var cN={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:i=>i},$0=Math.fround||(i=>e=>(i[0]=+e,i[0]))(new Float32Array(1)),Ws=2,ns=3,Bp=4,ts=5,Bw=6;class hN{constructor(e){this.options=Object.assign(Object.create(cN),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:t,minZoom:r,maxZoom:a}=this.options;t&&console.time("total time");var l="prepare ".concat(e.length," points");t&&console.time(l),this.points=e;for(var c=[],d=0;d<e.length;d++){var p=e[d];if(p.geometry){var[m,_]=p.geometry.coordinates,T=$0(rh(m)),S=$0(sh(_));c.push(T,S,1/0,d,-1,1),this.options.reduce&&c.push(0)}}var I=this.trees[a+1]=this._createTree(c);t&&console.timeEnd(l);for(var R=a;R>=r;R--){var j=+Date.now();I=this.trees[R]=this._createTree(this._cluster(I,R)),t&&console.log("z%d: %d clusters in %dms",R,I.numItems,+Date.now()-j)}return t&&console.timeEnd("total time"),this}getClusters(e,t){var r=((e[0]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[1])),l=e[2]===180?180:((e[2]+180)%360+360)%360-180,c=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)r=-180,l=180;else if(r>l){var d=this.getClusters([r,a,180,c],t),p=this.getClusters([-180,a,l,c],t);return d.concat(p)}var m=this.trees[this._limitZoom(t)],_=m.range(rh(r),sh(c),rh(l),sh(a)),T=m.data,S=[];for(var I of _){var R=this.stride*I;S.push(T[R+ts]>1?Q0(T,R,this.clusterProps):this.points[T[R+ns]])}return S}getChildren(e){var t=this._getOriginId(e),r=this._getOriginZoom(e),a="No cluster with the specified id.",l=this.trees[r];if(!l)throw new Error(a);var c=l.data;if(t*this.stride>=c.length)throw new Error(a);var d=this.options.radius/(this.options.extent*Math.pow(2,r-1)),p=c[t*this.stride],m=c[t*this.stride+1],_=l.within(p,m,d),T=[];for(var S of _){var I=S*this.stride;c[I+Bp]===e&&T.push(c[I+ts]>1?Q0(c,I,this.clusterProps):this.points[c[I+ns]])}if(T.length===0)throw new Error(a);return T}getLeaves(e,t,r){t=t||10,r=r||0;var a=[];return this._appendLeaves(a,e,t,r,0),a}getTile(e,t,r){var a=this.trees[this._limitZoom(e)],l=Math.pow(2,e),{extent:c,radius:d}=this.options,p=d/c,m=(r-p)/l,_=(r+1+p)/l,T={features:[]};return this._addTileFeatures(a.range((t-p)/l,m,(t+1+p)/l,_),a.data,t,r,l,T),t===0&&this._addTileFeatures(a.range(1-p/l,m,1,_),a.data,l,r,l,T),t===l-1&&this._addTileFeatures(a.range(0,m,p/l,_),a.data,-1,r,l,T),T.features.length?T:null}getClusterExpansionZoom(e){for(var t=this._getOriginZoom(e)-1;t<=this.options.maxZoom;){var r=this.getChildren(e);if(t++,r.length!==1)break;e=r[0].properties.cluster_id}return t}_appendLeaves(e,t,r,a,l){var c=this.getChildren(t);for(var d of c){var p=d.properties;if(p&&p.cluster?l+p.point_count<=a?l+=p.point_count:l=this._appendLeaves(e,p.cluster_id,r,a,l):l<a?l++:e.push(d),e.length===r)break}return l}_createTree(e){for(var t=new _m(e.length/this.stride|0,this.options.nodeSize,Float32Array),r=0;r<e.length;r+=this.stride)t.add(e[r],e[r+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,r,a,l,c){for(var d of e){var p=d*this.stride,m=t[p+ts]>1,_=void 0,T=void 0,S=void 0;if(m)_=zw(t,p,this.clusterProps),T=t[p],S=t[p+1];else{var I=this.points[t[p+ns]];_=I.properties;var[R,j]=I.geometry.coordinates;T=rh(R),S=sh(j)}var k={type:1,geometry:[[Math.round(this.options.extent*(T*l-r)),Math.round(this.options.extent*(S*l-a))]],tags:_},z=void 0;m||this.options.generateId?z=t[p+ns]:z=this.points[t[p+ns]].id,z!==void 0&&(k.id=z),c.features.push(k)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){for(var{radius:r,extent:a,reduce:l,minPoints:c}=this.options,d=r/(a*Math.pow(2,t)),p=e.data,m=[],_=this.stride,T=0;T<p.length;T+=_)if(!(p[T+Ws]<=t)){p[T+Ws]=t;var S=p[T],I=p[T+1],R=e.within(p[T],p[T+1],d),j=p[T+ts],k=j;for(var z of R){var F=z*_;p[F+Ws]>t&&(k+=p[F+ts])}if(k>j&&k>=c){var X=S*j,Y=I*j,H=void 0,ee=-1,M=((T/_|0)<<5)+(t+1)+this.points.length;for(var x of R){var A=x*_;if(!(p[A+Ws]<=t)){p[A+Ws]=t;var D=p[A+ts];X+=p[A]*D,Y+=p[A+1]*D,p[A+Bp]=M,l&&(H||(H=this._map(p,T,!0),ee=this.clusterProps.length,this.clusterProps.push(H)),l(H,this._map(p,A)))}}p[T+Bp]=M,m.push(X/k,Y/k,1/0,M,-1,k),l&&m.push(ee)}else{for(var N=0;N<_;N++)m.push(p[T+N]);if(k>1)for(var U of R){var O=U*_;if(!(p[O+Ws]<=t)){p[O+Ws]=t;for(var Se=0;Se<_;Se++)m.push(p[O+Se])}}}}return m}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,r){if(e[t+ts]>1){var a=this.clusterProps[e[t+Bw]];return r?Object.assign({},a):a}var l=this.points[e[t+ns]].properties,c=this.options.map(l);return r&&c===l?Object.assign({},c):c}}function Q0(i,e,t){return{type:"Feature",id:i[e+ns],properties:zw(i,e,t),geometry:{type:"Point",coordinates:[fN(i[e]),dN(i[e+1])]}}}function zw(i,e,t){var r=i[e+ts],a=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,l=i[e+Bw],c=l===-1?{}:Object.assign({},t[l]);return Object.assign(c,{cluster:!0,cluster_id:i[e+ns],point_count:r,point_count_abbreviated:a})}function rh(i){return i/360+.5}function sh(i){var e=Math.sin(i*Math.PI/180),t=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return t<0?0:t>1?1:t}function fN(i){return(i-.5)*360}function dN(i){var e=(180-i*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function pN(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(i);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(i,r[a])&&(t[r[a]]=i[r[a]]);return t}class xn{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class yg{constructor(e){var{markers:t,position:r}=e;this.markers=t,r&&(r instanceof google.maps.LatLng?this._position=r:this._position=new google.maps.LatLng(r))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var t of this.markers)e.extend(xn.getPosition(t));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>xn.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(xn.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class gN{constructor(e){var{maxZoom:t=16}=e;this.maxZoom=t}noop(e){var{markers:t}=e;return mN(t)}}var mN=i=>{var e=i.map(t=>new yg({position:xn.getPosition(t),markers:[t]}));return e};class vN extends gN{constructor(e){var{maxZoom:t,radius:r=60}=e,a=pN(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new hN(Object.assign({maxZoom:this.maxZoom,radius:r},a))}calculate(e){var t=!1,r={zoom:e.map.getZoom()};if(!F0(e.markers,this.markers)){t=!0,this.markers=[...e.markers];var a=this.markers.map(l=>{var c=xn.getPosition(l),d=[c.lng(),c.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:d},properties:{marker:l}}});this.superCluster.load(a)}return t||(this.state.zoom<=this.maxZoom||r.zoom<=this.maxZoom)&&(t=!F0(this.state,r)),this.state=r,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){var{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map(r=>this.transformCluster(r))}transformCluster(e){var{geometry:{coordinates:[t,r]},properties:a}=e;if(a.cluster)return new yg({markers:this.superCluster.getLeaves(a.cluster_id,1/0).map(c=>c.properties.marker),position:{lat:r,lng:t}});var l=a.marker;return new yg({markers:[l],position:xn.getPosition(l)})}}class yN{constructor(e,t){this.markers={sum:e.length};var r=t.map(l=>l.count),a=r.reduce((l,c)=>l+c,0);this.clusters={count:t.length,markers:{mean:a/t.length,sum:a,min:Math.min(...r),max:Math.max(...r)}}}}class _N{render(e,t,r){var{count:a,position:l}=e,c=a>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",d='<svg fill="'.concat(c,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(a,`</text>
</svg>`),p="Cluster of ".concat(a," markers"),m=Number(google.maps.Marker.MAX_ZINDEX)+a;if(xn.isAdvancedMarkerAvailable(r)){var _=new DOMParser,T=_.parseFromString(d,"image/svg+xml").documentElement;T.setAttribute("transform","translate(0 25)");var S={map:r,position:l,zIndex:m,title:p,content:T};return new google.maps.marker.AdvancedMarkerElement(S)}var I={position:l,zIndex:m,title:p,icon:{url:"data:image/svg+xml;base64,".concat(btoa(d)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(I)}}function EN(i,e){for(var t in e.prototype)i.prototype[t]=e.prototype[t]}class Em{constructor(){EN(Em,google.maps.OverlayView)}}var su;(function(i){i.CLUSTERING_BEGIN="clusteringbegin",i.CLUSTERING_END="clusteringend",i.CLUSTER_CLICK="click"})(su||(su={}));var bN=(i,e,t)=>{t.fitBounds(e.bounds)};class TN extends Em{constructor(e){var{map:t,markers:r=[],algorithmOptions:a={},algorithm:l=new vN(a),renderer:c=new _N,onClusterClick:d=bN}=e;super(),this.markers=[...r],this.clusters=[],this.algorithm=l,this.renderer=c,this.onClusterClick=d,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach(r=>{this.addMarker(r,!0)}),t||this.render()}removeMarker(e,t){var r=this.markers.indexOf(e);return r===-1?!1:(xn.setMap(e,null),this.markers.splice(r,1),t||this.render(),!0)}removeMarkers(e,t){var r=!1;return e.forEach(a=>{r=this.removeMarker(a,!0)||r}),r&&!t&&this.render(),r}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,su.CLUSTERING_BEGIN,this);var{clusters:t,changed:r}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(r||r==null){var a=new Set;for(var l of t)l.markers.length==1&&a.add(l.markers[0]);var c=[];for(var d of this.clusters)d.marker!=null&&(d.markers.length==1?a.has(d.marker)||xn.setMap(d.marker,null):c.push(d.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame(()=>c.forEach(p=>xn.setMap(p,null)))}google.maps.event.trigger(this,su.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>xn.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new yN(this.markers,this.clusters),t=this.getMap();this.clusters.forEach(r=>{r.markers.length===1?r.marker=r.markers[0]:(r.marker=this.renderer.render(r,e,t),r.markers.forEach(a=>xn.setMap(a,null)),this.onClusterClick&&r.marker.addListener("click",a=>{google.maps.event.trigger(this,su.CLUSTER_CLICK,r),this.onClusterClick(a,r,t)})),xn.setMap(r.marker,t)})}}function Y0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Z0(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Y0(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Y0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function SN(i){var e=TD(),[t,r]=y.useState(null);return y.useEffect(()=>{if(e&&t===null){var a=new TN(Z0(Z0({},i),{},{map:e}));r(a)}},[e]),t}function wN(i){var{children:e,options:t}=i,r=SN(t);return r!==null?e(r):null}y.memo(wN);var X0={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},W0={options(i,e){i.setOptions(e)},position(i,e){i.setPosition(e)},zIndex(i,e){i.setZIndex(e)}};function CN(i){var{children:e,anchor:t,options:r,position:a,zIndex:l,onCloseClick:c,onDomReady:d,onContentChanged:p,onPositionChanged:m,onZindexChanged:_,onLoad:T,onUnmount:S}=i,I=y.useContext(Ve),[R,j]=y.useState(null),[k,z]=y.useState(null),[F,X]=y.useState(null),[Y,H]=y.useState(null),[ee,M]=y.useState(null),[x,A]=y.useState(null),D=y.useRef(null);return y.useEffect(()=>{R!==null&&(R.close(),t?R.open(I,t):R.getPosition()&&R.open(I))},[I,R,t]),y.useEffect(()=>{r&&R!==null&&R.setOptions(r)},[R,r]),y.useEffect(()=>{a&&R!==null&&R.setPosition(a)},[a]),y.useEffect(()=>{typeof l=="number"&&R!==null&&R.setZIndex(l)},[l]),y.useEffect(()=>{R&&c&&(k!==null&&google.maps.event.removeListener(k),z(google.maps.event.addListener(R,"closeclick",c)))},[c]),y.useEffect(()=>{R&&d&&(F!==null&&google.maps.event.removeListener(F),X(google.maps.event.addListener(R,"domready",d)))},[d]),y.useEffect(()=>{R&&p&&(Y!==null&&google.maps.event.removeListener(Y),H(google.maps.event.addListener(R,"content_changed",p)))},[p]),y.useEffect(()=>{R&&m&&(ee!==null&&google.maps.event.removeListener(ee),M(google.maps.event.addListener(R,"position_changed",m)))},[m]),y.useEffect(()=>{R&&_&&(x!==null&&google.maps.event.removeListener(x),A(google.maps.event.addListener(R,"zindex_changed",_)))},[_]),y.useEffect(()=>{var N=new google.maps.InfoWindow(r);return j(N),D.current=document.createElement("div"),c&&z(google.maps.event.addListener(N,"closeclick",c)),d&&X(google.maps.event.addListener(N,"domready",d)),p&&H(google.maps.event.addListener(N,"content_changed",p)),m&&M(google.maps.event.addListener(N,"position_changed",m)),_&&A(google.maps.event.addListener(N,"zindex_changed",_)),N.setContent(D.current),a&&N.setPosition(a),l&&N.setZIndex(l),t?N.open(I,t):N.getPosition()?N.open(I):Bt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),T&&T(N),()=>{k&&google.maps.event.removeListener(k),Y&&google.maps.event.removeListener(Y),F&&google.maps.event.removeListener(F),ee&&google.maps.event.removeListener(ee),x&&google.maps.event.removeListener(x),S&&S(N),N.close()}},[]),D.current?No.createPortal(y.Children.only(e),D.current):null}y.memo(CN);class qw extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",null),re(this,"state",{infoWindow:null}),re(this,"open",(e,t)=>{t?e.open(this.context,t):e.getPosition()?e.open(this.context):Bt(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),re(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=ze({updaterMap:W0,eventMap:X0,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:W0,eventMap:X0,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(Fe(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?No.createPortal(y.Children.only(this.props.children),this.containerElement):null}}re(qw,"contextType",Ve);function J0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Kh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?J0(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):J0(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var eb={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},tb={draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},path(i,e){i.setPath(e)},visible(i,e){i.setVisible(e)}},AN={};function RN(i){var{options:e,draggable:t,editable:r,visible:a,path:l,onDblClick:c,onDragEnd:d,onDragStart:p,onMouseDown:m,onMouseMove:_,onMouseOut:T,onMouseOver:S,onMouseUp:I,onRightClick:R,onClick:j,onDrag:k,onLoad:z,onUnmount:F}=i,X=y.useContext(Ve),[Y,H]=y.useState(null),[ee,M]=y.useState(null),[x,A]=y.useState(null),[D,N]=y.useState(null),[U,O]=y.useState(null),[Se,ye]=y.useState(null),[Q,ce]=y.useState(null),[fe,Te]=y.useState(null),[P,ie]=y.useState(null),[he,ne]=y.useState(null),[pe,J]=y.useState(null),[ge,De]=y.useState(null);return y.useEffect(()=>{Y!==null&&Y.setMap(X)},[X]),y.useEffect(()=>{typeof e<"u"&&Y!==null&&Y.setOptions(e)},[Y,e]),y.useEffect(()=>{typeof t<"u"&&Y!==null&&Y.setDraggable(t)},[Y,t]),y.useEffect(()=>{typeof r<"u"&&Y!==null&&Y.setEditable(r)},[Y,r]),y.useEffect(()=>{typeof a<"u"&&Y!==null&&Y.setVisible(a)},[Y,a]),y.useEffect(()=>{typeof l<"u"&&Y!==null&&Y.setPath(l)},[Y,l]),y.useEffect(()=>{Y&&c&&(ee!==null&&google.maps.event.removeListener(ee),M(google.maps.event.addListener(Y,"dblclick",c)))},[c]),y.useEffect(()=>{Y&&d&&(x!==null&&google.maps.event.removeListener(x),A(google.maps.event.addListener(Y,"dragend",d)))},[d]),y.useEffect(()=>{Y&&p&&(D!==null&&google.maps.event.removeListener(D),N(google.maps.event.addListener(Y,"dragstart",p)))},[p]),y.useEffect(()=>{Y&&m&&(U!==null&&google.maps.event.removeListener(U),O(google.maps.event.addListener(Y,"mousedown",m)))},[m]),y.useEffect(()=>{Y&&_&&(Se!==null&&google.maps.event.removeListener(Se),ye(google.maps.event.addListener(Y,"mousemove",_)))},[_]),y.useEffect(()=>{Y&&T&&(Q!==null&&google.maps.event.removeListener(Q),ce(google.maps.event.addListener(Y,"mouseout",T)))},[T]),y.useEffect(()=>{Y&&S&&(fe!==null&&google.maps.event.removeListener(fe),Te(google.maps.event.addListener(Y,"mouseover",S)))},[S]),y.useEffect(()=>{Y&&I&&(P!==null&&google.maps.event.removeListener(P),ie(google.maps.event.addListener(Y,"mouseup",I)))},[I]),y.useEffect(()=>{Y&&R&&(he!==null&&google.maps.event.removeListener(he),ne(google.maps.event.addListener(Y,"rightclick",R)))},[R]),y.useEffect(()=>{Y&&j&&(pe!==null&&google.maps.event.removeListener(pe),J(google.maps.event.addListener(Y,"click",j)))},[j]),y.useEffect(()=>{Y&&k&&(ge!==null&&google.maps.event.removeListener(ge),De(google.maps.event.addListener(Y,"drag",k)))},[k]),y.useEffect(()=>{var ve=new google.maps.Polyline(Kh(Kh({},e||AN),{},{map:X}));return l&&ve.setPath(l),typeof a<"u"&&ve.setVisible(a),typeof r<"u"&&ve.setEditable(r),typeof t<"u"&&ve.setDraggable(t),c&&M(google.maps.event.addListener(ve,"dblclick",c)),d&&A(google.maps.event.addListener(ve,"dragend",d)),p&&N(google.maps.event.addListener(ve,"dragstart",p)),m&&O(google.maps.event.addListener(ve,"mousedown",m)),_&&ye(google.maps.event.addListener(ve,"mousemove",_)),T&&ce(google.maps.event.addListener(ve,"mouseout",T)),S&&Te(google.maps.event.addListener(ve,"mouseover",S)),I&&ie(google.maps.event.addListener(ve,"mouseup",I)),R&&ne(google.maps.event.addListener(ve,"rightclick",R)),j&&J(google.maps.event.addListener(ve,"click",j)),k&&De(google.maps.event.addListener(ve,"drag",k)),H(ve),z&&z(ve),()=>{ee!==null&&google.maps.event.removeListener(ee),x!==null&&google.maps.event.removeListener(x),D!==null&&google.maps.event.removeListener(D),U!==null&&google.maps.event.removeListener(U),Se!==null&&google.maps.event.removeListener(Se),Q!==null&&google.maps.event.removeListener(Q),fe!==null&&google.maps.event.removeListener(fe),P!==null&&google.maps.event.removeListener(P),he!==null&&google.maps.event.removeListener(he),pe!==null&&google.maps.event.removeListener(pe),F&&F(ve),ve.setMap(null)}},[]),null}y.memo(RN);class LN extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{polyline:null}),re(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Kh(Kh({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:tb,eventMap:eb,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:tb,eventMap:eb,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),Fe(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}re(LN,"contextType",Ve);function nb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function ib(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nb(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):nb(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var rb={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},sb={draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},path(i,e){i.setPath(e)},paths(i,e){i.setPaths(e)},visible(i,e){i.setVisible(e)}};function IN(i){var{options:e,draggable:t,editable:r,visible:a,path:l,paths:c,onDblClick:d,onDragEnd:p,onDragStart:m,onMouseDown:_,onMouseMove:T,onMouseOut:S,onMouseOver:I,onMouseUp:R,onRightClick:j,onClick:k,onDrag:z,onLoad:F,onUnmount:X,onEdit:Y}=i,H=y.useContext(Ve),[ee,M]=y.useState(null),[x,A]=y.useState(null),[D,N]=y.useState(null),[U,O]=y.useState(null),[Se,ye]=y.useState(null),[Q,ce]=y.useState(null),[fe,Te]=y.useState(null),[P,ie]=y.useState(null),[he,ne]=y.useState(null),[pe,J]=y.useState(null),[ge,De]=y.useState(null),[ve,tt]=y.useState(null);return y.useEffect(()=>{ee!==null&&ee.setMap(H)},[H]),y.useEffect(()=>{typeof e<"u"&&ee!==null&&ee.setOptions(e)},[ee,e]),y.useEffect(()=>{typeof t<"u"&&ee!==null&&ee.setDraggable(t)},[ee,t]),y.useEffect(()=>{typeof r<"u"&&ee!==null&&ee.setEditable(r)},[ee,r]),y.useEffect(()=>{typeof a<"u"&&ee!==null&&ee.setVisible(a)},[ee,a]),y.useEffect(()=>{typeof l<"u"&&ee!==null&&ee.setPath(l)},[ee,l]),y.useEffect(()=>{typeof c<"u"&&ee!==null&&ee.setPaths(c)},[ee,c]),y.useEffect(()=>{ee&&typeof d=="function"&&(x!==null&&google.maps.event.removeListener(x),A(google.maps.event.addListener(ee,"dblclick",d)))},[d]),y.useEffect(()=>{ee&&(google.maps.event.addListener(ee.getPath(),"insert_at",()=>{Y==null||Y(ee)}),google.maps.event.addListener(ee.getPath(),"set_at",()=>{Y==null||Y(ee)}),google.maps.event.addListener(ee.getPath(),"remove_at",()=>{Y==null||Y(ee)}))},[ee,Y]),y.useEffect(()=>{ee&&typeof p=="function"&&(D!==null&&google.maps.event.removeListener(D),N(google.maps.event.addListener(ee,"dragend",p)))},[p]),y.useEffect(()=>{ee&&typeof m=="function"&&(U!==null&&google.maps.event.removeListener(U),O(google.maps.event.addListener(ee,"dragstart",m)))},[m]),y.useEffect(()=>{ee&&typeof _=="function"&&(Se!==null&&google.maps.event.removeListener(Se),ye(google.maps.event.addListener(ee,"mousedown",_)))},[_]),y.useEffect(()=>{ee&&typeof T=="function"&&(Q!==null&&google.maps.event.removeListener(Q),ce(google.maps.event.addListener(ee,"mousemove",T)))},[T]),y.useEffect(()=>{ee&&typeof S=="function"&&(fe!==null&&google.maps.event.removeListener(fe),Te(google.maps.event.addListener(ee,"mouseout",S)))},[S]),y.useEffect(()=>{ee&&typeof I=="function"&&(P!==null&&google.maps.event.removeListener(P),ie(google.maps.event.addListener(ee,"mouseover",I)))},[I]),y.useEffect(()=>{ee&&typeof R=="function"&&(he!==null&&google.maps.event.removeListener(he),ne(google.maps.event.addListener(ee,"mouseup",R)))},[R]),y.useEffect(()=>{ee&&typeof j=="function"&&(pe!==null&&google.maps.event.removeListener(pe),J(google.maps.event.addListener(ee,"rightclick",j)))},[j]),y.useEffect(()=>{ee&&typeof k=="function"&&(ge!==null&&google.maps.event.removeListener(ge),De(google.maps.event.addListener(ee,"click",k)))},[k]),y.useEffect(()=>{ee&&typeof z=="function"&&(ve!==null&&google.maps.event.removeListener(ve),tt(google.maps.event.addListener(ee,"drag",z)))},[z]),y.useEffect(()=>{var we=new google.maps.Polygon(ib(ib({},e),{},{map:H}));return l&&we.setPath(l),c&&we.setPaths(c),typeof a<"u"&&we.setVisible(a),typeof r<"u"&&we.setEditable(r),typeof t<"u"&&we.setDraggable(t),d&&A(google.maps.event.addListener(we,"dblclick",d)),p&&N(google.maps.event.addListener(we,"dragend",p)),m&&O(google.maps.event.addListener(we,"dragstart",m)),_&&ye(google.maps.event.addListener(we,"mousedown",_)),T&&ce(google.maps.event.addListener(we,"mousemove",T)),S&&Te(google.maps.event.addListener(we,"mouseout",S)),I&&ie(google.maps.event.addListener(we,"mouseover",I)),R&&ne(google.maps.event.addListener(we,"mouseup",R)),j&&J(google.maps.event.addListener(we,"rightclick",j)),k&&De(google.maps.event.addListener(we,"click",k)),z&&tt(google.maps.event.addListener(we,"drag",z)),M(we),F&&F(we),()=>{x!==null&&google.maps.event.removeListener(x),D!==null&&google.maps.event.removeListener(D),U!==null&&google.maps.event.removeListener(U),Se!==null&&google.maps.event.removeListener(Se),Q!==null&&google.maps.event.removeListener(Q),fe!==null&&google.maps.event.removeListener(fe),P!==null&&google.maps.event.removeListener(P),he!==null&&google.maps.event.removeListener(he),pe!==null&&google.maps.event.removeListener(pe),ge!==null&&google.maps.event.removeListener(ge),X&&X(we),we.setMap(null)}},[]),null}y.memo(IN);class xN extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=ze({updaterMap:sb,eventMap:rb,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:sb,eventMap:rb,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),Fe(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}}re(xN,"contextType",Ve);function ab(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function $h(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ab(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ab(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var ob={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},lb={bounds(i,e){i.setBounds(e)},draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},visible(i,e){i.setVisible(e)}};function MN(i){var{options:e,bounds:t,draggable:r,editable:a,visible:l,onDblClick:c,onDragEnd:d,onDragStart:p,onMouseDown:m,onMouseMove:_,onMouseOut:T,onMouseOver:S,onMouseUp:I,onRightClick:R,onClick:j,onDrag:k,onBoundsChanged:z,onLoad:F,onUnmount:X}=i,Y=y.useContext(Ve),[H,ee]=y.useState(null),[M,x]=y.useState(null),[A,D]=y.useState(null),[N,U]=y.useState(null),[O,Se]=y.useState(null),[ye,Q]=y.useState(null),[ce,fe]=y.useState(null),[Te,P]=y.useState(null),[ie,he]=y.useState(null),[ne,pe]=y.useState(null),[J,ge]=y.useState(null),[De,ve]=y.useState(null),[tt,we]=y.useState(null);return y.useEffect(()=>{H!==null&&H.setMap(Y)},[Y]),y.useEffect(()=>{typeof e<"u"&&H!==null&&H.setOptions(e)},[H,e]),y.useEffect(()=>{typeof r<"u"&&H!==null&&H.setDraggable(r)},[H,r]),y.useEffect(()=>{typeof a<"u"&&H!==null&&H.setEditable(a)},[H,a]),y.useEffect(()=>{typeof l<"u"&&H!==null&&H.setVisible(l)},[H,l]),y.useEffect(()=>{typeof t<"u"&&H!==null&&H.setBounds(t)},[H,t]),y.useEffect(()=>{H&&c&&(M!==null&&google.maps.event.removeListener(M),x(google.maps.event.addListener(H,"dblclick",c)))},[c]),y.useEffect(()=>{H&&d&&(A!==null&&google.maps.event.removeListener(A),D(google.maps.event.addListener(H,"dragend",d)))},[d]),y.useEffect(()=>{H&&p&&(N!==null&&google.maps.event.removeListener(N),U(google.maps.event.addListener(H,"dragstart",p)))},[p]),y.useEffect(()=>{H&&m&&(O!==null&&google.maps.event.removeListener(O),Se(google.maps.event.addListener(H,"mousedown",m)))},[m]),y.useEffect(()=>{H&&_&&(ye!==null&&google.maps.event.removeListener(ye),Q(google.maps.event.addListener(H,"mousemove",_)))},[_]),y.useEffect(()=>{H&&T&&(ce!==null&&google.maps.event.removeListener(ce),fe(google.maps.event.addListener(H,"mouseout",T)))},[T]),y.useEffect(()=>{H&&S&&(Te!==null&&google.maps.event.removeListener(Te),P(google.maps.event.addListener(H,"mouseover",S)))},[S]),y.useEffect(()=>{H&&I&&(ie!==null&&google.maps.event.removeListener(ie),he(google.maps.event.addListener(H,"mouseup",I)))},[I]),y.useEffect(()=>{H&&R&&(ne!==null&&google.maps.event.removeListener(ne),pe(google.maps.event.addListener(H,"rightclick",R)))},[R]),y.useEffect(()=>{H&&j&&(J!==null&&google.maps.event.removeListener(J),ge(google.maps.event.addListener(H,"click",j)))},[j]),y.useEffect(()=>{H&&k&&(De!==null&&google.maps.event.removeListener(De),ve(google.maps.event.addListener(H,"drag",k)))},[k]),y.useEffect(()=>{H&&z&&(tt!==null&&google.maps.event.removeListener(tt),we(google.maps.event.addListener(H,"bounds_changed",z)))},[z]),y.useEffect(()=>{var Pe=new google.maps.Rectangle($h($h({},e),{},{map:Y}));return typeof l<"u"&&Pe.setVisible(l),typeof a<"u"&&Pe.setEditable(a),typeof r<"u"&&Pe.setDraggable(r),typeof t<"u"&&Pe.setBounds(t),c&&x(google.maps.event.addListener(Pe,"dblclick",c)),d&&D(google.maps.event.addListener(Pe,"dragend",d)),p&&U(google.maps.event.addListener(Pe,"dragstart",p)),m&&Se(google.maps.event.addListener(Pe,"mousedown",m)),_&&Q(google.maps.event.addListener(Pe,"mousemove",_)),T&&fe(google.maps.event.addListener(Pe,"mouseout",T)),S&&P(google.maps.event.addListener(Pe,"mouseover",S)),I&&he(google.maps.event.addListener(Pe,"mouseup",I)),R&&pe(google.maps.event.addListener(Pe,"rightclick",R)),j&&ge(google.maps.event.addListener(Pe,"click",j)),k&&ve(google.maps.event.addListener(Pe,"drag",k)),z&&we(google.maps.event.addListener(Pe,"bounds_changed",z)),ee(Pe),F&&F(Pe),()=>{M!==null&&google.maps.event.removeListener(M),A!==null&&google.maps.event.removeListener(A),N!==null&&google.maps.event.removeListener(N),O!==null&&google.maps.event.removeListener(O),ye!==null&&google.maps.event.removeListener(ye),ce!==null&&google.maps.event.removeListener(ce),Te!==null&&google.maps.event.removeListener(Te),ie!==null&&google.maps.event.removeListener(ie),ne!==null&&google.maps.event.removeListener(ne),J!==null&&google.maps.event.removeListener(J),De!==null&&google.maps.event.removeListener(De),tt!==null&&google.maps.event.removeListener(tt),X&&X(Pe),Pe.setMap(null)}},[]),null}y.memo(MN);class ON extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{rectangle:null}),re(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle($h($h({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:lb,eventMap:ob,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:lb,eventMap:ob,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),Fe(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}}re(ON,"contextType",Ve);function ub(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Qh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ub(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):ub(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var cb={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},hb={center(i,e){i.setCenter(e)},draggable(i,e){i.setDraggable(e)},editable(i,e){i.setEditable(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},radius(i,e){i.setRadius(e)},visible(i,e){i.setVisible(e)}},DN={};function NN(i){var{options:e,center:t,radius:r,draggable:a,editable:l,visible:c,onDblClick:d,onDragEnd:p,onDragStart:m,onMouseDown:_,onMouseMove:T,onMouseOut:S,onMouseOver:I,onMouseUp:R,onRightClick:j,onClick:k,onDrag:z,onCenterChanged:F,onRadiusChanged:X,onLoad:Y,onUnmount:H}=i,ee=y.useContext(Ve),[M,x]=y.useState(null),[A,D]=y.useState(null),[N,U]=y.useState(null),[O,Se]=y.useState(null),[ye,Q]=y.useState(null),[ce,fe]=y.useState(null),[Te,P]=y.useState(null),[ie,he]=y.useState(null),[ne,pe]=y.useState(null),[J,ge]=y.useState(null),[De,ve]=y.useState(null),[tt,we]=y.useState(null),[Pe,Dt]=y.useState(null),[$t,En]=y.useState(null);return y.useEffect(()=>{M!==null&&M.setMap(ee)},[ee]),y.useEffect(()=>{typeof e<"u"&&M!==null&&M.setOptions(e)},[M,e]),y.useEffect(()=>{typeof a<"u"&&M!==null&&M.setDraggable(a)},[M,a]),y.useEffect(()=>{typeof l<"u"&&M!==null&&M.setEditable(l)},[M,l]),y.useEffect(()=>{typeof c<"u"&&M!==null&&M.setVisible(c)},[M,c]),y.useEffect(()=>{typeof r=="number"&&M!==null&&M.setRadius(r)},[M,r]),y.useEffect(()=>{typeof t<"u"&&M!==null&&M.setCenter(t)},[M,t]),y.useEffect(()=>{M&&d&&(A!==null&&google.maps.event.removeListener(A),D(google.maps.event.addListener(M,"dblclick",d)))},[d]),y.useEffect(()=>{M&&p&&(N!==null&&google.maps.event.removeListener(N),U(google.maps.event.addListener(M,"dragend",p)))},[p]),y.useEffect(()=>{M&&m&&(O!==null&&google.maps.event.removeListener(O),Se(google.maps.event.addListener(M,"dragstart",m)))},[m]),y.useEffect(()=>{M&&_&&(ye!==null&&google.maps.event.removeListener(ye),Q(google.maps.event.addListener(M,"mousedown",_)))},[_]),y.useEffect(()=>{M&&T&&(ce!==null&&google.maps.event.removeListener(ce),fe(google.maps.event.addListener(M,"mousemove",T)))},[T]),y.useEffect(()=>{M&&S&&(Te!==null&&google.maps.event.removeListener(Te),P(google.maps.event.addListener(M,"mouseout",S)))},[S]),y.useEffect(()=>{M&&I&&(ie!==null&&google.maps.event.removeListener(ie),he(google.maps.event.addListener(M,"mouseover",I)))},[I]),y.useEffect(()=>{M&&R&&(ne!==null&&google.maps.event.removeListener(ne),pe(google.maps.event.addListener(M,"mouseup",R)))},[R]),y.useEffect(()=>{M&&j&&(J!==null&&google.maps.event.removeListener(J),ge(google.maps.event.addListener(M,"rightclick",j)))},[j]),y.useEffect(()=>{M&&k&&(De!==null&&google.maps.event.removeListener(De),ve(google.maps.event.addListener(M,"click",k)))},[k]),y.useEffect(()=>{M&&z&&(tt!==null&&google.maps.event.removeListener(tt),we(google.maps.event.addListener(M,"drag",z)))},[z]),y.useEffect(()=>{M&&F&&(Pe!==null&&google.maps.event.removeListener(Pe),Dt(google.maps.event.addListener(M,"center_changed",F)))},[k]),y.useEffect(()=>{M&&X&&($t!==null&&google.maps.event.removeListener($t),En(google.maps.event.addListener(M,"radius_changed",X)))},[X]),y.useEffect(()=>{var $e=new google.maps.Circle(Qh(Qh({},e||DN),{},{map:ee}));return typeof r=="number"&&$e.setRadius(r),typeof t<"u"&&$e.setCenter(t),typeof r=="number"&&$e.setRadius(r),typeof c<"u"&&$e.setVisible(c),typeof l<"u"&&$e.setEditable(l),typeof a<"u"&&$e.setDraggable(a),d&&D(google.maps.event.addListener($e,"dblclick",d)),p&&U(google.maps.event.addListener($e,"dragend",p)),m&&Se(google.maps.event.addListener($e,"dragstart",m)),_&&Q(google.maps.event.addListener($e,"mousedown",_)),T&&fe(google.maps.event.addListener($e,"mousemove",T)),S&&P(google.maps.event.addListener($e,"mouseout",S)),I&&he(google.maps.event.addListener($e,"mouseover",I)),R&&pe(google.maps.event.addListener($e,"mouseup",R)),j&&ge(google.maps.event.addListener($e,"rightclick",j)),k&&ve(google.maps.event.addListener($e,"click",k)),z&&we(google.maps.event.addListener($e,"drag",z)),F&&Dt(google.maps.event.addListener($e,"center_changed",F)),X&&En(google.maps.event.addListener($e,"radius_changed",X)),x($e),Y&&Y($e),()=>{A!==null&&google.maps.event.removeListener(A),N!==null&&google.maps.event.removeListener(N),O!==null&&google.maps.event.removeListener(O),ye!==null&&google.maps.event.removeListener(ye),ce!==null&&google.maps.event.removeListener(ce),Te!==null&&google.maps.event.removeListener(Te),ie!==null&&google.maps.event.removeListener(ie),ne!==null&&google.maps.event.removeListener(ne),J!==null&&google.maps.event.removeListener(J),De!==null&&google.maps.event.removeListener(De),Pe!==null&&google.maps.event.removeListener(Pe),$t!==null&&google.maps.event.removeListener($t),H&&H($e),$e.setMap(null)}},[]),null}y.memo(NN);class PN extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{circle:null}),re(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(Qh(Qh({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:hb,eventMap:cb,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:hb,eventMap:cb,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),Fe(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}re(PN,"contextType",Ve);function fb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Yh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?fb(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):fb(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var db={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},pb={add(i,e){i.add(e)},addgeojson(i,e,t){i.addGeoJson(e,t)},contains(i,e){i.contains(e)},foreach(i,e){i.forEach(e)},loadgeojson(i,e,t,r){i.loadGeoJson(e,t,r)},overridestyle(i,e,t){i.overrideStyle(e,t)},remove(i,e){i.remove(e)},revertstyle(i,e){i.revertStyle(e)},controlposition(i,e){i.setControlPosition(e)},controls(i,e){i.setControls(e)},drawingmode(i,e){i.setDrawingMode(e)},map(i,e){i.setMap(e)},style(i,e){i.setStyle(e)},togeojson(i,e){i.toGeoJson(e)}};function kN(i){var{options:e,onClick:t,onDblClick:r,onMouseDown:a,onMouseMove:l,onMouseOut:c,onMouseOver:d,onMouseUp:p,onRightClick:m,onAddFeature:_,onRemoveFeature:T,onRemoveProperty:S,onSetGeometry:I,onSetProperty:R,onLoad:j,onUnmount:k}=i,z=y.useContext(Ve),[F,X]=y.useState(null),[Y,H]=y.useState(null),[ee,M]=y.useState(null),[x,A]=y.useState(null),[D,N]=y.useState(null),[U,O]=y.useState(null),[Se,ye]=y.useState(null),[Q,ce]=y.useState(null),[fe,Te]=y.useState(null),[P,ie]=y.useState(null),[he,ne]=y.useState(null),[pe,J]=y.useState(null),[ge,De]=y.useState(null),[ve,tt]=y.useState(null);return y.useEffect(()=>{F!==null&&F.setMap(z)},[z]),y.useEffect(()=>{F&&r&&(Y!==null&&google.maps.event.removeListener(Y),H(google.maps.event.addListener(F,"dblclick",r)))},[r]),y.useEffect(()=>{F&&a&&(ee!==null&&google.maps.event.removeListener(ee),M(google.maps.event.addListener(F,"mousedown",a)))},[a]),y.useEffect(()=>{F&&l&&(x!==null&&google.maps.event.removeListener(x),A(google.maps.event.addListener(F,"mousemove",l)))},[l]),y.useEffect(()=>{F&&c&&(D!==null&&google.maps.event.removeListener(D),N(google.maps.event.addListener(F,"mouseout",c)))},[c]),y.useEffect(()=>{F&&d&&(U!==null&&google.maps.event.removeListener(U),O(google.maps.event.addListener(F,"mouseover",d)))},[d]),y.useEffect(()=>{F&&p&&(Se!==null&&google.maps.event.removeListener(Se),ye(google.maps.event.addListener(F,"mouseup",p)))},[p]),y.useEffect(()=>{F&&m&&(Q!==null&&google.maps.event.removeListener(Q),ce(google.maps.event.addListener(F,"rightclick",m)))},[m]),y.useEffect(()=>{F&&t&&(fe!==null&&google.maps.event.removeListener(fe),Te(google.maps.event.addListener(F,"click",t)))},[t]),y.useEffect(()=>{F&&_&&(P!==null&&google.maps.event.removeListener(P),ie(google.maps.event.addListener(F,"addfeature",_)))},[_]),y.useEffect(()=>{F&&T&&(he!==null&&google.maps.event.removeListener(he),ne(google.maps.event.addListener(F,"removefeature",T)))},[T]),y.useEffect(()=>{F&&S&&(pe!==null&&google.maps.event.removeListener(pe),J(google.maps.event.addListener(F,"removeproperty",S)))},[S]),y.useEffect(()=>{F&&I&&(ge!==null&&google.maps.event.removeListener(ge),De(google.maps.event.addListener(F,"setgeometry",I)))},[I]),y.useEffect(()=>{F&&R&&(ve!==null&&google.maps.event.removeListener(ve),tt(google.maps.event.addListener(F,"setproperty",R)))},[R]),y.useEffect(()=>{if(z!==null){var we=new google.maps.Data(Yh(Yh({},e),{},{map:z}));r&&H(google.maps.event.addListener(we,"dblclick",r)),a&&M(google.maps.event.addListener(we,"mousedown",a)),l&&A(google.maps.event.addListener(we,"mousemove",l)),c&&N(google.maps.event.addListener(we,"mouseout",c)),d&&O(google.maps.event.addListener(we,"mouseover",d)),p&&ye(google.maps.event.addListener(we,"mouseup",p)),m&&ce(google.maps.event.addListener(we,"rightclick",m)),t&&Te(google.maps.event.addListener(we,"click",t)),_&&ie(google.maps.event.addListener(we,"addfeature",_)),T&&ne(google.maps.event.addListener(we,"removefeature",T)),S&&J(google.maps.event.addListener(we,"removeproperty",S)),I&&De(google.maps.event.addListener(we,"setgeometry",I)),R&&tt(google.maps.event.addListener(we,"setproperty",R)),X(we),j&&j(we)}return()=>{F&&(Y!==null&&google.maps.event.removeListener(Y),ee!==null&&google.maps.event.removeListener(ee),x!==null&&google.maps.event.removeListener(x),D!==null&&google.maps.event.removeListener(D),U!==null&&google.maps.event.removeListener(U),Se!==null&&google.maps.event.removeListener(Se),Q!==null&&google.maps.event.removeListener(Q),fe!==null&&google.maps.event.removeListener(fe),P!==null&&google.maps.event.removeListener(P),he!==null&&google.maps.event.removeListener(he),pe!==null&&google.maps.event.removeListener(pe),ge!==null&&google.maps.event.removeListener(ge),ve!==null&&google.maps.event.removeListener(ve),k&&k(F),F.setMap(null))}},[]),null}y.memo(kN);class VN extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{data:null}),re(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(Yh(Yh({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:pb,eventMap:db,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:pb,eventMap:db,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),Fe(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}re(VN,"contextType",Ve);function gb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function mb(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?gb(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):gb(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var vb={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},yb={options(i,e){i.setOptions(e)},url(i,e){i.setUrl(e)},zIndex(i,e){i.setZIndex(e)}};class UN extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{kmlLayer:null}),re(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(mb(mb({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:yb,eventMap:vb,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:yb,eventMap:vb,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),Fe(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}re(UN,"contextType",Ve);function Hw(i,e){return typeof e=="function"?e(i.offsetWidth,i.offsetHeight):{x:0,y:0}}function jN(i,e){return new e(i.lat,i.lng)}function BN(i,e){return new e(new google.maps.LatLng(i.ne.lat,i.ne.lng),new google.maps.LatLng(i.sw.lat,i.sw.lng))}function zN(i,e,t){return i instanceof e?i:t(i,e)}function qN(i,e,t){return i instanceof e?i:t(i,e)}function HN(i,e,t){var r=i&&i.fromLatLngToDivPixel(t.getNorthEast()),a=i&&i.fromLatLngToDivPixel(t.getSouthWest());return r&&a?{left:"".concat(a.x+e.x,"px"),top:"".concat(r.y+e.y,"px"),width:"".concat(r.x-a.x-e.x,"px"),height:"".concat(a.y-r.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function FN(i,e,t){var r=i&&i.fromLatLngToDivPixel(t);if(r){var{x:a,y:l}=r;return{left:"".concat(a+e.x,"px"),top:"".concat(l+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function Fw(i,e,t,r){return t!==void 0?HN(i,e,qN(t,google.maps.LatLngBounds,BN)):FN(i,e,zN(r,google.maps.LatLng,jN))}function GN(i,e){return i.left===e.left&&i.top===e.top&&i.width===e.height&&i.height===e.height}function _b(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function KN(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_b(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):_b(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function $N(i,e,t,r,a){class l extends google.maps.OverlayView{constructor(d,p,m,_){super(),this.container=d,this.pane=p,this.position=m,this.bounds=_}onAdd(){var d,p=(d=this.getPanes())===null||d===void 0?void 0:d[this.pane];p==null||p.appendChild(this.container)}draw(){var d=this.getProjection(),p=KN({},this.container?Hw(this.container,a):{x:0,y:0}),m=Fw(d,p,this.bounds,this.position);for(var[_,T]of Object.entries(m))this.container.style[_]=T}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new l(i,e,t,r)}function Eb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function QN(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Eb(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Eb(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function bb(i){if(!i)return"";var e=i instanceof google.maps.LatLng?i:new google.maps.LatLng(i.lat,i.lng);return e+""}function Tb(i){if(!i)return"";var e=i instanceof google.maps.LatLngBounds?i:new google.maps.LatLngBounds(new google.maps.LatLng(i.south,i.east),new google.maps.LatLng(i.north,i.west));return e+""}function YN(i){var{position:e,bounds:t,mapPaneName:r,zIndex:a,onLoad:l,onUnmount:c,getPixelPositionOffset:d,children:p}=i,m=y.useContext(Ve),_=y.useMemo(()=>{var S=document.createElement("div");return S.style.position="absolute",S},[]),T=y.useMemo(()=>$N(_,r,e,t,d),[_,r,e,t]);return y.useEffect(()=>(l==null||l(T),T==null||T.setMap(m),()=>{c==null||c(T),T==null||T.setMap(null)}),[m,T]),y.useEffect(()=>{_.style.zIndex="".concat(a)},[a,_]),No.createPortal(p,_)}y.memo(YN);class qo extends y.PureComponent{constructor(e){super(e),re(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),re(this,"updatePane",()=>{var r=this.props.mapPaneName,a=this.overlayView.getPanes();Bt(!!r,"OverlayView requires props.mapPaneName but got %s",r),a?this.setState({paneEl:a[r]}):this.setState({paneEl:null})}),re(this,"onAdd",()=>{var r,a;this.updatePane(),(r=(a=this.props).onLoad)===null||r===void 0||r.call(a,this.overlayView)}),re(this,"onPositionElement",()=>{var r=this.overlayView.getProjection(),a=QN({x:0,y:0},this.containerRef.current?Hw(this.containerRef.current,this.props.getPixelPositionOffset):{}),l=Fw(r,a,this.props.bounds,this.props.position);if(!GN(l,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var c,d,p,m;this.setState({containerStyle:{top:(c=l.top)!==null&&c!==void 0?c:0,left:(d=l.left)!==null&&d!==void 0?d:0,width:(p=l.width)!==null&&p!==void 0?p:0,height:(m=l.height)!==null&&m!==void 0?m:0,position:"absolute"}})}}),re(this,"draw",()=>{this.onPositionElement()}),re(this,"onRemove",()=>{var r,a;this.setState(()=>({paneEl:null})),(r=(a=this.props).onUnmount)===null||r===void 0||r.call(a,this.overlayView)}),this.containerRef=y.createRef();var t=new google.maps.OverlayView;t.onAdd=this.onAdd,t.draw=this.draw,t.onRemove=this.onRemove,this.overlayView=t}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var t=bb(e.position),r=bb(this.props.position),a=Tb(e.bounds),l=Tb(this.props.bounds);(t!==r||a!==l)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?No.createPortal(w.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:y.Children.only(this.props.children)}),e):null}}re(qo,"FLOAT_PANE","floatPane");re(qo,"MAP_PANE","mapPane");re(qo,"MARKER_LAYER","markerLayer");re(qo,"OVERLAY_LAYER","overlayLayer");re(qo,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");re(qo,"contextType",Ve);function ZN(){}function Sb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function wb(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Sb(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Sb(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Cb={onDblClick:"dblclick",onClick:"click"},Ab={opacity(i,e){i.setOpacity(e)}};function XN(i){var{url:e,bounds:t,options:r,visible:a}=i,l=y.useContext(Ve),c=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east)),d=y.useMemo(()=>new google.maps.GroundOverlay(e,c,r),[]);return y.useEffect(()=>{d!==null&&d.setMap(l)},[l]),y.useEffect(()=>{typeof e<"u"&&d!==null&&(d.set("url",e),d.setMap(l))},[d,e]),y.useEffect(()=>{typeof a<"u"&&d!==null&&d.setOpacity(a?1:0)},[d,a]),y.useEffect(()=>{var p=new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.west),new google.maps.LatLng(t.north,t.east));typeof t<"u"&&d!==null&&(d.set("bounds",p),d.setMap(l))},[d,t]),null}y.memo(XN);class Gw extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{groundOverlay:null}),re(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){Bt(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,wb(wb({},this.props.options),{},{map:this.context}));this.registeredEvents=ze({updaterMap:Ab,eventMap:Cb,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:Ab,eventMap:Cb,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}re(Gw,"defaultProps",{onLoad:ZN});re(Gw,"contextType",Ve);function Rb(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function Zh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Rb(Object(t),!0).forEach(function(r){re(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):Rb(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var Lb={},Ib={data(i,e){i.setData(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)}};function WN(i){var{data:e,onLoad:t,onUnmount:r,options:a}=i,l=y.useContext(Ve),[c,d]=y.useState(null);return y.useEffect(()=>{google.maps.visualization||Bt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),y.useEffect(()=>{Bt(!!e,"data property is required in HeatmapLayer %s",e)},[e]),y.useEffect(()=>{c!==null&&c.setMap(l)},[l]),y.useEffect(()=>{a&&c!==null&&c.setOptions(a)},[c,a]),y.useEffect(()=>{var p=new google.maps.visualization.HeatmapLayer(Zh(Zh({},a),{},{data:e,map:l}));return d(p),t&&t(p),()=>{c!==null&&(r&&r(c),c.setMap(null))}},[]),null}y.memo(WN);class JN extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{heatmapLayer:null}),re(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){Bt(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),Bt(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(Zh(Zh({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=ze({updaterMap:Ib,eventMap:Lb,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:Ib,eventMap:Lb,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),Fe(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}re(JN,"contextType",Ve);var xb={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},Mb={register(i,e,t){i.registerPanoProvider(e,t)},links(i,e){i.setLinks(e)},motionTracking(i,e){i.setMotionTracking(e)},options(i,e){i.setOptions(e)},pano(i,e){i.setPano(e)},position(i,e){i.setPosition(e)},pov(i,e){i.setPov(e)},visible(i,e){i.setVisible(e)},zoom(i,e){i.setZoom(e)}};class eP extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{streetViewPanorama:null}),re(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,t,r=(e=(t=this.context)===null||t===void 0?void 0:t.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=ze({updaterMap:Mb,eventMap:xb,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({streetViewPanorama:r}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:Mb,eventMap:xb,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),Fe(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}re(eP,"contextType",Ve);class tP extends y.PureComponent{constructor(){super(...arguments),re(this,"state",{streetViewService:null}),re(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}re(tP,"contextType",Ve);var Ob={onDirectionsChanged:"directions_changed"},Db={directions(i,e){i.setDirections(e)},map(i,e){i.setMap(e)},options(i,e){i.setOptions(e)},panel(i,e){i.setPanel(e)},routeIndex(i,e){i.setRouteIndex(e)}};class nP extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"state",{directionsRenderer:null}),re(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=ze({updaterMap:Db,eventMap:Ob,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:Db,eventMap:Ob,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),Fe(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}re(nP,"contextType",Ve);var Nb={onPlacesChanged:"places_changed"},Pb={bounds(i,e){i.setBounds(e)}};class iP extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",y.createRef()),re(this,"state",{searchBox:null}),re(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(Bt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=ze({updaterMap:Pb,eventMap:Nb,prevProps:{},nextProps:this.props,instance:t}),this.setState(function(){return{searchBox:t}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:Pb,eventMap:Nb,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),Fe(this.registeredEvents))}render(){return w.jsx("div",{ref:this.containerElement,children:y.Children.only(this.props.children)})}}re(iP,"contextType",Ve);var kb={onPlaceChanged:"place_changed"},Vb={bounds(i,e){i.setBounds(e)},restrictions(i,e){i.setComponentRestrictions(e)},fields(i,e){i.setFields(e)},options(i,e){i.setOptions(e)},types(i,e){i.setTypes(e)}};class Kw extends y.PureComponent{constructor(){super(...arguments),re(this,"registeredEvents",[]),re(this,"containerElement",y.createRef()),re(this,"state",{autocomplete:null}),re(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;Bt(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(t){var r=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=ze({updaterMap:Vb,eventMap:kb,prevProps:{},nextProps:this.props,instance:r}),this.setState(()=>({autocomplete:r}),this.setAutocompleteCallback)}}componentDidUpdate(e){Fe(this.registeredEvents),this.registeredEvents=ze({updaterMap:Vb,eventMap:kb,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&Fe(this.registeredEvents)}render(){return w.jsx("div",{ref:this.containerElement,className:this.props.className,children:y.Children.only(this.props.children)})}}re(Kw,"defaultProps",{className:""});re(Kw,"contextType",Ve);const rP={width:"100%",height:"70vh"},Zl={lat:28.6139,lng:77.209},sP=["places"],aP=()=>{const[i,e]=y.useState(null),[t,r]=y.useState([]),[a,l]=y.useState(null),[c,d]=y.useState(!0),[p,m]=y.useState(""),_="AIzaSyCcPcUqqsRmxLmP8N5FFv-bNeovcf_7qx0";y.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(S=>{e({lat:S.coords.latitude,lng:S.coords.longitude}),T(S.coords.latitude,S.coords.longitude)},S=>{console.error("Error getting location: ",S),m("Couldn't get your location. Showing default locations."),T(Zl.lat,Zl.lng)}):(m("Geolocation is not supported by your browser. Showing default locations."),T(Zl.lat,Zl.lng))},[]);const T=(S,I)=>{d(!0);const R=[{id:1,name:"Red Cross Blood Bank",location:{lat:S+.01,lng:I+.01},address:"123 Health Street, Medical Complex",contact:"+91 9876543210",hours:"9:00 AM - 7:00 PM"},{id:2,name:"LifeBlood Center",location:{lat:S-.01,lng:I-.01},address:"456 Donation Road, Health District",contact:"+91 9876543211",hours:"8:00 AM - 6:00 PM"},{id:3,name:"City Blood Services",location:{lat:S+.02,lng:I-.005},address:"789 Care Avenue, Civic Center",contact:"+91 9876543212",hours:"10:00 AM - 8:00 PM"}];setTimeout(()=>{r(R),d(!1)},1e3)};return w.jsxs("div",{className:"find-center-container",children:[w.jsxs("div",{className:"header",children:[w.jsx("h1",{children:"Find Nearby Blood Banks"}),w.jsx("p",{children:"Locate the closest blood donation centers in your area"})]}),p&&w.jsx("div",{className:"error-message",children:p}),w.jsx("div",{className:"map-container",children:c?w.jsxs("div",{className:"loading-spinner",children:[w.jsx("div",{className:"spinner"}),w.jsx("p",{children:"Finding blood banks near you..."})]}):w.jsx(kw,{googleMapsApiKey:_,libraries:sP,children:w.jsxs(ID,{mapContainerStyle:rP,center:i||Zl,zoom:14,children:[i&&w.jsx(mg,{position:i,icon:{url:"https://maps.google.com/mapfiles/ms/icons/blue-dot.png"}}),t.map(S=>w.jsx(mg,{position:S.location,onClick:()=>l(S),icon:{url:"https://maps.google.com/mapfiles/ms/icons/red-dot.png"}},S.id)),a&&w.jsx(qw,{position:a.location,onCloseClick:()=>l(null),children:w.jsxs("div",{className:"info-window",children:[w.jsx("h3",{children:a.name}),w.jsx("p",{children:a.address}),w.jsxs("p",{children:[w.jsx("strong",{children:"Contact:"})," ",a.contact]}),w.jsxs("p",{children:[w.jsx("strong",{children:"Hours:"})," ",a.hours]}),w.jsx("button",{className:"directions-btn",children:"Get Directions"})]})})]})})}),w.jsxs("div",{className:"blood-banks-list",children:[w.jsx("h2",{children:"Available Blood Banks"}),c?w.jsx("p",{children:"Loading blood banks..."}):w.jsx("div",{className:"banks-grid",children:t.map(S=>w.jsxs("div",{className:"bank-card",children:[w.jsx("h3",{children:S.name}),w.jsx("p",{className:"address",children:S.address}),w.jsxs("p",{className:"contact",children:[w.jsx("strong",{children:"Contact:"})," ",S.contact]}),w.jsxs("p",{className:"hours",children:[w.jsx("strong",{children:"Hours:"})," ",S.hours]}),w.jsx("button",{className:"view-on-map-btn",onClick:()=>l(S),children:"View on Map"})]},S.id))})]})]})},oP=()=>w.jsxs(B1,{children:[w.jsx(Y1,{}),w.jsxs(m1,{children:[w.jsx(Js,{path:"/BloodDonation/",element:w.jsx(X1,{})}),w.jsx(Js,{path:"/register",element:w.jsx(uD,{})}),w.jsx(Js,{path:"/find-donors",element:w.jsx(cD,{})}),w.jsx(Js,{path:"/request-blood",element:w.jsx(mD,{})}),w.jsx(Js,{path:"/blood-requests",element:w.jsx(vD,{})}),w.jsx(Js,{path:"/findcenter",element:w.jsx(aP,{})})]})]});AA.createRoot(document.getElementById("root")).render(w.jsx(y.StrictMode,{children:w.jsx(oP,{})}));
